(function(){var t={6700:function(t,e,s){var i={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4592,"./tr.js":4592,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function n(t){var e=a(t);return s(e)}function a(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=a,t.exports=n,n.id=6700},9111:function(t,e,s){"use strict";var i=s(6369),n=function(){var t=this,e=t._self._c;return e("div",{class:{embed:t.isEmbed},attrs:{id:"app"}},[t.loading?e("loading",{attrs:{message:t.loadingMessage}}):t.error?[e("div",{staticClass:"app-error"},[t.$store.state.api?e("img",{attrs:{src:t.$store.state.api.admin_static_url+"/images/foxes/fox-sleeping.svg",alt:"Error fox"}}):t._e(),e("h3",{staticClass:"md-display-1"},[t._v(t._s(t.errorHeading))]),e("p",[t._v(t._s(t.errorIntro)+" "+t._s(t.errorMessage))]),t.errorMessage&&-1!==t.errorMessage.indexOf("SyntaxError")?[e("p",[t._v(t._s(t.errorGuidesText)+" "),e("a",{attrs:{href:"https://simplyscheduleappointments.com/guides/plugin-detective-for-plugin-conflicts/",target:"_blank"}},[t._v(t._s(t.errorGuidesLinkLabel))])]),t.errorResponse?[e("md-button",{staticClass:"md-warn md-raised",on:{click:function(e){t.showErrorResponse=!t.showErrorResponse}}},[t._v(t._s(t.errorDetails))]),t.showErrorResponse?e("pre",[t._v(t._s(t.errorResponse))]):t._e()]:t._e()]:t._e()],2)]:[t.isEmbed?t._e():e("md-button",{staticClass:"md-fab md-primary md-fab-top-left md-mini",attrs:{href:t.$store.state.api.admin_url,"md-theme":"blue-grey"}},[e("md-icon",[t._v("arrow_back")]),e("span",{staticClass:"screen-reader-text"},[t._v(t._s(t.towp))]),e("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.towp))])],1),e("transition-group",{staticClass:"fade-wrapper",attrs:{name:"fade",tag:"div"}},["Hello"!==t.router.currentRoute.name?e("div",{key:"header",staticClass:"app-header"},[e("img",{attrs:{alt:"Simply Schedule Appointments",src:t.$store.state.api.admin_static_url+"/images/logo-ssa.svg"}})]):t._e(),e("router-view",{key:"view"})],1)]],2)},a=[],o=s(3822);const r=[{field:"Name",display:!0,required:!0,icon:"face"},{field:"Email",display:!0,required:!0,icon:"email"},{field:"Phone",display:!1,required:!1,icon:"phone"},{field:"Address",display:!1,required:!1,icon:"place"},{field:"City",display:!1,required:!1,icon:"place"},{field:"State",display:!1,required:!1,icon:"place"},{field:"Zip",display:!1,required:!1,icon:"place"},{field:"Notes",display:!1,required:!1,icon:"assignment"}],l=[{field:"Name",display:!0,required:!0,type:"single-text",icon:"face",values:""},{field:"Email",display:!0,required:!0,type:"single-text",icon:"email",values:""}],p={id:"",color:"light-green",name:""},d={field:"",display:!0,required:!1,type:"single-text",icon:"",values:""},c=["single-text","multi-text","checkboxes","radios","phone"],m=[{field:"admin",send:!0},{field:"customer",send:!0}],u=["appointment_booked","appointment_customer_information_edited","appointment_canceled"],h=["appointment_booked","appointment_customer_information_edited","appointment_canceled","appointment_start_date"],g=["{{admin_email}}","{{customer_email}}"],_=["{{admin_email}}","{{customer_email}}","{{team_member_email}}"],f=["admin_email","instructions","Appointment.AppointmentType.title","Appointment.web_meeting_url","Appointment.web_meeting_password","Appointment.customer_information_summary","Appointment.date_timezone","Appointment.customer_timezone","Appointment.public_edit_url","Appointment.customer_start_date","Appointment.business_start_date","location","customer_name","customer_email","attendees_list","Global.home_url","Global.company_name","Global.timezone_string","booking_url","booking_title","booking_post_id","team_member_email","team_member_name","refund_policy","add_to_calendar_link.ics","add_to_calendar_link.gcal","cancelation_note","canceled_by_name","rescheduling_note","rescheduled_by_name"],y={notification_type:[],appointment_type:[],trigger:[],sent_to:[]},v=["booked","pending_payment","pending_form","canceled","abandoned"],b=["pending_payment","pending_form"],k={time:"upcoming",appointment_type_label_id:[],appointment_type_id:[],status:["booked","canceled","pending_payment","pending_form"],staff:[],date_range_min:null,date_range_max:null,search:""},C=Object.freeze({title:"Consultation Phone Call",duration:"30",label:"",label_id:"1",booking_layout:"week",availability_increment:30,availability_type:"available_blocks",availability:{Monday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Tuesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Wednesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Thursday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Friday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Saturday:[],Sunday:[]},availability_end_date:null,availability_start_date:null,booking_end_date:"",booking_start_date:"",capacity:1,capacity_type:"individual",timezone_style:"localized",buffer_before:"0",buffer_after:"0",max_event_count:"0",min_booking_notice:1440..toString(),max_booking_notice:525600..toString(),customer_information:[],notifications:[],google_calendar_booking:"",google_calendars_availability:[],payment_required:"none",shared_calendar_event:1,staff:{required:"",assignment:"random"},staff_ids:[],has_max_capacity:0,web_meetings:{provider:"",url:""}}),S=Object.freeze({required:"",assignment:"random"}),w=Object.freeze({duration:"",label:"",label_id:"",availability_increment:null,availability:{},availability_end_date:null,availability_start_date:null,buffer_before:"",buffer_after:"",max_event_count:"",min_booking_notice:null,customer_information:[],notifications:[],google_calendar_booking:"",google_calendars_availability:[],mailchimp:{}}),T=Object.freeze({accent_color:"rgba(85, 139, 47, 1)",background:"rgba(255, 255, 255, 1)",contrast:!1,font:"Roboto",padding:"1rem",css:""}),x=["Arial","Arial Black","Courier New","Georgia","Helvetica","Tahoma","Times New Roman","Trebuchet MS","Verdana"],A=["appointment_booked","appointment_canceled","appointment_edited"],P=[{code:"AUD",number:"036",digits:2,currency:"Australian Dollar",min:.5,countries:["Australia","Christmas Island","Cocos (Keeling) Islands (The)","Heard Island And Mcdonald Islands","Kiribati","Nauru","Norfolk Island","Tuvalu"]},{code:"BRL",number:"986",digits:2,currency:"Brazilian Real",min:.5,countries:["Brazil"]},{code:"CAD",number:"124",digits:2,currency:"Canadian Dollar",min:.5,countries:["Canada"]},{code:"CZK",number:"203",digits:2,currency:"Czech Koruna",min:15,countries:["Czechia"]},{code:"DKK",number:"208",digits:2,currency:"Danish Krone",min:2.5,countries:["Denmark","Faroe Islands (The)","Greenland"]},{code:"EUR",number:"978",digits:2,currency:"Euro",min:.5,countries:["Andorra","Austria","Belgium","Cyprus","Estonia","European Union","Finland","France","French Guiana","French Southern Territories (The)","Germany","Greece","Guadeloupe","Holy See (The)","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Martinique","Mayotte","Monaco","Montenegro","Netherlands (The)","Portugal","Réunion","Saint Barthélemy","Saint Martin (French Part)","Saint Pierre And Miquelon","San Marino","Slovakia","Slovenia","Spain","Åland Islands"]},{code:"HKD",number:"344",digits:2,currency:"Hong Kong Dollar",min:4,countries:["Hong Kong"]},{code:"ILS",number:"376",digits:2,currency:"New Israeli Sheqel",min:5,countries:["Israel"]},{code:"JPY",number:"392",digits:0,currency:"Japanese Yen",min:50,countries:["Japan"]},{code:"MYR",number:"458",digits:2,currency:"Malaysian Ringgit",min:2,countries:["Malaysia"]},{code:"MXN",number:"484",digits:2,currency:"Mexican Peso",min:10,countries:["Mexico"]},{code:"NOK",number:"578",digits:2,currency:"Norwegian Krone",min:3,countries:["Bouvet Island","Norway","Svalbard And Jan Mayen"]},{code:"NZD",number:"554",digits:2,currency:"New Zealand Dollar",min:.5,countries:["Cook Islands (The)","New Zealand","Niue","Pitcairn","Tokelau"]},{code:"PHP",number:"608",digits:2,currency:"Philippine Piso",min:5,countries:["Philippines (The)"]},{code:"PLN",number:"985",digits:2,currency:"Zloty",min:2,countries:["Poland"]},{code:"GBP",number:"826",digits:2,currency:"Pound Sterling",min:.3,countries:["Guernsey","Isle Of Man","Jersey","United Kingdom Of Great Britain And Northern Ireland (The)"]},{code:"SGD",number:"702",digits:2,currency:"Singapore Dollar",min:.5,countries:["Singapore"]},{code:"SEK",number:"752",digits:2,currency:"Swedish Krona",min:3,countries:["Sweden"]},{code:"CHF",number:"756",digits:2,currency:"Swiss Franc",min:.5,countries:["Liechtenstein","Switzerland"]},{code:"THB",number:"764",digits:2,currency:"Baht",min:10,countries:["Thailand"]},{code:"USD",number:"840",digits:2,currency:"US Dollar",min:.5,countries:["American Samoa","Bonaire, Sint Eustatius And Saba","British Indian Ocean Territory (The)","Ecuador","El Salvador","Guam","Haiti","Marshall Islands (The)","Micronesia (Federated States Of)","Northern Mariana Islands (The)","Palau","Panama","Puerto Rico","Timor-Leste","Turks And Caicos Islands (The)","United States Minor Outlying Islands (The)","United States Of America (The)","Virgin Islands (British)","Virgin Islands (U.S.)"]}],D="https://dashboard.stripe.com/payments/",M=[{locale:"da_DK",title:"Danish",title_localized:"Dansk"},{locale:"nl_NL",title:"Dutch",title_localized:"Nederlands"},{locale:"nl_BE",title:"Dutch (Belgium)",title_localized:"Nederlands (België)"},{locale:"de_DE",title:"German",title_localized:"Deutsch"},{locale:"de_DE_formal",title:"German (Formal)",title_localized:"Deutsch (Sie)"},{locale:"de_CH",title:"German (Switzerland)",title_localized:"Deutsch (Schweiz)"},{locale:"de_CH_informal",title:"German (Switzerland, Informal)",title_localized:"Deutsch (Schweiz, Du)"},{locale:"en_GB",title:"English (UK)",title_localized:"English (UK)"},{locale:"et",title:"Estonian",title_localized:"Eesti"},{locale:"hu_HU",title:"Hungarian",title_localized:"Magyar"},{locale:"es_ES",title:"Spanish (Spain)",title_localized:"Español"},{locale:"sl_SI",title:"Slovenian",title_localized:"Slovenščina"},{locale:"es_MX",title:"Spanish (Mexico)",title_localized:"Español de México"},{locale:"es_VE",title:"Spanish (Venezuela)",title_localized:"Español de Venezuela"},{locale:"sv_SE",title:"Swedish",title_localized:"Svenska"},{locale:"fr_FR",title:"French (France)",title_localized:"Français"},{locale:"it_IT",title:"Italian (Italy)",title_localized:"Italiano"},{locale:"pl_PL",title:"Polish",title_localized:"Polski"},{locale:"pt_BR",title:"Portuguese (Brazil)",title_localized:"Português do Brasil"},{locale:"pt_PT",title:"Portuguese (Portugal)",title_localized:"Português"},{locale:"ru_RU",title:"Russian",title_localized:"Русский"},{locale:"tr_TR",title:"Turkish",title_localized:"Türkçe"},{locale:"ja",title:"Japanese",title_localized:"日本語"},{locale:"hr",title:"Croatian",title_localized:"Hrvatski"},{locale:"el",title:"Greek",title_localized:"Ελληνικά"},{locale:"sk_SK",title:"Slovak",title_localized:"Slovenčina"},{locale:"nb_NO",title:"Norwegian",title_localized:"Norsk bokmål"},{locale:"is_IS",title:"Icelandic",title_localized:"Íslenska"},{locale:"cs_CZ",title:"Czech",title_localized:"Čeština"},{locale:"lt_LT",title:"Lithuanian",title_localized:"Lietuvių kalba"}],E=["minutes","hours","days","weeks"],L={appointment_types:[],blackout_dates:{dates:[]},capacity:0,custom_working_hours:0,display_name:"",display_order:1,email:"",manages_blackout_dates:0,manages_working_hours:0,name:"",status:"publish",timezone:"",user_id:0,visibility:"public",working_hours:{Monday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Tuesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Wednesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Thursday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Friday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Saturday:[],Sunday:[]}},O=["individual","group"],$="YYYY-MM-DD",I=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61"],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1"],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599"],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61"],["Cocos (Keeling) Islands","cc","61"],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599"],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1"],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358"],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590"],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44"],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39"],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44"],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7"],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262"],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212"],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47"],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1"],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262"],["Romania (România)","ro","40"],["Russia (Россия)","ru","7"],["Rwanda","rw","250"],["Saint Barthélemy","bl","590"],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590"],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44"],["United States","us","1"],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39"],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212"],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358"]],N=I.map((([t,e,s])=>({name:t,iso2:e.toUpperCase(),dialCode:s}))),j=["PST","PDT","MST","MDT","CST","CDT","EST","EDT","US/Pacific-New","EST5EDT","CST6CDT","MST7MDT","PST8PDT","Etc/UTC"],z={default:395,appointment_types:{edit:345,capacity:347,staff:346,advanced_scheduling_enabled:348,google_calendar_enabled:351,web_meetings_enabled:350,web_meetings_google_calendar:387,web_meetings_zoom:388,mailchimp_enabled:389,webhooks_enabled:390,customer_information:391},google_calendar:{enabled:362,account_activated:363},notifications:{list:357,edit:377,sms:359,sms_enabled:358,staff_enabled:393},payments:{all:369,paypal_enabled:371,stripe_enabled:370},support_ticket:{default:412,email:398,scheduled_event:399,twig:400,translation:401,connection_lost:402,loading:403,missing:404,400:405,google:406,hippa:407,gdpr:408,captcha:409},teams:{list:375,edit:376},appointment_details:343,appointment_details_payments_enabled:392,advanced_scheduling_options:361,blackout:360,developer_jobs:380,developer_settings:379,general:354,import_export:378,mailchimp:364,paypal:373,settings:{list:352,license_enabled:353},stripe:372,styles:355,support:381,tracking:374,translations:356,webhooks:367,zoom:365},U={email:["email","notifications","emails","SMTP","mail","confirmation","message"],scheduled_event:["scheduled event","scheduled events","cron","late"],twig:["twig","merge tag","token","syntax"],translation:["translation","translate","language","du","sie","multi-lingual","multilingual","pack"],connection_lost:["connection lost","load","lost connection","not loading","spin","communicating"],loading:["loading","time to load","loading time","performance","slow","seconds"],missing:["missing","won't show","doesn't show","availability","not showing","available","aren't available"],400:["400","OAuth","OAuth 2.0 Policy","redirect_uri_mismatch","redirect uri","google API","Authorization Error","google cloud","unauthorized"],google:["google","block","blocking","conflict","sync","not syncing"],hipaa:["hipaa","hippa","associate business agreement","business associate agreement","encrypt"],gdpr:["gdpr","privacy policy","data protection","data processing"],captcha:["captcha","spam"]},B={durationUnits:[{value:"minutes",text:"Minutes",singular:"Minute"},{value:"hours",text:"Hours",singular:"Hour"},{value:"days",text:"Days",singular:"Day"},{value:"weeks",text:"Weeks",singular:"Week"}],colors:[{value:"red",text:"Red"},{value:"pink",text:"Pink"},{value:"purple",text:"Purple"},{value:"deep-purple",text:"Deep Purple"},{value:"indigo",text:"Indigo"},{value:"blue",text:"Blue"},{value:"light-blue",text:"Light Blue"},{value:"cyan",text:"Cyan"},{value:"teal",text:"Teal"},{value:"green",text:"Green"},{value:"light-green",text:"Light Green"},{value:"lime",text:"Lime"},{value:"yellow",text:"Yellow"},{value:"amber",text:"Amber"},{value:"orange",text:"Orange"},{value:"deep-orange",text:"Deep Orange"},{value:"brown",text:"Brown"},{value:"grey",text:"Grey"},{value:"blue-grey",text:"Blue Grey"}],dateFormats:[{php:"F j, Y",js:"MMMM D, YYYY"},{php:"j F Y",js:"D MMMM YYYY"},{php:"Y-m-d",js:"YYYY-MM-DD"},{php:"m/d/Y",js:"MM/DD/YYYY"},{php:"d/m/Y",js:"DD/MM/YYYY"},{php:"l, F jS, Y",js:"dddd, MMMM Do, YYYY"},{php:"M j, Y",js:"MMM D, YYYY"}],timeFormats:[{php:"g:i a",js:"h:mm a"},{php:"g:i A",js:"h:mm A"},{php:"H:i",js:"HH:mm"},{php:"G:i",js:"H:mm"},{php:"g:ia",js:"h:mma"},{php:"g:iA",js:"h:mmA"}],availabilityTimeIncrements:[10,15,20,30,60],bookingLayouts:["week","month"]};var F=s(2631),G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hello"},[t._m(0),e("div",{staticClass:"content-wrap"},[e("h1",{staticClass:"md-display-2"},[t._v(t._s(t.translations.hello.headline))]),e("p",{staticClass:"md-headline"},[t._v(t._s(t.translations.hello.subhead))]),e("div",{staticClass:"button-bar transparent"},[t.settings.installed.license?e("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/wizard/license"}},[t._v(t._s(t.translations.hello.accept))]):e("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/wizard/review"}},[t._v(t._s(t.translations.hello.accept))])],1),e("div",{staticClass:"button-bar transparent"},[e("router-link",{staticClass:"md-primary",attrs:{to:"/ssa",tag:"md-button"},nativeOn:{click:function(e){return t.updateWizard.apply(null,arguments)}}},[t._v(t._s(t.translations.hello.decline))])],1),e("img",{attrs:{src:t.$store.state.api.admin_static_url+"/images/foxes/fox-sitting-tail-up.svg"}})])])},W=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"cloud-wrap"},[e("div",{staticClass:"cloud-1"},[e("div",{staticClass:"cloud"})]),e("div",{staticClass:"cloud-2"},[e("div",{staticClass:"cloud"})]),e("div",{staticClass:"cloud-3"},[e("div",{staticClass:"cloud"})]),e("div",{staticClass:"cloud-4"},[e("div",{staticClass:"cloud"})]),e("div",{staticClass:"cloud-5"},[e("div",{staticClass:"cloud"})])])}],R=s(2864),H=s.n(R),q={name:"helloWizard",store:Ek,data(){return{moment:H()}},beforeMount(){this.currentUserCan("ssa_manage_site_settings")&&this.currentUserCan("ssa_manage_appointment_types")||this.$router.push("/ssa"),this.settings.global.wizard_completed&&this.$router.push("/ssa")},mounted(){this.settings.global.wizard_completed||this.saveTimezone()},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)(["detectedTimezone"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{saveTimezone:function(){this.settings.global.timezone_string&&this.detectedTimezone===this.settings.global.timezone_string||(this.updateTimezoneString({settings:this.settings,value:this.detectedTimezone}),this.updateGlobalSettings())},updateWizard(){this.updateWizardCompleted({settings:this.settings,value:H().utc().format(this.timestampFormat)}),this.updateGlobalSettings()},...(0,o.OI)("global_settings",["updateTimezoneString","updateWizardCompleted"]),...(0,o.nv)("global_settings",["updateGlobalSettings"])}},Z=q,K=s(1001),V=(0,K.Z)(Z,G,W,!1,null,"9ae230ca",null),Y=V.exports,J=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings view-container"},[t.currentUserHasNav?e("md-sidenav",{ref:"leftSidenav",staticClass:"md-left"},[e("settings-sidenav")],1):t._e(),t.showErrorBanner?e("errors-banner",{attrs:{errors:t.errorNotices}}):t._e(),t.showBanner?e("md-layout",[e("md-layout",[e("md-whiteframe",{staticClass:"banner",attrs:{"md-elevation":1}},[e("div",{staticClass:"md-subheading"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),t._v(" "+t._s(t.translations.errors.noAppointmentTypes)+" ")],1),e("md-button",{staticClass:"md-raised md-primary",on:{click:t.addAppointmentType}},[t._v(" "+t._s(t.translations.appointmentTypes.actions.create)+" ")])],1)],1)],1):t._e(),t.showLicenseBanner?e("md-layout",{staticClass:"invalid-license-banner"},[e("md-layout",[e("md-whiteframe",{staticClass:"banner",attrs:{"md-elevation":1}},[e("div",{staticClass:"md-subheading"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),t._v(" "+t._s(t.getLicenseBannerText)+" ")],1),e("md-button",{staticClass:"md-raised md-primary",on:{click:t.handleInvalidLicenseNavigation}},[t._v(" "+t._s(t.getLicenseBannerBtnText)+" ")])],1)],1)],1):t._e(),e("md-layout",{staticClass:"page-layout",attrs:{"md-gutter":24}},[e("md-layout",{staticClass:"main-settings-col",attrs:{"md-column":""}},[e("md-toolbar",{staticClass:"md-primary"},[t.currentUserHasNav?e("md-button",{staticClass:"md-icon-button",class:{"md-dense":t.isBasic},on:{click:t.toggleLeftSidenav}},[e("md-icon",[t._v("menu")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.openNavigation)+" ")])],1):t._e(),t.currentUserCan("ssa_manage_appointments")||t.currentUserCan("ssa_manage_others_appointments")?e("router-link",{staticClass:"ssa-menu",class:{"md-dense":t.isBasic},attrs:{tag:"md-button",to:"/ssa/appointments"}},[e("md-icon",[t._v("schedule")]),e("span",[t._v(t._s(t.translations.settings.appointmentsTitle))])],1):t._e(),t.currentUserCan("ssa_manage_appointment_types")?e("router-link",{staticClass:"ssa-menu",class:{"md-dense":t.isBasic},attrs:{tag:"md-button",to:"/ssa/appointment-types"}},[e("md-icon",[t._v("view_list")]),e("span",[t._v(t._s(t.translations.settings.appointmentTypesTitle))])],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("router-link",{staticClass:"ssa-menu",class:{"md-dense":t.isBasic},attrs:{tag:"md-button",to:"/ssa/settings"}},[e("md-icon",[t._v("settings_applications")]),e("span",[t._v(t._s(t.translations.settings.settingsTitle))])],1):t._e(),t.currentUserCan("ssa_manage_site_settings")&&t.supportModule.installed?e("router-link",{staticClass:"ssa-menu",class:{"md-dense":t.isBasic},attrs:{tag:"md-button",to:"/ssa/support"}},[e("md-icon",[t._v("help")]),t._v(" "+t._s(t.translations.support.supportTitle)+" ")],1):t._e(),t.currentUserCan("ssa_manage_site_settings")&&t.isBasic?e("md-button",{staticClass:"ssa-menu",class:{"md-dense":t.isBasic},attrs:{href:t.allEditionsUrlParsed(t.allEditionsParams),target:"_blank"}},[e("md-icon",[t._v("upload")]),t._v(" "+t._s(t.translations.settings.upgrade)+" ")],1):t._e(),t.currentUserIsStaff?e("router-link",{staticClass:"ssa-menu",class:{"md-dense":t.isBasic},attrs:{tag:"md-button",to:"/ssa/settings/staff/profile/"+t.currentUserStaffId}},[e("md-icon",[t._v("account_circle")]),t._v(" "+t._s(t.translations.settings.staff.profile)+" ")],1):t._e()],1),e("md-whiteframe",{staticClass:"settings-whiteframe",attrs:{"md-elevation":1}},[t.currentUserHasPermissions?[t.loading?e("loading",{attrs:{message:t.translations.settings.loadingApptTypes}}):e("router-view",{key:"settings"})]:e("no-permission")],2)],1),e("md-layout",{staticClass:"side-settings-col",attrs:{"md-column":""}},[e("support-guides"),t.displayNotice?e("sidebar-notices"):t._e()],1)],1)],1)},X=[],Q=(s(6699),function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-loading",class:t.size},[e("md-spinner",{staticClass:"app-spinner",attrs:{"md-size":t.spinnerSize,"md-indeterminate":""}}),e("h3",{class:t.textClass},[t._v(" "+t._s(t.message)+"… ")])],1)}),tt=[],et={name:"loadingElement",props:{message:String,size:{type:String,default:"one"}},data(){return{}},computed:{textClass(){switch(this.size){case"one":return"md-display-1";case"title":return"md-title";case"body":return"md-body-1";default:return"md-display-1"}},spinnerSize(){switch(this.size){case"one":return 50;case"title":return 50;case"body":return 20;default:return 50}}}},st=et,it=(0,K.Z)(st,Q,tt,!1,null,null,null),nt=it.exports,at=function(){var t=this,e=t._self._c;return e("div",[e(t.noticeToDisplay,{tag:"component",on:{clearAd:t.dismissNotice}})],1)},ot=[],rt=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[e("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-plus.svg",alt:"Simply Schedule Appointments Plus"}})])],1),e("md-card-header",[e("div",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),e("strong",[t._v("Plus")])])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.plusText))]),e("ul",[e("li",[t._v(t._s(t.translations.promo.plusTextBullets.google))]),e("li",[t._v(t._s(t.translations.promo.plusTextBullets.customFields))]),e("li",[t._v(t._s(t.translations.promo.plusTextBullets.classes))]),e("li",[t._v(t._s(t.translations.promo.plusTextBullets.reminders))])])]),e("md-card-actions",[e("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed(t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.view)+" ")]),e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.upgrade)+" ")])],1)],1)],1)},lt=[];const pt="https://simplyscheduleappointments.com/?edd_action=add_to_cart&download_id=754&edd_options%5Bprice_id%5D=1",dt="https://simplyscheduleappointments.com/?edd_action=add_to_cart&download_id=756&edd_options%5Bprice_id%5D=1",ct="https://simplyscheduleappointments.com/?edd_action=add_to_cart&download_id=672&edd_options%5Bprice_id%5D=1&discount=PREORDERBUSINESS",mt="https://simplyscheduleappointments.com/2021/07/08/zoom-web-meetings-how-to-schedule/",ut="https://simplyscheduleappointments.com/guides/sms-notifications/",ht="https://simplyscheduleappointments.com/pricing/",gt="https://simplyscheduleappointments.com/guides/gravity-forms-appointment-field/";var _t={name:"PromoPlus",store:Ek,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"general-plus-sidebar"}}}},data(){return{slug:"promo-plus",plusUpgradeLink:pt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed","allEditionsUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},ft=_t,yt=(0,K.Z)(ft,rt,lt,!1,null,null,null),vt=yt.exports,bt=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:"https://simplyscheduleappointments.com/features",target:"_blank"}},[e("img",{staticClass:"promo-img promo-pro",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-pro.svg",alt:"Simply Schedule Appointments Pro"}})])],1),e("md-card-header",[e("h2",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),e("strong",[t._v("Pro")])])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[t.proText?e("p",[t._v(t._s(t.proText))]):t._e(),t.proText?t._e():e("p",[t._v(t._s(t.translations.promo.proTextSideBar))]),e("ul",[e("li",[t._v(t._s(t.translations.promo.proTextBullets.payments))]),e("li",[t._v(t._s(t.translations.promo.proTextBullets.reminders))]),e("li",[t._v(t._s(t.translations.promo.proTextBullets.tracking))]),e("li",[t._v(t._s(t.translations.promo.proTextBullets.webhooks))])])]),e("md-card-actions",[e("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed(t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.proTextCta.view)+" ")]),e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.proUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.proTextCta.upgrade)+" ")])],1)],1)],1)},kt=[],Ct={name:"PromoPro",store:Ek,props:{proText:{type:String,default:""},dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"pro-features",utm_content:"general-pro-sidebar"}}}},data(){return{slug:"promo-pro",proUpgradeLink:dt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed","allEditionsUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},St=Ct,wt=(0,K.Z)(St,bt,kt,!1,null,null,null),Tt=wt.exports,xt=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[e("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upgrade-zoom.svg",alt:"Schedule Zoom Meetings with Simply Schedule Appointments"}})])],1),e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.zoomUpgrade.title))])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.zoomUpgrade.text))]),e("ul",[e("li",[t._v(t._s(t.translations.promo.plusTextBullets.google))]),e("li",[t._v(t._s(t.translations.promo.plusTextBullets.customFields))]),e("li",[t._v(t._s(t.translations.promo.plusTextBullets.capacity))])])]),e("md-card-actions",[e("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed(t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.view)+" ")]),e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.upgrade)+" ")])],1)],1)],1)},At=[],Pt={name:"PromoZoomUpgrade",store:Ek,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"zoom",utm_content:"zoom-plus-sidebar"}}}},data(){return{slug:"promo-zoom-upgrade",plusUpgradeLink:pt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed","allEditionsUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},Dt=Pt,Mt=(0,K.Z)(Dt,xt,At,!1,null,null,null),Et=Mt.exports,Lt=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:"https://simplyscheduleappointments.com/features",target:"_blank"}},[e("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upgrade-zoom.svg",alt:"Schedule Zoom Meetings with Simply Schedule Appointments"}})])],1),e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.zoomAnnounce.title))])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.zoomAnnounce.text))])]),e("md-card-actions",[e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.zoomGuide,t.zoomParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.zoomAnnounce.cta)+" ")])],1)],1)],1)},Ot=[],$t={name:"PromoZoomAnnounce",store:Ek,props:{dismissable:{default:!0},zoomParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_term:"zoom",utm_content:"zoom-sidebar-setup"}}}},data(){return{slug:"promo-zoom-announce",zoomGuide:mt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},It=$t,Nt=(0,K.Z)(It,Lt,Ot,!1,null,null,null),jt=Nt.exports,zt=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.promo.dismissNotice)+" ")])],1):t._e(),e("a",{attrs:{href:t.smsUrl,target:"_blank"}},[e("img",{staticClass:"promo-img promo-sms",attrs:{src:t.api.admin_static_url+"/images/promo-sms.svg",alt:"Simply Schedule Appointments SMS Reminders"}})])],1),e("md-card-header",[e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.promo.smsSetup.title)+" ")]),e("p",{staticClass:"md-subhead"},[t._v(" "+t._s(t.translations.promo.smsSetup.text)+" ")])]),e("md-card-expand",{attrs:{id:"to-do-list-content"}},[e("md-card-actions",[e("span",{staticStyle:{flex:"1"}}),e("md-button",{staticClass:"no-animation",attrs:{"md-expand-trigger":""},on:{click:t.handleClickForPinnedNotice}},[t._v(" "+t._s(t.translations.promo.smsSetup.viewInstructions)+" "),e("md-icon",[t._v("keyboard_arrow_down")])],1)],1),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("dl",{staticClass:"to-do-list"},[e("dt",[e("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.smsEnabled))]),t._v(" "+t._s(t.translations.promo.smsSetup.instructionsBullets.enable.title)+" ")],1),e("dd",[e("span",{domProps:{innerHTML:t._s(t.enableSmsDescription)}})]),e("dt",[e("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.twilioSetup))]),t._v(" "+t._s(t.translations.promo.smsSetup.instructionsBullets.setupTwilio.title)+" ")],1),e("dd",[e("span",{domProps:{innerHTML:t._s(t.setupTwilioDescription)}})]),e("dt",[e("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.adminPhone))]),t._v(" "+t._s(t.translations.promo.smsSetup.instructionsBullets.addPhoneNumber.title)+" ")],1),e("dd",[e("span",{domProps:{innerHTML:t._s(t.addPhoneNumberDescription)}})]),e("dt",[e("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.phoneFields))]),t._v(" "+t._s(t.translations.promo.smsSetup.instructionsBullets.phoneFields.title)+" ")],1),e("dd",[e("span",{domProps:{innerHTML:t._s(t.phoneFieldsDescription)}})]),e("dt",[e("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.smsNotification))]),t._v(" "+t._s(t.translations.promo.smsSetup.instructionsBullets.smsNotification.title)+" ")],1),e("dd",[e("span",{domProps:{innerHTML:t._s(t.smsNotificationDescription)}})])]),e("p",[e("span",{domProps:{innerHTML:t._s(t.moreDetails)}})])])],1)],1)],1)},Ut=[],Bt=s(5410),Ft=s.n(Bt);const Gt=s(1067).sprintf;var Wt={name:"SupportSetupSMS",props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_term:"sms",utm_content:"sms_sidebar_setup"}}}},data(){return{slug:"support-setup-sms"}},mounted(){document.querySelectorAll(".localRoute").forEach((t=>{t.addEventListener("click",this.linkClickHandler)}))},beforeDestroy(){document.querySelectorAll(".localRoute").forEach((t=>{t.removeEventListener("click",this.linkClickHandler)}))},computed:{smsEnabled(){return this.settings.sms.enabled?"check_box":"check_box_outline_blank"},twilioSetup(){return this.settings.sms.authorized_date?"check_box":"check_box_outline_blank"},adminPhone(){return this.settings.global.admin_phone?"check_box":"check_box_outline_blank"},phoneFields(){return this.phoneAppointmentTypes&&this.phoneAppointmentTypes.length?"check_box":"check_box_outline_blank"},smsNotification(){let t=this.settings.notifications.notifications.filter((t=>"sms"===t.type));return t.length?"check_box":"check_box_outline_blank"},smsUrl(){const t=ut.split("?"),e=t[0];let s=t.length>1?Ft().parse(t[1]):{};return s=Object.assign(s,this.upgradeUrlParams),`${e}?${Ft().stringify(s)}`},enableSmsDescription(){return Gt(this.translations.promo.smsSetup.instructionsBullets.enable.description,'<a class="localRoute link" href="#/ssa/settings/notifications/list" data-href="/ssa/settings/notifications/list">',"</a>")},setupTwilioDescription(){return Gt(this.translations.promo.smsSetup.instructionsBullets.setupTwilio.description,'<a class="link" href="https://www.twilio.com/console/project/settings" target="_blank">',"</a>",'<a class="localRoute link" href="#/ssa/settings/notifications/sms" data-href="/ssa/settings/notifications/sms">',"</a>")},addPhoneNumberDescription(){return Gt(this.translations.promo.smsSetup.instructionsBullets.addPhoneNumber.description,'<a class="localRoute link" href="#/ssa/settings/general" data-href="/ssa/settings/general">',"</a>")},phoneFieldsDescription(){return Gt(this.translations.promo.smsSetup.instructionsBullets.phoneFields.description,'<a class="localRoute link" href="#/ssa/appointment-types/edit/customerInfo" data-href="/ssa/appointment-types/edit/customerInfo">',"</a>")},smsNotificationDescription(){return Gt(this.translations.promo.smsSetup.instructionsBullets.smsNotification.description,'<a class="localRoute link" href="#/ssa/settings/notifications/list" data-href="/ssa/settings/notifications/list">',"</a>")},moreDetails(){return Gt(this.translations.promo.smsSetup.moreDetails,'<a class="link" href="'+this.smsUrl+'" target="_blank">',"</a>",'<a class="localRoute link" href="#/ssa/support" data-href="/ssa/support">',"</a>")},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.Se)("notifications",["phoneAppointmentTypes"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},handleClickForPinnedNotice(){setTimeout((()=>{let t=document.getElementById("to-do-list-content").classList.contains("md-active");t?this.maybeSaveNoticeAsPinned(this.slug):this.maybeUnpinNotice(this.slug)}),150,this.maybeSaveNoticeAsPinned,this.maybeUnpinNotice,this.slug)},linkClickHandler(t){t.preventDefault(),this.linkTo(t)},linkTo(t){if(t.target.dataset?.href){if(this.$router.currentRoute.path===t.target.dataset.href)return;if("/ssa/support"===t.target.dataset.href&&"/ssa/support/help"===this.$router.currentRoute.path)return;this.$router.push(t.target.dataset.href)}},...(0,o.nv)("notices",["maybeSaveNoticeAsPinned","maybeUnpinNotice"])}},Rt=Wt,Ht=(0,K.Z)(Rt,zt,Ut,!1,null,null,null),qt=Ht.exports,Zt=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[e("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/promo-gravity-forms-upsell.svg",alt:""}})])],1),e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.gravityFormsUpsell.title))])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.gravityFormsUpsell.text))]),e("ul",[e("li",[t._v(t._s(t.translations.promo.gravityFormsUpsell.textBullets.features))]),e("li",[t._v(t._s(t.translations.promo.gravityFormsUpsell.textBullets.compatibility))]),e("li",[t._v(t._s(t.translations.promo.gravityFormsUpsell.textBullets.paymentOptions))]),e("li",[t._v(t._s(t.translations.promo.gravityFormsUpsell.textBullets.gravityPerks))])])]),e("md-card-actions",[e("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed(t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.view)+" ")]),e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.upgrade)+" ")])],1)],1)],1)},Kt=[],Vt={name:"gravityFormsUpsell",store:Ek,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"gravity-forms",utm_content:"gravity-forms-plus-sidebar"}}}},data(){return{slug:"gravity-forms-upsell",plusUpgradeLink:pt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed","allEditionsUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},Yt=Vt,Jt=(0,K.Z)(Yt,Zt,Kt,!1,null,null,null),Xt=Jt.exports,Qt=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:t.upgradeUrlParsed(t.proUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[e("img",{staticClass:"promo-img promo-pro",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-card-payments.svg",alt:"Get Paid for Your Time and Expertise"}})])],1),e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.paymentsUpsell.title))])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.paymentsUpsell.text))]),e("ul",[e("li",[t._v(t._s(t.translations.promo.paymentsUpsell.textBullets.markAppointment))]),e("li",[t._v(t._s(t.translations.promo.paymentsUpsell.textBullets.availability))]),e("li",[t._v(t._s(t.translations.promo.paymentsUpsell.textBullets.authentication))])])]),e("md-card-actions",[e("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed(t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.proTextCta.view)+" ")]),e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.proUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.proTextCta.upgrade)+" ")])],1)],1)],1)},te=[],ee={name:"paymentsUpsell",store:Ek,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"payments",utm_content:"payments-pro-sidebar"}}}},data(){return{slug:"payments-upsell",proUpgradeLink:dt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed","allEditionsUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},se=ee,ie=(0,K.Z)(se,Qt,te,!1,null,null,null),ne=ie.exports,ae=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[e("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-google-calendar.svg",alt:"Schedule Google Calendar Meetings with Simply Schedule Appointments"}})])],1),e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.googleCalendar.title))])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.googleCalendar.text))]),e("ul",[e("li",[t._v(t._s(t.translations.promo.googleCalendar.textBullets.checkConflicts))]),e("li",[t._v(t._s(t.translations.promo.googleCalendar.textBullets.automaticInvites))]),e("li",[t._v(t._s(t.translations.promo.googleCalendar.textBullets.generateLinks))]),e("li",[t._v(t._s(t.translations.promo.googleCalendar.textBullets.eventInfo))])])]),e("md-card-actions",[e("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed(t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.view)+" ")]),e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.upgrade)+" ")])],1)],1)],1)},oe=[],re={name:"PromoGoogleCalendar",store:Ek,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"google-calendar",utm_content:"google-calendar-sidebar"}}}},data(){return{slug:"promo-google-calendar",plusUpgradeLink:pt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed","allEditionsUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},le=re,pe=(0,K.Z)(le,ae,oe,!1,null,null,null),de=pe.exports,ce=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:t.gravityFormsGuideLink,target:"_blank"}},[e("img",{staticClass:"promo-img promo-pro",attrs:{src:t.$store.state.api.admin_static_url+"/images/promo-gravity-forms-info.svg",alt:"Gravity Forms Integration Available Now!"}})])],1),e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.gravityFormsInfo.title))])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.gravityFormsInfo.text1))]),e("p",[t._v(t._s(t.translations.promo.gravityFormsInfo.text2))])]),e("md-card-actions",[e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.gravityFormsGuideLink,t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.gravityFormsInfo.textCta)+" ")])],1)],1)],1)},me=[],ue={name:"GravityFormsInfo",store:Ek,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"support-help",utm_term:"gravity-forms",utm_content:"gravity-forms-sidebar-setup"}}}},data(){return{slug:"gravity-forms-info",gravityFormsGuideLink:gt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},he=ue,ge=(0,K.Z)(he,ce,me,!1,null,null,null),_e=ge.exports,fe={name:"SidebarNotices",components:{PromoPlus:vt,PromoPro:Tt,PromoZoomUpgrade:Et,PromoZoomAnnounce:jt,SupportSetupSms:qt,GravityFormsUpsell:Xt,PaymentsUpsell:ne,PromoGoogleCalendar:de,GravityFormsInfo:_e},computed:{...(0,o.rn)("notices",["noticeToDisplay"])},methods:{dismissNotice(t){this.clearNoticeToDisplay(),this.saveDismissedNotice(t)},...(0,o.nv)("notices",["saveDismissedNotice"]),...(0,o.OI)("notices",["clearNoticeToDisplay"])}},ye=fe,ve=(0,K.Z)(ye,at,ot,!1,null,"3d2f9c80",null),be=ve.exports,ke=function(){var t=this,e=t._self._c;return e("md-list",[t.currentUserCan("ssa_manage_appointments")||t.currentUserCan("ssa_manage_others_appointments")?e("md-list-item",[e("router-link",{attrs:{to:"/ssa/appointments"}},[e("md-icon",[t._v("schedule")]),e("span",[t._v(t._s(t.translations.settings.appointmentsTitle))])],1)],1):t._e(),t.currentUserCan("ssa_manage_appointment_types")?e("md-list-item",[e("router-link",{attrs:{to:"/ssa/appointment-types"}},[e("md-icon",[t._v("view_list")]),e("span",[t._v(t._s(t.translations.settings.appointmentTypesTitle))])],1)],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("md-list-item",[e("md-icon",[t._v("settings_applications")]),e("router-link",{attrs:{to:"/ssa/settings"}},[e("span",[t._v(t._s(t.translations.settings.settingsTitle))])]),e("md-list-expand",[e("md-list",[e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v(" "+t._s(t.translations.settings.general.title)+" ")])],1),e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/styles"}},[t._v(" "+t._s(t.translations.settings.styles.title)+" ")])],1),e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/translations"}},[t._v(" "+t._s(t.translations.settings.translations.title)+" ")])],1),e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/notifications"}},[t._v(" "+t._s(t.translations.settings.notifications.title)+" ")])],1),t.settings.blackout_dates.enabled?e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/blackout"}},[t._v(" "+t._s(t.translations.settings.blackout.title)+" ")])],1):t._e(),t.settings.advanced_scheduling.enabled?e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/advanced-scheduling"}},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.title)+" ")])],1):t._e(),t.settings.google_calendar&&t.settings.google_calendar.enabled?e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/google-calendar"}},[t._v(" "+t._s(t.translations.settings.google_calendar.title)+" ")])],1):t._e(),e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/calendar-events"}},[t._v(" "+t._s(t.translations.settings.calendar_events.card_title)+" ")])],1),t.settings.mailchimp&&t.settings.mailchimp.enabled?e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/mailchimp"}},[t._v(" "+t._s(t.translations.settings.mailchimp.title)+" ")])],1):t._e(),t.settings.webhooks&&t.settings.webhooks.enabled?e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/webhooks"}},[t._v(" "+t._s(t.translations.settings.webhooks.title)+" ")])],1):t._e(),t.settings.payments&&t.settings.payments.enabled?e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/payments"}},[t._v(" "+t._s(t.translations.settings.payments.title)+" ")])],1):t._e(),t.settings.tracking&&t.settings.tracking.enabled?e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/tracking"}},[t._v(" "+t._s(t.translations.settings.tracking.title)+" ")])],1):t._e(),t.settings.staff&&t.settings.staff.enabled&&t.currentUserCan("ssa_manage_staff")?e("md-list-item",{staticClass:"md-inset"},[e("router-link",{attrs:{to:"/ssa/settings/staff"}},[t._v(" "+t._s(t.translations.settings.staff.title)+" ")])],1):t._e()],1)],1)],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("md-list-item",[e("router-link",{attrs:{to:"/ssa/support"}},[e("md-icon",[t._v("help")]),e("span",[t._v(t._s(t.translations.support.supportTitle))])],1)],1):t._e(),t.currentUserIsStaff?e("md-list-item",[e("router-link",{attrs:{to:"/ssa/settings/staff/profile/"+t.currentUserStaffId}},[e("md-icon",[t._v("account_circle")]),e("span",[t._v(" "+t._s(t.translations.settings.staff.profile)+" ")])],1)],1):t._e(),t.currentUserCan("ssa_manage_site_settings")&&t.isBasic?e("md-list-item",{attrs:{href:t.allEditionsUrlParsed(t.allEditionsParams),target:"_blank"}},[e("md-icon",{staticStyle:{"margin-right":"32px"}},[t._v("upload")]),e("span",[t._v(t._s(t.translations.settings.upgrade))])],1):t._e()],1)},Ce=[],Se={name:"settings-sidenav",data(){return{allEditionsParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade",utm_content:"upgrade-tab"}}},computed:{isBasic(){return!this.settings.installed.license},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsStaff","currentUserStaffId"]),...(0,o.Se)(["allEditionsUrlParsed"])}},we=Se,Te=(0,K.Z)(we,ke,Ce,!1,null,null,null),xe=Te.exports,Ae=function(){var t=this,e=t._self._c;return e("empty",{attrs:{icon:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",label:t.translations.errors.noPermission,description:t.translations.errors.noPermissionDesc}})},Pe=[],De=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"empty-state"}},[e("div",{staticClass:"empty-state"},[e("div",{staticClass:"empty-state-container"},[t.icon?e("img",{staticClass:"empty-state-image",attrs:{src:t.icon}}):t._e(),t.label?e("h3",{staticClass:"empty-state-label"},[t._v(t._s(t.label))]):t._e(),t.description?e("p",{staticClass:"empty-state-description"},[t._v(t._s(t.description))]):t._e(),t._t("default")],2)])])},Me=[],Ee={name:"emptyState",props:["icon","label","description"],data(){return{}}},Le=Ee,Oe=(0,K.Z)(Le,De,Me,!1,null,null,null),$e=Oe.exports,Ie={name:"noPermission",components:{Empty:$e},data(){return{}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api"])}},Ne=Ie,je=(0,K.Z)(Ne,Ae,Pe,!1,null,null,null),ze=je.exports,Ue=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"ssa-guides"},[e("md-card-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"baseline"}},[e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.support.guides.title))]),e("a",{attrs:{href:t.helpCenterUrl,target:"_blank"}},[t._v(t._s(t.translations.support.guides.visit))])]),t.guidesLoading?e("md-card-content",[e("md-spinner",{attrs:{"md-indeterminate":""}})],1):[t.currentGuides.length?[e("md-list",t._l(t.dipslayGuides,(function(s){return e("md-list-item",{key:s.id,attrs:{href:s.link,target:"_blank"}},[e("md-avatar",[e("img",{attrs:{src:s.icon,alt:""}})]),e("div",{staticClass:"ssa-guide-label",domProps:{innerHTML:t._s(s.title)}})],1)})),1),t.currentGuides.length>3?e("md-card-actions",[e("md-button",{staticStyle:{width:"100%"},on:{click:function(e){t.showAllGuides=!t.showAllGuides}}},[t._v(t._s(this.showAllGuides?t.translations.support.guides.less:t.translations.support.guides.more))])],1):t._e()]:t._e(),t.currentGuideKey&&0===t.currentGuides.length?[e("md-card-content",[e("p",{staticClass:"md-subhead"},[t._v(t._s(t.translations.support.guides.notFound))])])]:t._e()]],2)},Be=[],Fe=s(1658),Ge=s.n(Fe),We={name:"supportGuides",data(){return{showAllGuides:!1}},watch:{currentGuides:function(t){t.length&&(this.showAllGuides=!1)}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("guides",["guidesLoading","currentGuideKey"]),...(0,o.Se)("guides",["currentGuides"]),dipslayGuides(){const t=this.showAllGuides?this.currentGuides:this.currentGuides.slice(0,3);return t.map((t=>{let e={...t};const s={utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_content:Ge()(t.title,{lower:!0,strict:!0})};return e.link=`${t.link}?${Ft().stringify(s)}`,e}))},helpCenterUrl(){const t="https://simplyscheduleappointments.com/help-center/",e={utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_content:"visit-help-center"};return`${t}?${Ft().stringify(e)}`}}},Re=We,He=(0,K.Z)(Re,Ue,Be,!1,null,null,null),qe=He.exports,Ze=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},t._l(t.errors,(function(s){return e("md-layout",{key:s.id},[e("md-layout",[e("md-whiteframe",{staticClass:"banner",attrs:{"md-elevation":1}},[e("div",{staticClass:"md-subheading"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.getTheme(s.type)}},[t._v(t._s(t.getType(s.type)))]),t._v(" "+t._s(s.message)+" ")],1),t.isExternalLink(s.link)?e("md-button",{attrs:{href:s.link,target:"_blank"}},[t._v(" "+t._s(s.link_message)+" "),e("md-icon",[t._v("keyboard_arrow_right")])],1):e("router-link",{attrs:{tag:"md-button",to:s.link}},[t._v(" "+t._s(s.link_message)+" "),e("md-icon",[t._v("keyboard_arrow_right")])],1)],1)],1)],1)})),1)},Ke=[],Ve=s(4806),Ye=s.n(Ve),Je={name:"errorsBanner",props:["errors"],data(){return{}},methods:{getTheme(t){return Ye().isEmpty(t)?"":"error"===t?"reverse":"amber"},getType(t){let e=["warning","error"];return!Ye().isEmpty(t)&&e.includes(t)?t:"error"},isExternalLink(t){return t.includes("http")}}},Xe=Je,Qe=(0,K.Z)(Xe,Ze,Ke,!1,null,"e5d7c266",null),ts=Qe.exports,es={name:"settingsScreen",components:{NoPermission:ze,Loading:nt,SidebarNotices:be,SettingsSidenav:xe,SupportGuides:qe,ErrorsBanner:ts},data(){return{loading:!0,allEditionsParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade",utm_content:"upgrade-tab"}}},beforeRouteEnter(t,e,s){s((e=>{t.matched.some((t=>"/ssa/appointments"===t.path))&&(e.currentUserCan("ssa_manage_appointments")||e.currentUserCan("ssa_manage_others_appointments"))||t.matched.some((t=>"/ssa/appointment/:id"===t.path))&&(e.currentUserCan("ssa_manage_appointments")||e.currentUserCan("ssa_manage_others_appointments"))||t.matched.some((t=>"/ssa/appointment-types"===t.path))&&e.currentUserCan("ssa_manage_appointment_types")||t.matched.some((t=>"/ssa/settings"===t.path))&&e.currentUserCan("ssa_manage_site_settings")||t.matched.some((t=>"/ssa/settings/staff/profile/:id?"===t.path))&&e.currentUserCan("ssa_manage_appointments")&&e.user.staff_id.toString()===e.$route.params.id.toString()||t.matched.some((t=>"/ssa/support"===t.path))&&e.currentUserCan("ssa_manage_site_settings")?s():e.defaultRoutes()}))},beforeRouteUpdate(t,e,s){this.$refs.leftSidenav&&this.$refs.leftSidenav.close(),s()},mounted(){"undefined"===typeof this.appointmentTypes?this.fetchAppointmentTypes().then((()=>{this.loading=!1})).catch((t=>{console.log(t)})):this.loading=!1},computed:{showBanner(){return"undefined"!==typeof this.appointmentTypes&&this.editableAppointmentTypes&&!this.editableAppointmentTypes.length&&"appointment-type-single"!==this.$route.name},showErrorBanner(){return!Ye().isEmpty(this.errorNotices)},showLicenseBanner(){if(this.isBasic||this.showBanner)return!1;let t=["empty","invalid","expired","disabled"],e=this.settings.license.license_status;return t.includes(e)},getLicenseBannerText(){if(!this.showLicenseBanner)return;let t,e=this.settings.license.license_status;switch(e){case"empty":t=this.translations.errors.licenseNotFound;break;case"invalid":t=this.translations.errors.invalidLicense;break;case"expired":t=this.settings.license.license_status_message+this.translations.errors.renewLicense;break;case"disabled":t=this.translations.errors.licenseRefunded;break;default:t=""}return t},getLicenseBannerBtnText(){if(!this.showLicenseBanner)return;let t,e=this.settings.license.license_status;switch(e){case"empty":case"invalid":t=this.translations.settings.license.addLicense;break;case"expired":t=this.translations.settings.license.renewLicense;break;case"disabled":t=this.translations.settings.license.purchaseLicense;break;default:t=""}return t},isBasic(){return!this.settings.installed.license},displayNotice(){return!Ye().isEmpty(this.noticeToDisplay)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","user"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.rn)("notices",["noticeToDisplay","errorNotices"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("staff",["currentUserCan","currentUserHasPermissions","currentUserHasNav","currentUserIsStaff","currentUserStaffId"]),...(0,o.Se)("support",["supportModule"]),...(0,o.Se)(["allEditionsUrlParsed"])},methods:{addAppointmentType(){this.createNewAppointmentType(),cv.push("/ssa/appointment-types/type")},handleInvalidLicenseNavigation(){const t=this.settings.license.license_renewal_link,e=ht;let s=this.settings.license.license_status;"invalid"===s||"empty"===s?cv.push("/ssa/settings/license"):"expired"===s?window.open(t,"_blank"):"disabled"===s&&window.open(e,"_blank")},defaultRoutes(){this.currentUserCan("ssa_manage_appointments")||this.currentUserCan("ssa_manage_others_appointments")?this.$router.push("/ssa/appointments"):this.currentUserCan("ssa_manage_appointment_types")?this.$router.push("/ssa/appointment-types"):this.currentUserCan("ssa_manage_site_settings")?this.$router.push("/ssa/settings"):this.currentUserCan("ssa_manage_staff")&&this.$router.push("/ssa/settings/staff")},toggleLeftSidenav(){this.$refs.leftSidenav.toggle()},...(0,o.nv)("appointment_types",["createNewAppointmentType","fetchAppointmentTypes"]),...(0,o.OI)(["updateCurrentSettings"])}},ss=es,is=(0,K.Z)(ss,J,X,!1,null,"7c57f3b8",null),ns=is.exports,as=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appointments"},[t.error?e("div",{staticClass:"app-error"},[e("img",{attrs:{src:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",alt:"Error fox"}}),e("h3",{staticClass:"md-display-1"},[t._v(" "+t._s(t.translations.errors.heading)+" ")]),e("p",[t._v(" "+t._s(t.translations.errors.intro)+" "+t._s(t.translations.errors.appointmentLoading)+" ")])]):[e("div",{staticStyle:{"text-align":"right"}},[t.currentUserCan("ssa_manage_appointments")?e("md-button",{staticClass:"md-primary",on:{click:t.loadBookingEmbed}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.general.bookAppointment)+" ")],1):t._e()],1),e("appointment-filter",{attrs:{loading:t.loading},on:{update:t.loadAppointments}}),t.loading?e("loading",{attrs:{message:t.translations.settings.loadingAppointments}}):[t.displayAppointments.length&&t.displayAllAppointments?[e("md-list",{staticClass:"md-triple-line"},t._l(t.displayAppointments,(function(s,i){return e("appointments-list-item",{key:s.start_date+"-"+i,attrs:{appointment:s},on:{confirmCancel:t.confirmCancel,confirmAbandon:t.confirmAbandon,confirmBook:t.confirmBook}})})),1),t.loadingMore?e("md-spinner",{attrs:{"md-size":36,"md-indeterminate":""}}):e("md-button",{staticClass:"md-primary",attrs:{disabled:t.loadedAll},on:{click:function(e){return t.loadMoreAppointments()}}},[t._v(" "+t._s(t.translations.appointments.loadMore)+" ")])]:t.displayAppointments.length&&!t.displayAllAppointments?e("empty",{attrs:{label:t.translations.appointments.tooManyToDisplay.headline}},[e("p",[t._v(" "+t._s(t.translations.appointments.tooManyToDisplay.explanation)+" ")]),e("md-button",{staticClass:"md-primary",on:{click:t.toggleDisplayAllAppointments}},[t._v(" "+t._s(t.translations.appointments.tooManyToDisplay.action)+" ")])],1):e("empty",{attrs:{label:t.emptyLabel,icon:t.emptyIcon}},["upcoming"===t.filter.time?e("md-button",{staticClass:"md-primary",on:{click:t.loadBookingEmbed}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.general.bookAppointment)+" ")],1):t._e()],1)],e("AppointmentCancelDialog",t._b({ref:"cancelDialog"},"AppointmentCancelDialog",{appointment:t.currentAppointment,availableCustomerInformation:t.availableCustomerInformation},!1)),e("AppointmentAbandonDialog",t._b({ref:"abandonDialog"},"AppointmentAbandonDialog",{appointment:t.currentAppointment,availableCustomerInformation:t.availableCustomerInformation},!1)),e("md-dialog",{ref:"confirmBook"},[e("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.markAsBookedConfirm)+" ")]),e("md-dialog-content",[e("notification",{attrs:{icon:"warning",theme:"amber"}},[e("p",{staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.appointments.bypassPaymentWarning)+" ")])]),e("p"),t.currentAppointment?e("md-list",t._l(t.availableCustomerInformation,(function(s,i,n){return e("md-list-item",{key:n},[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i)+" ")]),e("span","string"===typeof s?[t._v(" "+t._s(s)+" ")]:[t._v(" "+t._s(s.join(", "))+" ")])])])})),1):t._e()],1),e("md-dialog-actions",[e("md-button",{on:{click:t.cancelBook}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),e("md-button",{on:{click:t.markAsBooked}},[t._v(" "+t._s(t.translations.appointments.markAsBookedConfirmOK)+" ")])],1)],1),e("md-dialog",{ref:"bookingDialog",staticClass:"ssa-booking-dialog",on:{close:t.loadAppointments}},[e("button",{staticClass:"close",on:{click:function(e){return t.$refs.bookingDialog.close()}}},[e("md-icon",[t._v("close")])],1),e("md-dialog-content",[e("div",{staticClass:"ssa-booking-iframe-container",domProps:{innerHTML:t._s(t.bookingEmbed)}})]),e("md-dialog-actions",[e("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",theme:"blue",to:"/ssa/support/availability-detective"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])],1)],1)]],2)},os=[],rs=function(){var t=this,e=t._self._c;return t.isSingle?e("appointments-list-item-single",{attrs:{appointment:t.appointment.appointments[0]},on:{confirmCancel:t.confirmCancel,confirmAbandon:t.confirmAbandon,confirmBook:t.confirmBook}}):e("appointments-list-item-multi",{attrs:{appointments:t.appointment.appointments,group_id:t.appointment.group_id},on:{confirmCancel:t.confirmCancel}})},ls=[],ps=function(){var t=this,e=t._self._c;return e("md-list-item",{class:["status-"+t.appointment.status,{"pending-appointment":"pending_payment"==t.appointment.status||"pending_form"==t.appointment.status}]},[t.wpUserGravatar(t.appointment.customer_id)?e("md-avatar",[e("img",{attrs:{src:t.wpUserGravatar(t.appointment.customer_id),alt:t.wpUserName(t.appointment.customer_id)}}),e("md-tooltip",[t._v(" "+t._s(t.wpUserName(t.appointment.customer_id))+" ")])],1):e("md-icon",{staticClass:"md-primary md-size-2x",attrs:{"md-theme":t.appointment.type_label}},[t._v(" person ")]),e("div",{staticClass:"md-list-text-container"},[e("span",["canceled"===t.appointment.status?[t._v(" "+t._s(t.translations.general.canceled)+": ")]:t._e(),"abandoned"===t.appointment.status?[t._v(" "+t._s(t.translations.general.abandoned)+": ")]:t._e(),"pending_payment"===t.appointment.status?e("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.translations.appointments.statuses.pending_payment))]):t._e(),"pending_form"===t.appointment.status?e("span",{staticStyle:{"font-weight":"600"}},[t._v(t._s(t.translations.appointments.statuses.pending_form))]):t._e(),t._v(" "+t._s(t.appointmentName)+" ")],2),e("span",[t._v(" "+t._s(t.appointmentTypeTitle)+" "),t.appointmentStaffNames(t.appointment)?e("span",{staticClass:"staff-with"},[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.appointment))+" ")]):t._e()]),e("p",[t._v(" "+t._s(t.appointmentDisplayDate)+" ")])]),e("md-list-expand",[e("md-list",{staticClass:"nested-list",class:{"md-double-line":!t.isBasic}},[t.appointment.web_meeting_url?e("md-list-item",{staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" video_call ")]),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.appointments.webMeetings.label))]),e("span",[e("a",{attrs:{href:t.appointment.web_meeting_url,target:"_blank"}},[t._v(" "+t._s(t.appointment.web_meeting_url)+" ")])])])],1):t._e(),t.isBasic?t._l(t.basicCustomerInformation,(function(s,i,n){return e("md-list-item",{key:n,staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},["Email"===i?[t._v(" email ")]:"Name"===i?[t._v(" face ")]:"Phone"===i?[t._v(" phone ")]:"Address"===i||"City"===i&&t.isAddressDisplayed(t.basicCustomerInformation,"City")||"State"===i&&t.isAddressDisplayed(t.basicCustomerInformation,"State")||"Zip"===i&&t.isAddressDisplayed(t.basicCustomerInformation,"Zip")?[t._v(" place ")]:"Notes"===i?[t._v(" assignment ")]:t._e()],2),e("span",[t._v(t._s(s))])],1)})):["pending_form"===t.appointment.status?e("md-list-item",{staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" information ")]),e("div",{staticClass:"md-list-text-container"},[Object.keys(this.appointment.customer_information).length?t._e():e("span",[t._v(t._s(t.translations.appointments.noAvailableInformation))]),-1!=t.expiresIn?e("span",[t._v(" "+t._s(t.translations.appointments.abandonedIn)+" "+t._s(t.expiresIn)+" "),e("a",{attrs:{href:t.appointmentStatusGuideUrl,target:"_blank"}},[t._v(" "+t._s(t.translations.appointments.learnMorePending)+" ")])]):e("span",[t._v(" "+t._s(t.translations.appointments.abandonedOn)+" "+t._s(t.moment.utc(this.appointment.expiration_date).tz(this.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment))+" ")])])],1):t._e(),"pending_payment"===t.appointment.status?e("md-list-item",{staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" information ")]),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.appointments.apptReserved))])])],1):t._e(),"pending_payment"===t.appointment.status?e("md-list-item",{staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v("payment")]),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(" "+t._s(t.translations.appointments.waiting)+" "+t._s(t.appointment.payment_method)+" ")]),-1!=t.expiresIn?e("span",[t._v(" "+t._s(t.translations.appointments.abandonedIn)+" "+t._s(t.expiresIn)+" "),e("a",{attrs:{href:t.appointmentStatusGuideUrl,target:"_blank"}},[t._v(t._s(t.translations.appointments.learnMorePending))])]):e("span",[t._v(" "+t._s(t.translations.appointments.abandonedOn)+" "+t._s(t.moment.utc(t.appointment.expiration_date).tz(t.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment))+" ")])])],1):t._e(),t._l(t.paidCustomerInformation,(function(s,i,n){return e("md-list-item",{key:n,staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" "+t._s(t.icons[i]?t.icons[i]:"bookmark")+" ")]),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(i))]),e("span",["string"===typeof s?[t._v(" "+t._s(s)+" ")]:[t._v(" "+t._s(s.join(", "))+" ")]],2)])],1)}))],parseFloat(t.appointment.payment_received)?e("md-list-item",{staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" payment ")]),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(" "+t._s(t.translations.appointments.paymentReceived)+" ")]),e("span",[t._v(" "+t._s(t.displayPrice(t.appointment.payment_received,t.currency))+" ")])])],1):t._e(),e("md-list-item",{staticClass:"md-inset"},[e("span",[e("router-link",{attrs:{tag:"md-button",to:"/ssa/appointment/"+t.appointment.id}},[t._v(" "+t._s(t.translations.appointments.viewDetails)+" ")]),t.isCancelable?e("md-button",{on:{click:function(e){return t.confirmCancel(t.appointment.id)}}},[t._v(" "+t._s(t.translations.appointments.cancel)+" ")]):t._e(),"pending_payment"==t.appointment.status||"pending_form"==t.appointment.status?e("md-button",{on:{click:function(e){return t.confirmAbandon(t.appointment.id)}}},[t._v(" "+t._s(t.translations.appointments.abandon)+" ")]):t._e(),"pending_payment"==t.appointment.status?e("md-button",{on:{click:function(e){return t.confirmBook(t.appointment.id)}}},[t._v(" "+t._s(t.translations.appointments.book)+" ")]):t._e()],1)])],2)],1)],1)},ds=[],cs={name:"appointmentsListItemSingle",props:["appointment"],data(){return{moment:H(),expiresIn:"",expirationDate:H().utc(this.appointment.expiration_date),countDownInterval:null}},mounted(){this.isPending&&(this.countDown(),this.countDownInterval=setInterval(this.countDown,6e4))},beforeDestroy(){clearInterval(this.countDownInterval)},computed:{appointmentDisplayDate(){let t=H()(this.appointment.start_date,this.timestampFormat).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment);return this.shouldDisplayTimezone&&(t+=" "+H().utc(this.appointment.start_date).tz(this.settings.global.timezone_string).format("z")),t},appointmentName(){return this.appointment.customer_information.name?this.appointment.customer_information.name:this.appointment.customer_information.Name},appointmentType(){let t=this.appointmentTypes.filter((t=>t.id===this.appointment.appointment_type_id));return t[0]},appointmentTypeTitle(){return this.appointment.type_title?this.appointment.type_title:this.translations.appointments.deletedType},availableCustomerInformation(){if(!this.appointment)return[];let t={};return Object.keys(this.appointment.customer_information).forEach((e=>{this.appointment.customer_information[e]&&this.appointment.customer_information[e].length&&(t[e]=this.appointment.customer_information[e])})),t},basicCustomerInformation(){if(!this.appointment||!this.isBasic)return[];let t={};return Object.keys(this.availableCustomerInformation).forEach((e=>{"name"!==e&&(t[e]=this.appointment.customer_information[e])})),t},paidCustomerInformation(){if(!this.appointment||this.isBasic)return[];let t={};return Object.keys(this.availableCustomerInformation).forEach((e=>{"Name"!==e&&(t[e]=this.appointment.customer_information[e])})),t},currency(){return this.appointmentType&&Object.prototype.hasOwnProperty.call(this.appointmentType,"payments")&&this.appointmentType.payments.currency?this.appointmentType.payments.currency:Object.prototype.hasOwnProperty.call(this.settings,"payments")&&this.settings.payments.default_currency?this.settings.payments.default_currency:null},icons(){let t={};return this.appointmentType&&this.appointmentType.custom_customer_information.forEach((e=>{t[e.field]=e.icon})),t},isBasic(){return!this.settings.installed.license},isCancelable(){let t=H()(),e=H()(this.appointment.start_date,this.timestampFormat);return e.isSameOrAfter(t)&&"canceled"!==this.appointment.status&&!this.isPending&&"abandoned"!==this.appointment.status},isPending(){return this.appointment.status.match(/pending.*/)},shouldDisplayTimezone(){return this.detectedTimezone!==this.settings.global.timezone_string},appointmentStatusGuideUrl(){const t="https://simplyscheduleappointments.com/guides/booking-status-overview/",e={utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_term:"pending-appointment",utm_content:"booking-status-overview"};return`${t}?${Ft().stringify(e)}`},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.Se)(["detectedTimezone"]),...(0,o.Se)("appointments",["wpUserGravatar","wpUserName"]),...(0,o.Se)("payments",["displayPrice"]),...(0,o.Se)("staff",["appointmentStaffNames"]),...(0,o.Se)("appointments",["isAddressDisplayed"])},methods:{confirmCancel(t){this.$emit("confirmCancel",t)},confirmAbandon(t){this.$emit("confirmAbandon",t)},confirmBook(t){this.$emit("confirmBook",t)},countDown(){H().duration(this.expirationDate.diff(H().utc()))<=0?(this.expiresIn=-1,clearInterval(this.countDownInterval)):this.expiresIn=H().duration(this.expirationDate.diff(H().utc())).humanize(!0)}}},ms=cs,us=(0,K.Z)(ms,ps,ds,!1,null,"57703eaf",null),hs=us.exports,gs=function(){var t=this,e=t._self._c;return e("md-list-item",{class:"status-"+t.groupAppointmentStatus(this.appointments)},[e("md-icon",{staticClass:"md-primary md-size-2x",attrs:{"md-theme":t.appointmentInfo.type_label}},[t._v(" people ")]),e("div",{staticClass:"md-list-text-container"},[e("span",["canceled"===t.groupAppointmentStatus(this.appointments)?[t._v(" "+t._s(t.translations.general.canceled)+": ")]:t._e(),"abandoned"===t.groupAppointmentStatus(this.appointments)?[t._v(" "+t._s(t.translations.general.abandoned)+": ")]:t._e(),t._v(" "+t._s(t.appointments.length)+" "+t._s(t.translations.appointments.group.people)+" "),t.uniqueStatuses.length>1?[t._l(t.statusCounts,(function(s,i){return[e("i",{key:i},[t._v(" "+t._s(s)+" "+t._s(t.translations.appointments.statuses[i])+" ")])]}))]:t._e()],2),e("span",[t._v(" "+t._s(t.appointmentInfo.type_title)+" "),t.appointmentStaffNames(t.appointments)?e("span",{staticClass:"staff-with"},[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.appointments))+" ")]):t._e()]),e("p",[t._v(" "+t._s(t.appointmentDisplayDate)+" ")])]),e("md-list-expand",[e("md-list",{staticClass:"nested-list md-triple-line"},[t._l(t.appointments,(function(s,i){return e("md-list-item",{key:i,staticClass:"md-inset",class:"status-"+s.status},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointmentInfo.type_label}},[t._v(" person ")]),e("div",{staticClass:"md-list-text-container"},[e("span",["canceled"===s.status?[t._v(" "+t._s(t.translations.general.canceled)+": ")]:t._e(),t._v(" "+t._s(s.customer_information.Name)+" ")],2),e("span",[t._v(" "+t._s(s.customer_information.Email)+" ")]),e("p",[e("router-link",{attrs:{to:"/ssa/appointment/"+s.id}},[t._v(" "+t._s(t.translations.appointments.group.viewDetails))]),t.isCancelable&&"canceled"!==s.status?[t._v(" | "),e("button",{staticClass:"link",on:{click:function(e){return t.confirmCancel(s.id)}}},[t._v(" "+t._s(t.translations.appointments.cancel)+" ")])]:t._e()],2)])],1)})),e("md-list-item",{staticClass:"md-inset"},[e("span",[e("router-link",{attrs:{tag:"md-button",to:"/ssa/event/"+t.group_id}},[t._v(" "+t._s(t.translations.appointments.viewDetails)+" ")])],1)])],2)],1)],1)},_s=[],fs={name:"appointmentsListItemMulti",props:["appointments","group_id"],data(){return{moment:H()}},computed:{appointmentDisplayDate(){let t=H()(this.appointmentInfo.start_date,this.timestampFormat).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment);return t},appointmentInfo(){let t=this.appointments[0];return{start_date:t.start_date,type_label:t.type_label,type_title:t.type_title?t.type_title:this.translations.appointments.deletedType}},isCancelable(){let t=H()(),e=H()(this.appointmentInfo.start_date,this.timestampFormat);return e.isSameOrAfter(t)},staffNames(){let t=this.appointment.staff_ids.map((t=>this.staff.find((e=>parseInt(t,10)===parseInt(e.id,10))).display_name));return t.join(", ")},statusCounts(){let t={};return this.uniqueStatuses.map((e=>{let s=this.appointments.filter((t=>t.status===e));t[e]=s.length})),t},uniqueStatuses(){let t=this.appointments.map((t=>t.status));return Ye().uniq(t)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)(["detectedTimezone"]),...(0,o.Se)("appointments",["groupAppointmentStatus"]),...(0,o.Se)("staff",["appointmentStaffNames"])},methods:{confirmCancel(t){this.$emit("confirmCancel",t)}}},ys=fs,vs=(0,K.Z)(ys,gs,_s,!1,null,"596214e2",null),bs=vs.exports,ks={name:"appointmentsListItem",props:["appointment"],components:{AppointmentsListItemSingle:hs,AppointmentsListItemMulti:bs},data(){return{}},computed:{isSingle(){return 1===this.appointment.appointments.length}},methods:{confirmCancel(t){this.$emit("confirmCancel",t)},confirmAbandon(t){this.$emit("confirmAbandon",t)},confirmBook(t){this.$emit("confirmBook",t)}}},Cs=ks,Ss=(0,K.Z)(Cs,rs,ls,!1,null,null,null),ws=Ss.exports,Ts=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appointment-filter"},[e("md-toolbar",{staticClass:"md-transparent"},[e("md-input-container",{staticClass:"title"},[e("label",{attrs:{for:"filter-time"}},[e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.appointments.filter.timeLabel)+" ")])]),e("md-select",{attrs:{name:"filter-time",id:"filter-time",disabled:t.loading},model:{value:t.filterTime,callback:function(e){t.filterTime=e},expression:"filterTime"}},[e("md-option",{attrs:{value:"upcoming"}},[t._v(" "+t._s(t.translations.appointments.upcoming)+" ")]),e("md-option",{attrs:{value:"past"}},[t._v(" "+t._s(t.translations.appointments.past)+" ")]),e("md-option",{attrs:{value:"range"}},[t._v(" "+t._s(t.translations.appointments.dateRange)+" ")])],1)],1),e("div",{staticStyle:{flex:"1"}}),t.searching?e("div",{staticClass:"search"},[e("md-icon",{nativeOn:{click:function(e){return t.closeSearch()}}},[t._v("keyboard_arrow_left")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],ref:"searchInput",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),e("md-icon",{nativeOn:{click:function(e){t.searchString=""}}},[t._v("close")])],1):t._e(),t.searching?t._e():e("md-button",{staticClass:"md-primary indicator-button",on:{click:function(e){return t.openSearch()}}},[e("md-icon",[t._v("search")]),t._v(" "+t._s(t.translations.appointments.filter.search)+" "),""!=t.searchString?e("span",{staticClass:"indicator"}):t._e()],1),e("md-button",{staticClass:"md-primary indicator-button",on:{click:t.toggleFilters}},[e("md-icon",[t._v("filter_list")]),t._v(" "+t._s(t.filterLabel)+" "),t.filterApplied?e("span",{staticClass:"indicator"}):t._e()],1),e("md-menu",[e("md-button",{staticClass:"md-primary",attrs:{disabled:!t.displayAppointments.length,"md-menu-trigger":""}},[e("md-icon",[t._v("get_app")]),t._v(" "+t._s(t.translations.appointments.filter.export)+" ")],1),e("md-menu-content",[e("md-menu-item",{staticClass:"md-primary indicator-button",on:{click:t.openDialog}},[t._v(" "+t._s(t.translations.appointments.filter.subscribe)+" ")]),e("md-menu-item",{staticClass:"md-primary indicator-button",on:{click:t.exportAppointments}},[t._v(" "+t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.download)+" ")])],1)],1)],1),e("md-dialog",{ref:"icsSubscribeDialog"},[e("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.filter.modal.title)+" ")]),e("md-dialog-content",[e("p",[t._v(" "+t._s(t.translations.appointments.filter.modal.instructions)+" ")]),e("p",[e("code",{ref:"icsURL"},[t._v(" "+t._s(t.fetchAppointmentsFilteredIcs)+" ")]),e("md-icon",{staticClass:"md-primary",staticStyle:{cursor:"pointer"},nativeOn:{click:function(e){return t.copyIcsURL.apply(null,arguments)}}},[t._v(" file_copy ")])],1)]),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.closeDialog}},[t._v(" "+t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.close)+" ")])],1)],1),e("md-snackbar",{ref:"icsURLNotice",attrs:{"md-position":"top center"}},[e("span",[t._v(" "+t._s(t.translations.appointments.filter.modal.urlCopied)+" ")])]),t.openFilters?e("fieldset",{ref:"filterToolbar",staticClass:"appointment-filter-bar"},[e("legend",{staticClass:"md-subheading"},[t._v(" "+t._s(t.translations.appointments.filter.title)+" ")]),e("div",{staticClass:"clear"}),"range"===t.filterTime?e("div",{staticClass:"appointment-filter-bar-wrap"},[e("div",{staticClass:"filter-field"},[e("md-input-container",{attrs:{"md-clearable":""}},[e("label",{attrs:{for:"filter_date_range_start"}},[t._v(" "+t._s(t.translations.appointments.filter.startDate)+" ")]),e("date-time-picker",{model:{value:t.rangeMin,callback:function(e){t.rangeMin=e},expression:"rangeMin"}})],1)],1),e("div",{staticClass:"filter-field"},[e("md-input-container",{attrs:{"md-clearable":""}},[e("label",{attrs:{for:"filter_date_range_end"}},[t._v(" "+t._s(t.translations.appointments.filter.endDate)+" ")]),e("date-time-picker",{model:{value:t.rangeMax,callback:function(e){t.rangeMax=e},expression:"rangeMax"}})],1)],1)]):t._e(),e("div",{staticClass:"appointment-filter-bar-wrap exception"},[e("div",{staticClass:"filter-field"},[e("foxy-mixed-checkboxes",{attrs:{options:t.apptTypesAndLabelsFilterOptions,label:t.translations.appointments.filter.typesAndLabels,parentAriaLabel:t.translations.appointments.filter.selectAllTypes,hideEmptyParents:""},model:{value:t.filterAppointmentTypesAndLabels,callback:function(e){t.filterAppointmentTypesAndLabels=e},expression:"filterAppointmentTypesAndLabels"}})],1),e("div",{staticClass:"filter-field"},[e("md-input-container",[e("label",{attrs:{for:"appointment-statuses"}},[t._v(" "+t._s(t.translations.appointments.filter.statusLabel)+" "),t.filter.status.length?[t._v(" ("+t._s(t.filter.status.length)+" "+t._s(t.translations.appointments.filter.selected)+") ")]:t._e()],2),e("md-select",{attrs:{name:"appointment-statuses",id:"appointment-statuses",multiple:"",disabled:t.loading},model:{value:t.filterAppointmentStatuses,callback:function(e){t.filterAppointmentStatuses=e},expression:"filterAppointmentStatuses"}},t._l(t.appointmentStatuses,(function(s,i){return e("md-option",{key:i,attrs:{value:s}},[t._v(" "+t._s(t.translations.appointments.statuses[s])+" ")])})),1)],1)],1),t.currentUserCan("ssa_manage_others_appointments")&&t.staffStatusPublish.length?e("div",{staticClass:"filter-field"},[e("md-input-container",[e("label",{attrs:{for:"appointment-staff"}},[t._v(" "+t._s(t.translations.appointments.filter.staffLabel)+" "),t.filter.staff.length?[t._v(" ("+t._s(t.filter.staff.length)+" "+t._s(t.translations.appointments.filter.selected)+") ")]:t._e()],2),e("md-select",{attrs:{name:"appointment-staff",id:"appointment-staff",multiple:"",disabled:t.loading},model:{value:t.filterAppointmentStaff,callback:function(e){t.filterAppointmentStaff=e},expression:"filterAppointmentStaff"}},t._l(t.staffStatusPublish,(function(s){return e("md-option",{key:s.id,attrs:{value:s.id}},[t._v(" "+t._s(s.display_name)+" ")])})),1)],1)],1):t._e(),t.currentUserCan("ssa_manage_others_appointments")?t._e():e("div",{staticClass:"filter-button"},[e("md-button",{staticClass:"md-primary",attrs:{disabled:!t.filterApplied||t.loading},on:{click:t.resetFilter}},[e("md-icon",[t._v("delete_sweep")]),t._v(" "+t._s(t.translations.appointments.filter.reset)+" ")],1)],1)]),t.currentUserCan("ssa_manage_others_appointments")?e("div",{staticClass:"appointment-filter-bar-wrap"},[e("div",{staticClass:"filter-button full-width"},[e("md-button",{staticClass:"md-primary",attrs:{disabled:!t.filterApplied||t.loading},on:{click:t.resetFilter}},[e("md-icon",[t._v("delete_sweep")]),t._v(" "+t._s(t.translations.appointments.filter.reset)+" ")],1)],1)]):t._e()]):t._e()],1)},xs=[],As=function(){var t=this,e=t._self._c;return e("div",{staticClass:"date-time-picker-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.displayDateTime,expression:"displayDateTime"}],ref:"input",staticClass:"md-input",attrs:{type:"text",id:t.id,readonly:""},domProps:{value:t.displayDateTime},on:{click:t.openPicker,input:function(e){e.target.composing||(t.displayDateTime=e.target.value)}}}),e("md-button",{directives:[{name:"show",rawName:"v-show",value:t.displayDateTime,expression:"displayDateTime"}],staticClass:"md-icon-button md-clear-input",on:{click:t.clearValue}},[e("md-icon",[t._v("clear")])],1),e("md-dialog",{ref:"picker",staticClass:"date-picker",attrs:{"md-open-from":"#"+t.id}},[e("md-dialog-content",[e("div",{ref:"rome"})]),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.closePicker}},[t._v("OK")])],1)],1)],1)},Ps=[],Ds=s(8254),Ms=s.n(Ds),Es={name:"dateTime",props:{value:{type:String}},data(){return{id:null,rome:Ms(),moment:H(),picker:null}},mounted:function(){this.id="picker-"+this._uid,this.picker=Ms()(this.$refs.rome,{weekStart:this.settings.global.start_of_week,initialValue:this.initialValue,timeFormat:this.settings.global.time_format_moment}).on("data",(t=>{this.convertToUTC(t)})),this.styleContainer(this.$refs.input)},watch:{value:function(){this.styleContainer(this.$refs.input)}},beforeDestroy(){this.picker&&this.picker.destroy()},computed:{isValueValid(){return H().utc(this.value,this.timestampFormat).isValid()},displayDateTime:{get(){return this.isValueValid?H().utc(this.value,this.timestampFormat).tz(this.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment+" z"):null},set(){}},initialValue(){return this.isValueValid?H().utc(this.value,this.timestampFormat).tz(this.settings.global.timezone_string).format(this.timestampFormat):H()().startOf("day")},...(0,o.rn)(["settings","timestampFormat"])},methods:{convertToUTC(t){let e=H().tz(t,this.timestampFormat,this.settings.global.timezone_string).utc().format(this.timestampFormat);this.$emit("input",e)},clearValue(){this.$emit("input",null)},openPicker(){this.picker.setValue(this.initialValue),this.picker.refresh(),this.$refs.picker.open()},closePicker(){this.$refs.picker.close()},styleContainer(t){let e=this.getClosest(t,".md-input-container");this.displayDateTime?e.classList.add("md-has-value"):e.classList.remove("md-has-value")},getClosest(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}}},Ls=Es,Os=(0,K.Z)(Ls,As,Ps,!1,null,null,null),$s=Os.exports,Is=function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkbox-menu"},[e("md-input-container",{class:{"md-has-value":t.isAnySelected}},[e("label",{staticClass:"ellipsis",attrs:{for:t.inputFieldId}},[t._v(" "+t._s(t.label)+" ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItems,expression:"checkedItems"}],staticClass:"ellipsis",attrs:{type:"button",id:t.inputFieldId,"aria-haspopup":"dialog","aria-controls":t.dialogId},domProps:{value:t.checkedItems},on:{click:t.toggleMenu,input:function(e){e.target.composing||(t.checkedItems=e.target.value)}}})]),t.isMenuVisible?e("div",{staticClass:"menu-popup",attrs:{role:"dialog","aria-hidden":!t.isMenuVisible,id:t.dialogId}},[e("div",{staticClass:"popupOverlay",class:{active:t.isMenuVisible}}),t.isMenuVisible?e("div",{staticClass:"content-container md-primary"},t._l(t.optionsComputed,(function(s){return e("fieldset",{key:s.value,staticClass:"option"},[e("legend",{staticClass:"screen-reader-text"},[t._v(" "+t._s(s.label)+" ")]),e("div",{staticClass:"parent-checkbox container checkboxes",attrs:{role:"checkbox",value:s.value,"aria-label":t.parentAriaLabel+" "+s.label,"aria-checked":t.optionState(s.value),"aria-controls":t.getSuboptionsIds(s.value),tabindex:"0"},on:{click:t.handleInputParent,keypress:t.handleKeyPress}},[t._v(" "+t._s(s.label)+" "),e("span",{staticClass:"checkmark"}),t.isIndeterminate(s.value)?e("span",{staticClass:"checkmark-indeterminate"}):t._e()]),s.suboptions?e("ul",t._l(s.suboptions,(function(s){return e("li",{key:s.value,staticClass:"suboption-container"},[e("label",{staticClass:"container"},[t._v(t._s(s.label)+" "),e("input",{staticClass:"nested-checkbox checkboxes",attrs:{type:"checkbox",id:t.getSuboptionId(s)},domProps:{value:s.value,checked:t.isSuboptionChecked(s.value)},on:{input:t.handleInputChildren}}),e("span",{staticClass:"checkmark"})])])})),0):t._e()])})),0):t._e()]):t._e()],1)},Ns=[],js={name:"FoxyMixedCheckboxes",props:{options:{type:Array,required:!0},value:{type:Object,required:!0},label:{type:String,required:!0},hideEmptyParents:{type:Boolean,default:!1},parentAriaLabel:{type:String,required:!0}},emits:["input"],data(){return{isMenuVisible:!1}},computed:{optionsComputed(){return this.hideEmptyParents?this.options.filter((t=>!Ye().isEmpty(t.suboptions))):this.options},inputFieldId(){let t=this.label.replace(/[^a-zA-Z0-9_-]/g,"");return"menu-trigger-"+t},dialogId(){let t=this.label.replace(/[^a-zA-Z0-9_-]/g,"");return"popup-menu-container-"+t},selectedOptions:{get(){return this.value.selectedOptions?this.value.selectedOptions:[]},set(t){this.$emit("input",{selectedOptions:!0,value:t})}},selectedSuboptions:{get(){return this.value.selectedSuboptions?this.value.selectedSuboptions:[]},set(t){this.$emit("input",{selectedSuboptions:!0,value:t})}},checkedItems(){let t=[];return this.optionsComputed.forEach((e=>{this.selectedOptions.includes(e.value)&&t.push(e.label),e.suboptions.forEach((e=>{this.selectedSuboptions.includes(e.value)&&t.push(e.label)}))})),t.join(", ").toString()},isAnySelected(){return this.checkedItems.length>0},checkboxes(){if(!this.isMenuVisible)return[];let t=document.querySelectorAll(".checkboxes");return t||[]},firstCheckboxElement(){return this.isMenuVisible&&this.checkboxes.length?this.checkboxes[0]:null},lastCheckboxElement(){return this.isMenuVisible&&this.checkboxes.length?this.checkboxes[this.checkboxes.length-1]:null}},mounted(){document.addEventListener("click",this.overlayClickHandler),document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy(){document.removeEventListener("click",this.overlayClickHandler),document.removeEventListener("keydown",this.keyDownHandler)},methods:{toggleMenu(){this.isMenuVisible=!this.isMenuVisible},overlayClickHandler(t){this.isMenuVisible&&t.target.matches(".popupOverlay")&&this.hideMenu()},keyDownHandler(t){this.isMenuVisible&&("Escape"!==t.key?9===t.keyCode&&(t.shiftKey?document.activeElement===this.firstCheckboxElement&&(t.preventDefault(),this.lastCheckboxElement.focus()):document.activeElement===this.lastCheckboxElement&&(t.preventDefault(),this.firstCheckboxElement.focus())):this.hideMenu())},hideMenu(){this.isMenuVisible=!1},getSuboptionsIds(t){let e=this.optionsComputed.find((e=>e.value===t)),s=e.suboptions.map((t=>this.getSuboptionId(t)));return s?s.join(" "):""},getSuboptionId(t){return"suboption-"+t.label.replace(/[^a-zA-Z0-9_-]/g,"")+"-"+t.value.replace(/[^a-zA-Z0-9_-]/g,"")},optionState(t){return this.isOptionChecked(t)?"true":this.isIndeterminate(t)?"mixed":"false"},isOptionChecked(t){return this.selectedOptions.includes(t)},isSuboptionChecked(t){return this.selectedSuboptions.includes(t)},handleInputChildren(t){if(t.target.checked){let e=[...this.selectedSuboptions];e.push(t.target.value),this.selectedSuboptions=e,this.maybeCheckParent(t.target)}else this.selectedSuboptions=this.selectedSuboptions.filter((e=>e!==t.target.value)),this.maybeUncheckParent(t.target)},maybeUncheckParent(t){let e=t.closest(".option"),s=e.querySelector(".parent-checkbox"),i=s.getAttribute("value");this.isOptionChecked(i)&&(this.selectedOptions=this.selectedOptions.filter((t=>t!==i)))},maybeCheckParent(t){let e=t.closest(".option"),s=e.querySelectorAll(".nested-checkbox"),i=[];for(const a of s)i.push(a.checked);let n=i.every((t=>!0===t));if(n){let t=e.querySelector(".parent-checkbox"),s=t.getAttribute("value"),i=[...this.selectedOptions];i.push(s),this.selectedOptions=i}},handleKeyPress(t){32==t.keyCode&&(t.preventDefault(),this.handleInputParent(t))},handleInputParent(t){let e;e="SPAN"===t.target.tagName?t.target.parentElement:t.target;let s=e.getAttribute("value"),i=this.isOptionChecked(s);if(i)this.selectedOptions=this.selectedOptions.filter((t=>t!==s)),this.uncheckAllSuboptions(s);else{let t=[...this.selectedOptions];t.push(s),this.selectedOptions=t,this.checkAllSuboptions(s)}},checkAllSuboptions(t){let e=this.optionsComputed.find((e=>e.value===t)),s=e.suboptions.map((t=>t.value)),i=[...s,...this.selectedSuboptions];this.selectedSuboptions=Ye().uniq(i)},uncheckAllSuboptions(t){let e=this.optionsComputed.find((e=>e.value===t)),s=e.suboptions.map((t=>t.value));this.selectedSuboptions=this.selectedSuboptions.filter((t=>!s.includes(t)))},isIndeterminate(t){if(this.selectedOptions.includes(t))return!1;let e=this.optionsComputed.find((e=>e.value===t));return e.suboptions.some((t=>this.selectedSuboptions.includes(t.value)))}}},zs=js,Us=(0,K.Z)(zs,Is,Ns,!1,null,"469b4744",null),Bs=Us.exports,Fs={name:"appointmentFilter",store:Ek,components:{DateTimePicker:$s,FoxyMixedCheckboxes:Bs},props:{loading:{type:Boolean,default:!1}},data(){return{appointmentStatuses:v,defaultAppointmentFilter:k,openFilters:!1,searching:!1}},mounted(){if(this.localStorageGet("ssaAppointmentFilter"))try{this.setFilter(JSON.parse(this.localStorageGet("ssaAppointmentFilter"))),this.localStorageSet("ssaAppointmentFilter",this.localStorageGet("ssaAppointmentFilter"),36e5)}catch(t){localStorage.removeItem("ssaAppointmentFilter")}},computed:{filterAppointmentStatuses:{get(){return this.filter.status},set(t){let e=JSON.stringify(this.filter.status),s=JSON.stringify(t);e!==s&&this.emitFilterUpdate(),this.setFilter({key:"status",value:t})}},filterAppointmentTypesAndLabels:{get(){return{selectedOptions:this.filter.appointment_type_label_id?Ye().cloneDeep(this.filter.appointment_type_label_id):[],selectedSuboptions:this.filter.appointment_type_id?Ye().cloneDeep(this.filter.appointment_type_id):[]}},set(t){let e=JSON.stringify(this.filter.appointment_type_label_id),s=JSON.stringify(this.filter.appointment_type_id),i=JSON.stringify(t.value);e!==i&&s!==i&&this.emitFilterUpdate(),t.selectedOptions?this.setFilter({key:"appointment_type_label_id",value:t.value}):this.setFilter({key:"appointment_type_id",value:t.value})}},filterAppointmentStaff:{get(){return this.filter.staff},set(t){let e=JSON.stringify(this.filter.staff),s=JSON.stringify(t);e!==s&&this.emitFilterUpdate(),this.setFilter({key:"staff",value:t})}},filterLabel(){return this.openFilters?this.translations.appointments.filter.filterClose:this.translations.appointments.filter.filter},filterTime:{get(){return this.filter.time},set(t){let e=JSON.stringify(this.filter.time),s=JSON.stringify(t);e!==s&&"range"!==t&&this.emitFilterUpdate(),"range"===t&&(this.openFilters=!0),this.setFilter({key:"date_range_min",value:null}),this.setFilter({key:"date_range_max",value:null}),this.setFilter({key:"time",value:t})}},rangeMin:{get(){return this.filter.date_range_min},set(t){let e=JSON.stringify(this.filter.date_range_min),s=JSON.stringify(t);e!==s&&this.emitFilterUpdate(),this.setFilter({key:"date_range_min",value:t})}},rangeMax:{get(){return this.filter.date_range_max},set(t){let e=JSON.stringify(this.filter.date_range_max),s=JSON.stringify(t);e!==s&&this.emitFilterUpdate(),this.setFilter({key:"date_range_max",value:t})}},searchString:{get(){return this.filter.search},set(t){let e=JSON.stringify(this.filter.search),s=JSON.stringify(t).toLowerCase();e!==s&&this.filter.search.length>=2&&this.emitFilterUpdate(),this.setFilter({key:"search",value:t.toLowerCase()})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.rn)("appointments",["filter"]),...(0,o.Se)(["localStorageGet","localStorageSet"]),...(0,o.Se)("appointments",["displayAppointments","filterApplied","csvExportFile","fetchAppointmentsFilteredIcs","apptTypesAndLabelsFilterOptions"]),...(0,o.Se)("staff",["currentUserCan","staffStatusPublish"])},methods:{emitFilterUpdate:Ye().debounce((function(){this.localStorageSet("ssaAppointmentFilter",JSON.stringify(this.filter),36e5),this.setLoadedAll(!1),this.setPage(1),this.$emit("update")}),1e3),exportAppointments(){let t=[];this.displayAppointments.map((e=>{t=t.concat(e.appointments)})),this.csvExportFile(t)},resetFilter(){this.setFilter(k),this.emitFilterUpdate(),this.openFilters=!1},toggleFilters(){this.openFilters=!this.openFilters},openDialog(){this.$refs["icsSubscribeDialog"].open()},closeDialog(){this.$refs["icsSubscribeDialog"].close()},copyIcsURL(){let t=this.$refs["icsURL"].textContent,e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999em",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$refs["icsURLNotice"].open()},openSearch(){this.searching=1,this.$nextTick((()=>this.$refs.searchInput.focus())),document.addEventListener("keydown",this.keyPressEsc)},keyPressEsc(t){"Escape"===t.key&&(this.closeSearch(),document.removeEventListener("keydown",this.keyPressEsc))},closeSearch(){this.searchString="",this.searching=0},...(0,o.OI)("appointments",["setFilter","setLoadedAll","setPage"])}},Gs=Fs,Ws=(0,K.Z)(Gs,Ts,xs,!1,null,null,null),Rs=Ws.exports,Hs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"notification-box",class:[`md-theme-${t.theme}`,t.inline?"inline":""]},[t.icon?e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.theme}},[t._v(t._s(t.icon))]):t._e(),e("div",{staticClass:"notification-text md-body-2"},[t._t("default")],2)],1)},qs=[],Zs={name:"notificationBox",props:{icon:String,theme:{type:String,default:"blue"},inline:{type:Boolean,default:!1}},data(){return{}}},Ks=Zs,Vs=(0,K.Z)(Ks,Hs,qs,!1,null,null,null),Ys=Vs.exports,Js=function(){var t=this,e=t._self._c;return t.appointment?e("md-dialog",{ref:"confirmCancel"},[e("md-dialog-title",[t._v(t._s(t.translations.appointments.cancelConfirm))]),e("md-dialog-content",[e("md-list",["pending_form"==t.appointment.status?e("md-list-item",[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.settings.notifications.filter.fields.appointment_type))]),e("span",[t._v(t._s(t.getAppointmentTypeById(t.appointment.appointment_type_id).title))])])]):t._e(),"pending_form"==t.appointment.status?e("md-list-item",[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.support.appointmentStartDate))]),e("span",[t._v(t._s(t.appointmentDisplayDate))])])]):t._e(),t._l(t.availableCustomerInformation,(function(s,i){return e("md-list-item",{key:i},[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i))]),e("span","string"===typeof s?[t._v(t._s(s))]:[t._v(t._s(s.join(", ")))])])])}))],2),e("md-input-container",[e("md-icon",[t._v("speaker_notes")]),e("label",{attrs:{for:"cancelationNote"+t.appointment.id}},[t._v(" "+t._s(t.translations.appointments.cancelationNote)+" ")]),e("md-textarea",{attrs:{"aria-describedby":"cancelationNoteHelperText",id:"cancelationNote"+t.appointment.id},model:{value:t.cancelationNote,callback:function(e){t.cancelationNote=e},expression:"cancelationNote"}}),e("span",{staticClass:"md-helper-text",attrs:{id:"cancelationNoteHelperText"}},[t._v(t._s(t.translations.appointments.visibleToCustomers))])],1)],1),e("md-dialog-actions",[e("md-button",{on:{click:t.closeDialog}},[t._v(t._s(t.translations.appointments.cancelConfirmCancel))]),e("md-button",{on:{click:t.cancelAppt}},[t._v(t._s(t.translations.appointments.cancelConfirmOk))])],1)],1):t._e()},Xs=[],Qs={name:"appointmentCancelDialog",props:["appointment","availableCustomerInformation"],data(){return{cancelationNote:null}},computed:{appointmentDisplayDate(){let t=H()(this.appointment.start_date,this.timestampFormat).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment);return this.shouldDisplayTimezone&&(t+=" "+H().utc(this.appointment.start_date).tz(this.settings.global.timezone_string).format("z")),t},shouldDisplayTimezone(){return this.detectedTimezone!==this.settings.global.timezone_string},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["user","settings","timestampFormat"]),...(0,o.Se)("appointment_types",["getAppointmentTypeById"]),...(0,o.Se)(["detectedTimezone"])},methods:{openDialog(){this.clearCancelationNote(),this.$nextTick((()=>{this.$refs["confirmCancel"].open()}))},closeDialog(){this.clearCancelationNote(),this.$refs["confirmCancel"].close()},cancelAppt(){var t=this.appointment.id,e={status:"canceling"};this.setAppointmentData({id:t,appt:e});var s={id:t,status:"canceled"};this.saveAppointment(s).then((()=>{})).catch((t=>{console.log(t)})),this.maybeSaveCancelationNote(t),this.closeDialog()},maybeSaveCancelationNote(t){if(!Ye().isEmpty(this.cancelationNote)&&!Ye().isEmpty(t)){var e={cancelation_note:this.cancelationNote,canceled_by_user_id:this.user.user_id};this.saveAppointmentMeta({id:t,meta:e}).then((()=>{})).catch((t=>{console.log(t)}))}},clearCancelationNote(){this.cancelationNote=null},...(0,o.nv)("appointments",["saveAppointment","saveAppointmentMeta"]),...(0,o.OI)("appointments",["setAppointmentData"])}},ti=Qs,ei=(0,K.Z)(ti,Js,Xs,!1,null,null,null),si=ei.exports,ii=function(){var t=this,e=t._self._c;return e("md-dialog",{ref:"confirmAbandon"},[e("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.markAsAbandonConfirm)+" ")]),e("md-dialog-content",[t.appointment?e("md-list",["pending_form"==t.appointment.status?e("md-list-item",[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.settings.notifications.filter.fields.appointment_type))]),e("span",[t._v(t._s(t.getAppointmentTypeById(t.appointment.appointment_type_id).title))])])]):t._e(),"pending_form"==t.appointment.status?e("md-list-item",[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.support.appointmentStartDate))]),e("span",[t._v(t._s(t.appointmentDisplayDate))])])]):t._e(),t._l(t.availableCustomerInformation,(function(s,i,n){return e("md-list-item",{key:n},[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i)+" ")]),e("span","string"===typeof s?[t._v(" "+t._s(s)+" ")]:[t._v(" "+t._s(s.join(", "))+" ")])])])}))],2):t._e()],1),e("md-dialog-actions",[e("md-button",{on:{click:t.closeDialog}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmCancel)+" ")]),e("md-button",{on:{click:t.markAsAbandoned}},[t._v(" "+t._s(t.translations.appointments.markAsAbandonconfirmOK)+" ")])],1)],1)},ni=[],ai={name:"appointmentAbandonDialog",props:["appointment","availableCustomerInformation"],computed:{appointmentDisplayDate(){let t=H()(this.appointment.start_date,this.timestampFormat).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment);return this.shouldDisplayTimezone&&(t+=" "+H().utc(this.appointment.start_date).tz(this.settings.global.timezone_string).format("z")),t},shouldDisplayTimezone(){return this.detectedTimezone!==this.settings.global.timezone_string},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)("appointment_types",["getAppointmentTypeById"]),...(0,o.Se)(["detectedTimezone"])},methods:{openDialog(){this.$nextTick((()=>{this.$refs["confirmAbandon"].open()}))},closeDialog(){this.$refs["confirmAbandon"].close()},markAsAbandoned(){var t=this.appointment.id,e={status:"abandoning"};this.setAppointmentData({id:t,appt:e});var s={id:t,status:"abandoned"};this.saveAppointment(s).then((()=>{})).catch((t=>{console.log(t)})),this.closeDialog()},...(0,o.nv)("appointments",["saveAppointment"]),...(0,o.OI)("appointments",["setAppointmentData"])}},oi=ai,ri=(0,K.Z)(oi,ii,ni,!1,null,null,null),li=ri.exports,pi={name:"appointmentsList",store:Ek,components:{loading:nt,appointmentsListItem:ws,Empty:$e,AppointmentFilter:Rs,Notification:Ys,AppointmentCancelDialog:si,AppointmentAbandonDialog:li},data(){return{currentAppointment:null,displayAllAppointments:!0,error:!1,fetchedStaff:!1,fetchedAppointments:!1,loading:!0,loadingMore:!1,moment:H()}},mounted(){this.init(),this.maybeFetchAppointments()},watch:{$route:"maybeFetchAppointments"},computed:{emptyIcon(){return this.filterApplied?"":"upcoming"===this.filter.time?this.api.admin_static_url+"/images/no-appointments.svg":""},emptyLabel(){return this.filterApplied?this.translations.appointments.emptyAll:"upcoming"===this.filter.time?this.translations.appointments.emptyUpcoming:"past"===this.filter.time?this.translations.appointments.emptyPast:this.translations.appointments.emptyAll},showTz(){let t=this.detectedTimezone;return t!==this.settings.global.timezone_string},availableCustomerInformation(){if(!this.currentAppointment)return[];let t={};return Object.keys(this.currentAppointment.customer_information).forEach((e=>{this.currentAppointment.customer_information[e].length&&(t[e]=this.currentAppointment.customer_information[e])})),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["timestampFormat","settings","api"]),...(0,o.rn)("booking_embed",["bookingEmbed"]),...(0,o.rn)("appointments",["appointments","filter","loadedAll","page","perPage","refreshMomentAppts"]),...(0,o.rn)("staff",["staff"]),...(0,o.Se)(["detectedTimezone"]),...(0,o.Se)("appointments",["appointmentCount","definedRange","displayAppointments","filterApplied"]),...(0,o.Se)("payments",["paymentsModule"]),...(0,o.Se)("staff",["currentUserCan","staffModule"])},methods:{toggleDisplayAllAppointments(){this.displayAllAppointments=!this.displayAllAppointments},calculateDisplayAllAppointments(){const t="range"===this.filter.time,e=this.filter.date_range_min?H()(this.filter.date_range_min).utc().format(this.timestampFormat):null,s=this.filter.date_range_max?H()(this.filter.date_range_max).utc().format(this.timestampFormat):null,i=t&&e&&s;this.displayAllAppointments=this.displayAppointments.length<101&&!i},confirmCancel(t){this.currentAppointment=this.appointments.find((e=>e.id.toString()===t.toString())),this.$nextTick((()=>{this.$refs.cancelDialog.openDialog()}))},confirmAbandon(t){this.currentAppointment=this.appointments.find((e=>e.id.toString()===t.toString())),this.$nextTick((()=>{this.$refs.abandonDialog.openDialog()}))},markAsBooked(){var t=this.currentAppointment.id,e={status:"booking"};this.setAppointmentData({id:t,appt:e});var s={id:t,status:"booked"};this.saveAppointment(s).then((()=>{})).catch((t=>{console.log(t)})),this.$refs["confirmBook"].close()},cancelBook(){this.$refs["confirmBook"].close()},confirmBook(t){this.currentAppointment=this.appointments.find((e=>e.id.toString()===t.toString())),this.$refs["confirmBook"].open()},init(){return!this.staffModule.enabled||this.staff||this.fetchedStaff?this.displayAppointments.length||this.fetchedAppointments?void(this.loading=!1):(this.loading=!0,void this.fetchAppointmentsFiltered().then((()=>{this.init(),this.fetchedAppointments=!0})).catch((t=>{this.error=!0,this.loading=!1,this.fetchedAppointments=!0,console.log(t)}))):(this.loading=!0,void this.fetchStaff().then((()=>{this.init(),this.fetchedStaff=!0})).catch((t=>{this.error=!0,this.loading=!1,this.fetchedStaff=!0,console.log(t)})))},loadAppointments(){this.displayAppointments.length||(this.loading=!0),this.definedRange&&(this.loading=!0),this.fetchAppointmentsFiltered().then((()=>{this.calculateDisplayAllAppointments(),this.loading=!1})).catch((t=>{this.error=!0,this.loading=!1,console.log(t)}))},loadMoreAppointments(){this.loadingMore=!0;let t=this.page;this.setPage(t+1),this.fetchAppointmentsFiltered().then((()=>{this.loadingMore=!1})).catch((t=>{this.error=!0,this.loadingMore=!1,console.log(t)}))},loadBookingEmbed(){this.fetchBookingEmbed().then((()=>{this.$refs.bookingDialog.open()}))},maybeFetchAppointments(){if(Ye().isEmpty(this.refreshMomentAppts))return void this.resetRefreshMomentAppts();let t=H()().subtract(2,"minutes");t>this.refreshMomentAppts&&(this.fetchAppointmentsFiltered(),this.resetRefreshMomentAppts())},...(0,o.nv)("booking_embed",["fetchBookingEmbed"]),...(0,o.nv)("appointments",["fetchAppointmentsFiltered","saveAppointment"]),...(0,o.nv)("staff",["fetchStaff"]),...(0,o.OI)("appointments",["setAppointmentData","setPage","resetRefreshMomentAppts"])}},di=pi,ci=(0,K.Z)(di,as,os,!1,null,null,null),mi=ci.exports,ui=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appointment"},[t.error?e("empty",{attrs:{icon:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",label:t.errorLabel,description:t.errorDescription}}):t.loading?e("loading",{attrs:{message:t.loadingMessage}}):[e("router-link",{attrs:{tag:"md-button",to:"/ssa/appointments"}},[e("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.appointments.viewAll)+" "),e("span",{staticClass:"screen-reader-text"},[t._v("View all appointments")])],1),e("md-toolbar",{staticClass:"md-transparent"},[e("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.translations.appointments.appointmentDetails))]),e("md-menu",{attrs:{"md-direction":"bottom left"}},[e("md-button",{attrs:{"md-menu-trigger":""}},[e("md-icon",[t._v("more_vert")])],1),e("md-menu-content",[t.cancelable?[t.isReservedStatus?[e("md-menu-item",{on:{click:t.confirmAbandon}},[t._v(" "+t._s(this.translations.general.abandon)+" ")])]:[e("md-menu-item",{on:{click:t.confirmCancel}},[t._v(" "+t._s(this.translations.general.cancel)+" ")])],e("md-menu-item",{on:{click:t.editAppointment}},[t._v(" "+t._s(t.translations.actions.editAsCustomer)+" ")])]:t._e(),e("md-menu-item",{on:{click:t.confirmDelete}},[t._v(" "+t._s(t.translations.actions.delete)+" ")])],2)],1)],1),e("div",{staticClass:"single-appointment"},[e("h3",{staticClass:"customer-name"},[t.wpUserGravatar(t.appointment.customer_id)?e("md-avatar",[e("img",{attrs:{src:t.wpUserGravatar(t.appointment.customer_id),alt:t.wpUserName(t.appointment.customer_id)}}),e("md-tooltip",[t._v(t._s(t.wpUserName(t.appointment.customer_id)))])],1):e("md-icon",{staticClass:"md-primary md-size-2x",attrs:{"md-theme":t.appointment.type_label}},[t._v(" face ")]),"pending_form"==t.appointment.status?e("span",{staticStyle:{"margin-left":"0.5rem"}},[t._v(" "+t._s(t.translations.appointments.statuses.pending_form)+" ")]):t._e(),t._v(" "+t._s(t.appointmentName)+" ")],1),e("p",{staticClass:"type"},[t._v(" "+t._s(t.appointment.type_title)+" "),t.appointmentStaffNames(t.appointment)?[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.appointment))+" ")]:t._e()],2),e("p",{staticClass:"time"},[t._v(" "+t._s(t.moment(t.appointment.start_date,t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" "+t._s(t.moment.utc(t.appointment.start_date).tz(t.settings.global.timezone_string).format("z"))+" ("+t._s(t.displayDuration(t.appointment.duration))+") ")]),t.appointment.web_meeting_url?e("p",{staticClass:"meeting"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" video_call ")]),e("strong",[t._v(t._s(t.translations.appointments.webMeetings.label))]),e("a",{attrs:{href:t.appointment.web_meeting_url,target:"_blank"}},[t._v(" "+t._s(t.appointment.web_meeting_url)+" ")])],1):t._e(),t.isBasic?e("ul",{staticClass:"customer-information"},t._l(t.basicCustomerInformation,(function(s,i,n){return e("li",{key:n},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},["Email"===i?[t._v("email")]:"Name"===i?[t._v("face")]:"Phone"===i?[t._v("phone")]:"Address"===i||"City"===i&&t.isAddressDisplayed(t.basicCustomerInformation,"City")||"State"===i&&t.isAddressDisplayed(t.basicCustomerInformation,"State")||"Zip"===i&&t.isAddressDisplayed(t.basicCustomerInformation,"Zip")?[t._v("place")]:"Notes"===i?[t._v("assignment")]:t._e()],2),e("span",[t._v(t._s(s))])],1)})),0):e("ul",{staticClass:"customer-information"},["pending_payment"===t.appointment.status?e("li",{staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" information ")]),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.appointments.apptReserved))])])],1):t._e(),"pending_form"===t.appointment.status?e("li",{staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" information ")]),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.appointments.noAvailableInformation))]),-1!=t.expiresIn?e("span",[t._v(" "+t._s(t.translations.appointments.abandonedIn)+" "+t._s(t.expiresIn)+" "),e("a",{attrs:{href:t.appointmentStatusGuideUrl,target:"_blank"}},[t._v(t._s(t.translations.appointments.learnMorePending))])]):e("span",[t._v(" "+t._s(t.translations.appointments.abandonedOn)+" "+t._s(t.moment.utc(t.appointment.expiration_date).tz(t.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment))+" ")])])],1):t._e(),"pending_payment"===t.appointment.status?e("li",{staticClass:"md-inset"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v("payment")]),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(" "+t._s(t.translations.appointments.waiting)+" "+t._s(t.appointment.payment_method)+" ")]),-1!=t.expiresIn?e("span",[t._v(" "+t._s(t.translations.appointments.abandonedIn)+" "+t._s(t.expiresIn)+" "),e("a",{attrs:{href:t.appointmentStatusGuideUrl,target:"_blank"}},[t._v(t._s(t.translations.appointments.learnMorePending))])]):e("span",[t._v(" "+t._s(t.translations.appointments.abandonedOn)+" "+t._s(t.moment.utc(t.appointment.expiration_date).tz(t.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment))+" ")])])],1):t._e(),t._l(t.paidCustomerInformation,(function(s,i,n){return e("li",{key:n},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(t._s(t.icons[i]?t.icons[i]:"bookmark"))]),e("span",[e("span",[t._v(t._s(i))]),e("span","string"===typeof s?[t._v(t._s(s))]:[t._v(t._s(s.join(", ")))])])],1)}))],2),t.loadingMeta?e("loading",{attrs:{size:"body",message:t.translations.appointments.metaLoading}}):!t.loading&&t.appointment&&t.appointment.meta?e("appointment-meta",{attrs:{"appointment-id":t.id}}):t._e(),e("div",{staticClass:"appointment-details"},[e("dl",{staticClass:"appointment-detail"},[e("dt",[t._v(t._s(t.translations.appointments.status))]),e("dd",[t._v(" "+t._s(t.appointment.status)+" "),"0"!==t.appointment.rescheduled_to_appointment_id?[t._v(" - "+t._s(t.translations.appointments.rescheduled))]:t._e(),"0"!==t.appointment.rescheduled_from_appointment_id&&t.rescheduledFromAppointment?[e("div",[e("strong",[t._v(t._s(t.translations.appointments.viewOriginal)+":")]),t._v(" "),e("router-link",{attrs:{to:"/ssa/appointment/"+t.appointment.rescheduled_from_appointment_id}},[t._v(t._s(t.rescheduledFromDatetime))])],1)]:t._e(),"0"!==t.appointment.rescheduled_to_appointment_id&&t.rescheduledToAppointment?[e("div",[e("strong",[t._v(t._s(t.translations.appointments.viewRescheduled)+":")]),t._v(" "),e("router-link",{attrs:{to:"/ssa/appointment/"+t.appointment.rescheduled_to_appointment_id}},[t._v(t._s(t.rescheduledToDatetime))])],1)]:t._e()],2)]),t.isPhoneAppointment&&t.isSmsEnabled?e("dl",{staticClass:"appointment-detail"},[e("dt",[t._v(t._s(t.translations.appointments.sms))]),t.allowSms?e("dd",[t._v(" "+t._s(t.translations.appointments.smsStatuses.optedin))]):t._e(),t.allowSms?t._e():e("dd",[t._v(" "+t._s(t.translations.appointments.smsStatuses.optedout)+" ")])]):t._e(),e("dl",{staticClass:"appointment-detail"},[e("dt",[t._v(t._s(t.translations.appointments.created))]),e("dd",[t._v(t._s(t.moment.utc(t.appointment.date_created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z")))])]),t.wpUserName(t.appointment.customer_id)?e("dl",{staticClass:"appointment-detail"},[e("dt",[t._v(t._s(t.translations.appointments.customer))]),e("dd",[e("a",{attrs:{href:t.wpUserLink(t.appointment.customer_id)}},[t._v(" "+t._s(t.wpUserName(t.appointment.customer_id))+" ")])])]):t._e(),t.wpUserName(t.appointment.author_id)?e("dl",{staticClass:"appointment-detail"},[e("dt",[t._v(t._s(t.translations.appointments.author))]),e("dd",[e("a",{attrs:{href:t.wpUserLink(t.appointment.author_id)}},[t._v(" "+t._s(t.wpUserName(t.appointment.author_id))+" ")])])]):t._e(),e("dl",{staticClass:"appointment-detail"},[e("dt",[t._v(t._s(t.translations.appointments.lastMod))]),e("dd",[t._v(t._s(t.moment.utc(t.appointment.date_modified,t.timestampFormat).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z")))])]),t.cancelable?e("dl",{staticClass:"appointment-detail"},[e("dt",[t._v(t._s(t.translations.appointments.cancelRescheduleLink))]),e("dd",[e("a",{attrs:{href:t.appointment.public_edit_url,target:"_blank"}},[t._v(t._s(t.translations.appointments.cancelRescheduleLinkOpen))])])]):t._e()]),t.loadingPayments?e("loading",{attrs:{message:t.translations.appointments.paymentLoading}}):t.appointment.payments&&t.appointment.payments.length>0?e("div",{staticClass:"appointment-payments"},[e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.appointments.paymentInformation))]),e("div",{staticClass:"payment-list"},t._l(t.appointment.payments,(function(t){return e("appointment-payment-item",{key:t.id,attrs:{payment:t}})})),1)]):t._e(),t.displayHistory?e("div",[e("appointment-revisions",t._b({},"appointment-revisions",{appointment:t.appointment},!1))],1):t._e()],1)],e("AppointmentCancelDialog",t._b({ref:"cancelDialog"},"AppointmentCancelDialog",{appointment:t.appointment,availableCustomerInformation:t.availableCustomerInformation},!1)),e("AppointmentAbandonDialog",t._b({ref:"abandonDialog"},"AppointmentAbandonDialog",{appointment:t.appointment,availableCustomerInformation:t.availableCustomerInformation},!1)),e("md-dialog",{ref:"confirmDelete"},[e("md-dialog-title",[t._v(t._s(t.translations.appointments.deleteConfirm))]),e("md-dialog-content",[e("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.appointments.deleteConfirmExplanation)+" "),t.cancelable?[t._v(" "+t._s(t.translations.appointments.deleteConfirmExplanationCancelable)+" ")]:t._e()],2),t.appointment?e("md-list",t._l(t.availableCustomerInformation,(function(s,i){return e("md-list-item",{key:i},[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i))]),e("span","string"===typeof s?[t._v(t._s(s))]:[t._v(t._s(s.join(", ")))])])])})),1):t._e()],1),e("md-dialog-actions",[e("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.appointments.cancelDeleteCancel))]),e("md-button",{on:{click:t.deleteAppt}},[t._v(t._s(t.translations.appointments.cancelDeleteOk))])],1)],1),e("md-dialog",{ref:"editDialog",staticClass:"ssa-iframe-dialog",on:{close:t.refreshAppointment}},[e("button",{staticClass:"md-icon-button md-raised",on:{click:function(e){return t.$refs.editDialog.close()}}},[e("md-icon",[t._v("close")])],1),e("md-dialog-content",[e("div",{staticClass:"ssa-dialog-iframe-container"},[e("iframe",{attrs:{src:t.editEmbedSrc,loading:"eager"}})])])],1)],2)},hi=[],gi=function(){var t=this,e=t._self._c;return e("div",{key:t.payment.id,staticClass:"payment-list-item"},[e("div",{staticClass:"payment-row"},[e("div",{staticClass:"amount",class:t.payment.status},[t._v(" "+t._s(t.formattedPrice)+" "),e("span",{staticClass:"currency"},[t._v(t._s(t.payment.currency))])]),e("div",{staticClass:"status"},[e("md-chip",{staticClass:"md-primary",attrs:{"md-theme":t.statusTheme}},[t._v(" "+t._s(t.translations.appointments.payments.statuses[t.payment.status])+" ")])],1)]),e("div",{staticClass:"payment-row"},[e("div",{staticClass:"gateway"},[e("span",{staticClass:"gateway-name"},[t._v(t._s(t.displayGateway(t.payment.gateway)))]),"stripe"===t.payment.gateway?[t._v(" - "),e("a",{staticClass:"gateway-id",attrs:{href:t.stripePaymentLink+t.payment.gateway_transaction_id,target:"_blank"}},[t._v(" "+t._s(t.payment.gateway_transaction_id)+" ")])]:t._e()],2),e("div",{staticClass:"mode"},[e("span",{staticClass:"mode-tag",class:t.payment.payment_mode},[t._v(" "+t._s(t.translations.appointments.payments.modes[t.payment.payment_mode])+" ")])])]),e("div",{staticClass:"payment-row"},[e("div",{staticClass:"date"},["stripe"===t.payment.gateway?[t._v(" "+t._s(t.moment.unix(t.payment.gateway_payload.created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z"))+" ")]:[t._v(" "+t._s(t.moment.utc(t.payment.date_created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z"))+" ")]],2)]),t.payment.notes?e("div",{staticClass:"payment-row"},[e("p",[t._v(t._s(t.payment.notes))])]):t._e(),"stripe"===t.payment.gateway&&"card"===t.paymentMethod?e("div",{staticClass:"payment-row"},[e("div",{staticClass:"cc"},[t._v(" "+t._s(t.card.brand)+" "),e("span",{staticClass:"cc-number"},[t._v(" • • • • "+t._s(t.card.last4)+" ")]),t._v(" "+t._s(t.translations.appointments.payments.expires)+" "+t._s(t.card.exp_month)+"/"+t._s(t.card.exp_year)+" ")])]):t._e()])},_i=[],fi={name:"payment-item",props:["payment"],data(){return{moment:H(),stripePaymentLink:D}},computed:{statusTheme(){let t="";switch(this.payment.status){case"succeeded":t="green";break;case"pending":t="amber";break;case"failed":t="orange";break}return t},formattedPrice(){let t=this.payment.amount_paid;return"succeeded"!==this.payment.status&&(t=this.payment.amount_attempted),this.displayPrice(t,this.payment.currency)},charge(){return this.payment.gateway_response.charges?.data[0]||this.payment.gateway_response.latest_charge},paymentMethod(){return this.charge?this.charge.payment_method_details.type:null},card(){return this.charge&&"card"===this.paymentMethod?this.charge.payment_method_details.card:null},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.Se)("payments",["displayGateway","displayPrice"])}},yi=fi,vi=(0,K.Z)(yi,gi,_i,!1,null,null,null),bi=vi.exports,ki=function(){var t=this,e=t._self._c;return t.showMeta?e("div",{staticClass:"appointment-details"},t._l(t.whitelistedMetaWithLabelValues,(function(s){return e("dl",{key:s.key,staticClass:"appointment-detail"},[e("dt",[t._v(t._s(s.name))]),"entry"===s.type?e("dd",[e("a",{attrs:{href:s.value}},[t._v(" "+t._s(t.translations.appointments.metaFields.viewEntry)+" ")])]):t._e(),"url"===s.type?e("dd",[e("a",{attrs:{href:s.value}},[t._v(" "+t._s(s.value)+" ")])]):t._e(),"string"===s.type?e("dd",[t._v(" "+t._s(s.value)+" ")]):t._e()])})),0):t._e()},Ci=[],Si={name:"appointmentMeta",props:["appointmentId"],data(){return{meta_whitelist:["formidable_entry_admin_url","gravity_entry_admin_url","booking_url","booking_post_id","booking_title"]}},computed:{appointment(){return this.appointments.find((t=>t.id.toString()===this.appointmentId.toString()))},whitelistedMeta(){return Object.fromEntries(Object.entries(this.appointment.meta).filter((([t])=>this.meta_whitelist.includes(t))))},whitelistedMetaWithLabelValues(){return Object.keys(this.whitelistedMeta).map((t=>{const e=this.whitelistedMeta[t];let s={key:t,type:"string",name:this.translations.appointments.metaFields[t],value:e};return["formidable_entry_admin_url","gravity_entry_admin_url"].includes(t)&&(s.type="entry"),["booking_url"].includes(t)&&(s.type="url"),s}))},showMeta(){return this.appointment&&this.whitelistedMeta&&!Ye().isEmpty(this.whitelistedMeta)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointments",["appointments"])}},wi=Si,Ti=(0,K.Z)(wi,ki,Ci,!1,null,null,null),xi=Ti.exports,Ai=function(){var t=this,e=t._self._c;return e("div",[t.loadingHistory?e("loading",{attrs:{message:t.translations.appointments.loadingHistory}}):e("div",[t.appointmentHistory?.length?e("div",{staticClass:"timeline-header"},[e("h3",[t._v(" "+t._s(t.translations.appointments.appointmentHistory)+" ")]),e("div",[e("appointment-revisions-filter",t._b({model:{value:t.selectedActions,callback:function(e){t.selectedActions=e},expression:"selectedActions"}},"appointment-revisions-filter",{takenActions:t.takenActions,theme:t.theme},!1))],1)]):t._e(),t._l(t.filteredAppointmentHistory,(function(s){return e("appointment-revision-row",{key:s.id,attrs:{revision:s,theme:t.theme}})}))],2)],1)},Pi=[],Di=function(){var t=this,e=t._self._c;return e("div",{staticClass:"timeline-item"},[e("div",{staticClass:"timeline-item-date"},[t._v(" "+t._s(t.moment.utc(t.revision.date_created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z"))+" ")]),e("div",{staticClass:"timeline-item-line"}),e("div",{staticClass:"timeline-item-icon"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"success"===t.revision.result?"green":"reverse"}},[t._v(t._s(t.icon))])],1),e("div",{staticClass:"timeline-item-content chat-bubble",class:[`md-theme-${t.theme}`]},[e("div",{staticClass:"timeline-item-title"},[t._v(t._s(t.revision.action_title))]),e("div",{staticClass:"timeline-item-subtitle"},[t._v(t._s(t.revision.action_summary_populated))])])])},Mi=[],Ei={name:"appointmentRevisionRow",props:{revision:{type:Object,required:!0},theme:{type:String,required:!0}},data(){return{moment:H()}},computed:{icon(){switch(this.revision.action){case"booked":return"check_circle";case"rescheduled":return"event_repeat";case"canceled":return"cancel";case"sync_appointment_to_calendar":return"autorenew";case"edited":return"edit";case"abandoned":return"disabled_by_default";case"pending_payment":return"pending";case"pending_form":return"pending";default:return"info"}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"])}},Li=Ei,Oi=(0,K.Z)(Li,Di,Mi,!1,null,"2fb002c4",null),$i=Oi.exports,Ii=function(){var t=this,e=t._self._c;return e("div",{staticClass:"filterWrapper"},[e("div",[e("md-button",{staticClass:"md-primary indicator-button",on:{click:t.toggleFilters}},[e("md-icon",[t._v("filter_list")]),t._v(" "+t._s(t.translations.appointments.filter.filter)+" "),t.filterApplied?e("span",{staticClass:"indicator"}):t._e()],1)],1),t.isMenuOpen?e("div",{staticClass:"popupContainer"},[e("div",{staticClass:"popupOverlay"}),e("div",{staticClass:"popupContent",attrs:{id:"popup-content"}},t._l(t.takenActions,(function(s,i){return e("div",{key:i,staticClass:"check-item"},[e("foxy-checkbox-multi",{key:i,attrs:{id:"revision-action-"+i,name:"revision-actions",value:s,theme:t.theme?t.theme:"light-green",theming:"primary"},model:{value:t.selectedActions,callback:function(e){t.selectedActions=e},expression:"selectedActions"}},[t._v(" "+t._s(t.displayAction(s))+" ")])],1)})),0)]):t._e()])},Ni=[],ji={name:"appointmentRevisionsFilter",components:{},props:{theme:{type:String,required:!0},takenActions:{type:Array,required:!0},value:{required:!0}},data(){return{isMenuOpen:!1,parentElement:null,inputElements:null}},mounted(){document.addEventListener("click",this.OverlayClickHandler),document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy(){document.removeEventListener("click",this.OverlayClickHandler),document.removeEventListener("keydown",this.keyDownHandler)},computed:{selectedActions:{get(){return this.value},set(t){this.$emit("input",t)}},filterApplied(){return!!this.value?.length},checkboxes(){return this.getCheckboxes()},firstCheckboxElement(){return this.checkboxes.length?this.checkboxes[0]:null},lastCheckboxElement(){return this.checkboxes.length?this.checkboxes[this.checkboxes.length-1]:null},...(0,o.rn)("translations",["translations"])},methods:{toggleFilters(){this.parentElement=null,this.inputElements=null,this.isMenuOpen=!this.isMenuOpen},displayAction(t){return this.translations.appointments.actions[t]},OverlayClickHandler(t){this.isMenuOpen&&t.target.matches(".popupOverlay")&&this.toggleFilters()},keyDownHandler(t){if(!this.isMenuOpen)return;if("Escape"===t.key)return void this.toggleFilters();const e=this.firstCheckboxElement,s=this.lastCheckboxElement,i=document.activeElement;if("Tab"===t.key){const n=i===e,a=i===s;t.shiftKey?n&&(t.preventDefault(),s.focus()):a&&(t.preventDefault(),e.focus())}},getCheckboxes(){if(!this.isMenuOpen)return[];const t=this.parentElement||(this.parentElement=document.querySelector("#popup-content")),e=this.inputElements||(this.inputElements=t?.querySelectorAll('input[type="checkbox"]'));return e||[]}}},zi=ji,Ui=(0,K.Z)(zi,Ii,Ni,!1,null,"77500788",null),Bi=Ui.exports,Fi={name:"appointmentRevisions",components:{AppointmentRevisionRow:$i,AppointmentRevisionsFilter:Bi,Loading:nt},props:{appointment:{type:Object,required:!0}},data(){return{loadingHistory:!1,filterBy:[]}},mounted(){this.fetchHistory()},computed:{theme(){return this.appointment.type_label},filteredAppointmentHistory(){return Ye().isEmpty(this.filterBy)?this.appointmentHistory:this.appointmentHistory.filter((t=>this.filterBy.includes(t.action)))},takenActions(){const t=new Set;return this.appointmentHistory.forEach((e=>{e.action&&t.add(e.action)})),Array.from(t)},selectedActions:{get(){return this.filterBy},set(t){this.filterBy=t}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointments",["appointmentHistory"])},methods:{fetchHistory(){this.loadingHistory=!0,this.fetchAppointmentHistory(this.appointment.id).then((()=>{this.loadingHistory=!1}))},...(0,o.nv)("appointments",["fetchAppointmentHistory"])}},Gi=Fi,Wi=(0,K.Z)(Gi,Ai,Pi,!1,null,"6e3d0229",null),Ri=Wi.exports,Hi={name:"appointmentDetails",components:{Empty:$e,Loading:nt,AppointmentPaymentItem:bi,AppointmentMeta:xi,Notification:Ys,AppointmentCancelDialog:si,AppointmentRevisions:Ri,AppointmentAbandonDialog:li},props:["id"],data(){return{appointment:null,editEmbedSrc:"",error:!1,errorDescription:"",errorLabel:"",fetchedStaff:!1,loading:!0,loadingMessage:"",loadingMeta:!1,loadingPayments:!1,moment:H(),expiresIn:"",expirationDate:"",countDownInterval:null}},watch:{appointmentsList(){this.appointment=this.appointments.find((t=>t.id===this.id)),this.appointment&&(this.appointment=this.prepAppointment(this.appointment))},id(t,e){t!==e&&this.displayAppointment()}},beforeDestroy(){clearInterval(this.countDownInterval)},mounted(){this.loadingMessage=this.translations.appointments.loadingSingle,this.displayAppointment();let t=[z.appointment_details];this.paymentsModule.installed&&this.paymentsModule.enabled&&t.push(z.appointment_details_payments_enabled),this.getGuides({"ssasc-plugin-screen":t}),this.appointment&&this.appointment.status.match(/pending.*/)&&(this.countDown(),this.countDownInterval=setInterval(this.countDown,6e4))},computed:{appointmentsList(){return this.appointments},appointmentName(){return this.appointment.customer_information.name?this.appointment.customer_information.name:this.appointment.customer_information.Name},isBasic(){return!this.settings.installed.license},availableCustomerInformation(){if(!this.appointment)return[];let t={};return Object.keys(this.appointment.customer_information).forEach((e=>{this.appointment.customer_information[e]&&this.appointment.customer_information[e].length&&(t[e]=this.appointment.customer_information[e])})),t},basicCustomerInformation(){if(!this.appointment||!this.isBasic)return[];let t={};return Object.keys(this.availableCustomerInformation).forEach((e=>{"name"!==e&&(t[e]=this.appointment.customer_information[e])})),t},paidCustomerInformation(){if(!this.appointment||this.isBasic)return[];let t={};return Object.keys(this.availableCustomerInformation).forEach((e=>{"Name"!==e&&(t[e]=this.appointment.customer_information[e])})),t},icons(){let t={},e=this.appointmentTypes.filter((t=>t.id===this.appointment.appointment_type_id))[0];return e&&e.custom_customer_information.forEach((e=>{t[e.field]=e.icon})),t},cancelable(){if(!this.appointment)return;let t=!0;"canceled"!==this.appointment.status&&"abandoned"!==this.appointment.status||(t=!1);let e=H()(),s=H()(this.appointment.start_date,this.timestampFormat);return s.isBefore(e)&&(t=!1),t},dateFormat(){return this.settings.global.date_format_moment},timeFormat(){return this.settings.global.time_format_moment},dateTimeFormat(){return this.dateFormat+" "+this.timeFormat+" z"},rescheduledToAppointment(){if(this.appointment&&"0"!==this.appointment.rescheduled_to_appointment_id)return this.appointments.find((t=>t.id===this.appointment.rescheduled_to_appointment_id))},rescheduledFromAppointment(){if(this.appointment&&"0"!==this.appointment.rescheduled_from_appointment_id)return this.appointments.find((t=>t.id===this.appointment.rescheduled_from_appointment_id))},rescheduledToDatetime(){if(this.rescheduledToAppointment)return H().utc(this.rescheduledToAppointment.start_date).tz(this.settings.global.timezone_string).format(this.dateTimeFormat)},rescheduledFromDatetime(){if(this.rescheduledFromAppointment)return H().utc(this.rescheduledFromAppointment.start_date).tz(this.settings.global.timezone_string).format(this.dateTimeFormat)},allowSms(){return this.castToBoolean(this.appointment.allow_sms)},isPhoneAppointment(){return this.phoneAppointmentTypes.find((t=>t.id===this.appointment.appointment_type_id))},isSmsEnabled(){return this.castToBoolean(this.sms.enabled)},appointmentStatusGuideUrl(){const t="https://simplyscheduleappointments.com/guides/booking-status-overview/",e={utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_term:"pending-payment",utm_content:"booking-status-overview"};return`${t}?${Ft().stringify(e)}`},displayHistory(){return!!this.settings.developer?.display_appointment_revisions&&null!==this.appointment},isReservedStatus(){return b.includes(this.appointment?.status)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","timestampFormat"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.rn)("appointments",["appointments"]),...(0,o.rn)("staff",["staff"]),...(0,o.Se)(["displayDuration","castToBoolean"]),...(0,o.Se)("staff",["appointmentStaffNames","staffModule"]),...(0,o.Se)("appointments",["prepAppointment","wpUserGravatar","wpUserLink","wpUserName","isAddressDisplayed"]),...(0,o.Se)("payments",["paymentsModule"]),...(0,o.Se)("notifications",["phoneAppointmentTypes","sms"])},methods:{cancelDelete(){this.$refs["confirmDelete"].close()},confirmCancel(){this.$refs.cancelDialog.openDialog()},confirmAbandon(){this.$refs.abandonDialog.openDialog()},confirmDelete(){this.$refs["confirmDelete"].open()},editAppointment(){this.editEmbedSrc=this.appointment.public_edit_url,this.$refs.editDialog.open()},deleteAppt(){this.loadingMessage=this.translations.appointments.deletingSingle,this.loading=!0,this.$refs["confirmDelete"].close(),this.deleteAppointment(this.appointment).then((()=>{this.$router.push("/ssa/appointments")})).catch((t=>{console.log(t)}))},displayAppointment(){return this.loading=!0,this.appointment=this.appointments.find((t=>t.id===this.id)),this.appointment?(this.appointment=this.prepAppointment(this.appointment),this.loading=!1,this.error=!1,this.maybeFetchPayments(),this.maybeFetchMeta(),void this.maybeFetchRescheduledAppointments()):!this.staffModule.enabled||this.staff||this.fetchedStaff?void this.fetchAppointment(this.id).then((()=>{this.loading=!1,this.appointment=this.appointments.find((t=>t.id===this.id)),this.appointment?(this.appointment=this.prepAppointment(this.appointment),this.maybeFetchPayments(),this.maybeFetchMeta(),this.maybeFetchRescheduledAppointments(),this.appointment.status.match(/pending.*/)&&(this.countDown(),this.countDownInterval=setInterval(this.countDown,6e4))):(this.error=!0,this.errorLabel=this.translations.appointments.errorNotFound,this.errorDescription=this.translations.appointments.errorNotFoundDescription)})).catch((t=>{console.log(t),this.error=!0,this.errorLabel=this.translations.appointments.errorLoading,this.errorDescription=this.translations.appointments.errorLoadingDescription})):(this.loading=!0,void this.fetchStaff().then((()=>{this.displayAppointment(),this.fetchedStaff=!0})).catch((t=>{console.log(t),this.error=!0,this.errorLabel=this.translations.appointments.errorLoading,this.errorDescription=this.translations.appointments.errorLoadingDescription})))},maybeFetchPayments(){this.paymentsModule.installed&&(Object.prototype.hasOwnProperty.call(this.appointment,"payments")||(this.loadingPayments=!0,this.fetchPayments(this.appointment.id).then((()=>{this.loadingPayments=!1}))))},maybeFetchMeta(){Object.prototype.hasOwnProperty.call(this.appointment,"meta")||(this.loadingMeta=!0,this.fetchAppointmentMeta(this.appointment).then((()=>{this.loadingMeta=!1})))},refreshAppointment(){this.loading=!0,this.fetchAppointment(this.id).then((()=>{this.loading=!1,this.appointment=this.appointments.find((t=>t.id===this.id)),this.appointment?(this.appointment=this.prepAppointment(this.appointment),this.maybeFetchPayments(),this.maybeFetchMeta(),this.maybeFetchRescheduledAppointments()):(this.error=!0,this.errorLabel=this.translations.appointments.errorNotFound,this.errorDescription=this.translations.appointments.errorNotFoundDescription)})).catch((t=>{console.log(t),this.error=!0,this.errorLabel=this.translations.appointments.errorLoading,this.errorDescription=this.translations.appointments.errorLoadingDescription}))},maybeFetchRescheduledAppointments(){this.appointment&&("0"===this.appointment.rescheduled_to_appointment_id||this.rescheduledToAppointment||this.fetchAppointment(this.appointment.rescheduled_to_appointment_id),"0"===this.appointment.rescheduled_from_appointment_id||this.rescheduledFromAppointment||this.fetchAppointment(this.appointment.rescheduled_from_appointment_id))},countDown(){this.expirationDate=H().utc(this.appointment.expiration_date),H().duration(this.expirationDate.diff(H().utc()))<=0?(this.expiresIn=-1,clearInterval(this.countDownInterval)):this.expiresIn=H().duration(this.expirationDate.diff(H().utc())).humanize(!0)},...(0,o.nv)("appointments",["deleteAppointment","fetchAppointment","fetchAppointmentMeta","saveAppointment"]),...(0,o.nv)("payments",["fetchPayments"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("staff",["fetchStaff"])}},qi=Hi,Zi=(0,K.Z)(qi,ui,hi,!1,null,null,null),Ki=Zi.exports,Vi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appointment group"},[t.error?e("empty",{attrs:{icon:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",label:t.errorLabel,description:t.errorDescription}}):t.loading?e("loading",{attrs:{message:t.loadingMessage}}):[e("router-link",{attrs:{tag:"md-button",to:"/ssa/appointments"}},[e("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.appointments.viewAll)+" ")],1),e("md-toolbar",{staticClass:"md-transparent"},[e("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(" "+t._s(t.translations.appointments.group.appointmentDetails)+" ")]),e("md-menu",[e("md-button",{attrs:{"md-menu-trigger":""}},[e("md-icon",[t._v(" more_vert ")]),e("span",{staticClass:"screen-reader-text"},[t._v("Appointment options")])],1),e("md-menu-content",[e("md-menu-item",{on:{click:t.exportToCsv}},[t._v(" Export ")]),t.isCancelable?e("md-menu-item",{on:{click:t.confirmGroupCancel}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]):t._e(),e("md-menu-item",{on:{click:t.confirmGroupDelete}},[t._v(" "+t._s(t.translations.actions.delete)+" ")])],1)],1)],1),e("div",{staticClass:"single-group-appointment"},[e("h3",{staticClass:"md-title"},[t._v(" "+t._s(t.appointmentTypeMeta.type_title)+" "),t.appointmentStaffNames(t.groupAppointments)?[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.groupAppointments))+" ")]:t._e(),"canceled"===t.groupAppointmentStatus(t.groupAppointments)?e("span",{staticClass:"status canceled"},[t._v(" ("+t._s(t.translations.appointments.statuses["canceled"])+") ")]):t._e()],2),e("p",{staticClass:"md-subheading"},[t._v(" "+t._s(t.moment(t.appointmentTypeMeta.start_date,t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" "+t._s(t.moment.utc(t.appointmentTypeMeta.start_date).tz(t.settings.global.timezone_string).format("z"))+" ("+t._s(t.displayDuration(t.appointmentTypeMeta.duration))+") ")]),e("md-list",{staticClass:"md-triple-line"},t._l(t.groupAppointments,(function(s,i){return e("md-list-item",{key:i,class:"status-"+s.status},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointmentTypeMeta.type_label}},[t._v(" person ")]),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(s.customer_information.Name))]),e("span",[t._v(t._s(s.customer_information.Email))]),e("p",[e("router-link",{attrs:{to:"/ssa/appointment/"+s.id}},[t._v(" "+t._s(t.translations.appointments.group.viewDetails))]),t.isInFuture&&"canceled"!==s.status?[t._v(" | "),e("button",{staticClass:"link",on:{click:function(e){return t.confirmCancel(s.id)}}},[t._v(" "+t._s(t.translations.appointments.cancel)+" ")])]:t._e()],2)])],1)})),1)],1)],e("md-dialog",{ref:"confirmCancel"},[e("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.cancelConfirm)+" ")]),e("md-dialog-content",[t.currentAppointment?e("md-list",t._l(t.availableCustomerInformation,(function(s,i,n){return e("md-list-item",{key:n},[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i)+" ")]),e("span","string"===typeof s?[t._v(" "+t._s(s)+" ")]:[t._v(" "+t._s(s.join(", "))+" ")])])])})),1):t._e()],1),e("md-dialog-actions",[e("md-button",{on:{click:t.cancelCancel}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmCancel)+" ")]),e("md-button",{on:{click:t.cancelAppt}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmOk)+" ")])],1)],1),e("md-dialog",{ref:"confirmCancelGroup"},[e("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.group.cancelConfirm)+" ")]),e("md-dialog-content",[e("p",[t._v(t._s(t.translations.appointments.group.cancelConfirmBody))]),t.groupAppointments.length?e("ul",t._l(t.groupAppointments,(function(s,i){return e("li",{key:i},[t._v(" "+t._s(s.customer_information.Name)+" ")])})),0):t._e()]),e("md-dialog-actions",[e("md-button",{on:{click:t.cancelCancelGroup}},[t._v(" "+t._s(t.translations.appointments.group.cancelConfirmCancel)+" ")]),e("md-button",{on:{click:t.cancelGroup}},[t._v(" "+t._s(t.translations.appointments.group.cancelConfirmOk)+" ")])],1)],1),e("md-dialog",{ref:"confirmDeleteGroup"},[e("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.group.deleteConfirm)+" ")]),e("md-dialog-content",[e("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.appointments.group.deleteConfirmExplanation)+" "),t.isCancelable?[t._v(" "+t._s(t.translations.appointments.group.deleteConfirmExplanationCancelable)+" ")]:t._e()],2),t.groupAppointments.length?[e("p",[t._v(t._s(t.translations.appointments.group.deleteConfirmBody))]),e("ul",t._l(t.groupAppointments,(function(s,i){return e("li",{key:i},[t._v(" "+t._s(s.customer_information.Name)+" ")])})),0)]:t._e()],2),e("md-dialog-actions",[e("md-button",{on:{click:t.cancelDeleteGroup}},[t._v(" "+t._s(t.translations.appointments.group.cancelDeleteCancel)+" ")]),e("md-button",{on:{click:t.deleteAppointment}},[t._v(" "+t._s(t.translations.appointments.group.cancelDeleteOk)+" ")])],1)],1)],2)},Yi=[],Ji={name:"group-appointment",components:{Empty:$e,Loading:nt,Notification:Ys},props:["id"],data(){return{currentAppointment:null,error:!1,errorDescription:"",errorLabel:"",loading:!0,loadingMessage:"",moment:H()}},watch:{id(t,e){t!==e&&this.displayAppointment()}},mounted(){this.loadingMessage=this.translations.appointments.loadingSingle,this.displayAppointment()},computed:{appointmentTypeMeta(){if(!this.groupAppointments.length)return;let t=this.groupAppointments[0];return this.prepAppointment(t)},isCancelable(){return!!this.groupAppointments.length&&(this.isInFuture&&"canceled"!==this.groupAppointmentStatus(this.groupAppointments))},isInFuture(){if(!this.groupAppointments.length)return!1;let t=H()(),e=H()(this.appointmentTypeMeta.start_date,this.timestampFormat);return e.isSameOrAfter(t)},groupAppointments(){return this.appointments.length?this.appointments.filter((t=>t.group_id===this.id)):[]},availableCustomerInformation(){if(!this.currentAppointment)return[];let t={};return Object.keys(this.currentAppointment.customer_information).forEach((e=>{this.appointment.customer_information[e].length&&(t[e]=this.appointment.customer_information[e])})),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","timestampFormat"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.rn)("appointments",["appointments"]),...(0,o.Se)(["displayDuration"]),...(0,o.Se)("appointments",["csvExportFile","groupAppointmentStatus","prepAppointment"]),...(0,o.Se)("staff",["appointmentStaffNames"])},methods:{cancelAppt(){let t=this.currentAppointment.id,e={status:"canceling"};this.setAppointmentData({id:t,appt:e});let s={id:t,status:"canceled"};this.saveAppointment(s).then((()=>{})).catch((t=>{console.log(t)})),this.$refs["confirmCancel"].close()},cancelCancel(){this.$refs["confirmCancel"].close()},confirmCancel(t){this.currentAppointment=this.groupAppointments.find((e=>e.id.toString()===t.toString())),this.$refs["confirmCancel"].open()},cancelCancelGroup(){this.$refs["confirmCancelGroup"].close()},confirmGroupCancel(){this.$refs["confirmCancelGroup"].open()},cancelGroup(){this.cancelGroupAppointment(this.id).then((()=>{})).catch((t=>{console.log(t)})),this.$refs["confirmCancelGroup"].close()},confirmGroupDelete(){this.$refs["confirmDeleteGroup"].open()},cancelDeleteGroup(){this.$refs["confirmDeleteGroup"].close()},deleteAppointment(){this.loadingMessage=this.translations.appointments.group.deleting,this.loading=!0,this.$refs["confirmDeleteGroup"].close(),this.deleteGroupAppointment(this.id).then((()=>{this.$router.push("/ssa/appointments")})).catch((t=>{console.log(t)}))},checkGroupAppointments(){this.groupAppointments.length||(this.error=!0,this.errorLabel=this.translations.appointments.errorNotFound,this.errorDescription=this.translations.appointments.errorNotFoundDescription)},displayAppointment(){if(this.loading=!0,this.groupAppointments.length)return this.loading=!1,void(this.error=!1);this.fetchAppointments({group_id:this.id}).then((()=>{this.loading=!1,this.checkGroupAppointments()}))},exportToCsv(){this.csvExportFile(this.groupAppointments)},...(0,o.nv)("appointments",["cancelGroupAppointment","deleteGroupAppointment","fetchAppointments","saveAppointment"]),...(0,o.OI)("appointments",["setAppointmentData"])}},Xi=Ji,Qi=(0,K.Z)(Xi,Vi,Yi,!1,null,"23a08c83",null),tn=Qi.exports,en=[{path:"appointments",name:"appointments",component:mi,meta:{ssa_manage_appointments:!0,ssa_manage_others_appointments:!0}},{path:"appointment/:id",component:Ki,props:!0,meta:{ssa_manage_appointments:!0,ssa_manage_others_appointments:!0}},{path:"event/:id",component:tn,props:!0,meta:{ssa_manage_appointments:!0,ssa_manage_others_appointments:!0}}],sn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appointment-types-all"},[e("router-view",{on:{saved:t.backToList}})],1)},nn=[],an={name:"appointmentTypesAll",store:Ek,data(){return{}},methods:{backToList(){this.$router.push("/ssa/appointment-types/all")}}},on=an,rn=(0,K.Z)(on,sn,nn,!1,null,null,null),ln=rn.exports,pn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-types"},[e("md-toolbar",{staticClass:"md-transparent"},[e("div",[e("h2",{staticClass:"md-title"},[t.bulkEditMode?[t._v(" "+t._s(t.bulkEditingComputed.length)+" "+t._s(t.translations.general.selected)+" ")]:[0===t.deletedAppointmentTypes.length?[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")]:t._e(),t.deletedAppointmentTypes.length?e("md-input-container",{staticClass:"title"},[e("label",{attrs:{for:"filter-time"}},[e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")])]),e("md-select",{staticClass:"ssa-appointment-status-selector",attrs:{name:"filter-time",id:"filter-time"},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}},[e("md-option",{attrs:{value:"publish"}},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")]),e("md-option",{attrs:{value:"delete"}},[t._v(" "+t._s(t.translations.settings.appointmentTypesDeleted)+" ")])],1)],1):t._e()]],2)]),e("div",{staticStyle:{flex:"1"}}),t.bulkEditMode&&t.bulkEditingComputed.length>1?e("md-menu",{attrs:{"md-direction":"bottom left","md-size":"4"}},[e("md-button",{staticClass:"md-primary",attrs:{"md-menu-trigger":""}},[t._v(t._s(t.translations.appointmentTypes.actions.bulkEdit))]),e("md-menu-content",[e("md-menu-item",{on:{click:function(e){return t.openBulkEdit("basics")}}},[t._v(t._s(t.translations.wizard.appointmentType.basics))]),e("md-menu-item",{on:{click:function(e){return t.openBulkEdit("availability")}}},[t._v(t._s(t.translations.wizard.appointmentType.availability))]),e("md-menu-item",{on:{click:function(e){return t.openBulkEdit("scheduling")}}},[t._v(t._s(t.translations.wizard.appointmentType.scheduling))]),e("md-menu-item",{on:{click:function(e){return t.openBulkEdit("customerInfo")}}},[t._v(t._s(t.translations.wizard.appointmentType.customerInfo))]),e("md-menu-item",{on:{click:function(e){return t.openBulkEdit("notifications")}}},[t._v(t._s(t.translations.wizard.appointmentType.notifications))]),t.extrasEnabled?e("md-divider"):t._e(),t.showPayments?e("md-menu-item",{on:{click:function(e){return t.openBulkEdit("payments")}}},[t._v(t._s(t.translations.wizard.appointmentType.payments))]):t._e(),t.showGoogleCalendar?e("md-menu-item",{on:{click:function(e){return t.openBulkEdit("googleCalendar")}}},[t._v(t._s(t.translations.wizard.appointmentType.googleCalendar))]):t._e(),t.showMailchimp?e("md-menu-item",{on:{click:function(e){return t.openBulkEdit("mailchimp")}}},[t._v(t._s(t.translations.wizard.appointmentType.mailchimp))]):t._e()],1)],1):t.bulkEditMode||"delete"===t.selectedStatus?t._e():[e("md-menu",{attrs:{"md-direction":"bottom-start"}},[e("md-button",{staticClass:"md-primary indicator-button",attrs:{"md-menu-trigger":"",disabled:t.saving}},[e("md-icon",[t._v("label")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.labels)+" "),t.isFilteringByLabel?e("span",{staticClass:"indicator"}):t._e()],1),e("md-menu-content",[t.isFilteringByLabel?e("md-menu-item",{on:{click:t.clearSelectedAppointmentTypeLabel}},[e("md-icon",{staticClass:"md-primary"},[t._v("clear")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.clearLabelFilter)+" ")],1):t._e(),t._l(t.apptTypeLabels,(function(s){return e("md-menu-item",{key:s.id,on:{click:function(e){return t.setSelectedAppointmentTypeLabel(s)}}},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":s.color}},[t._v("label")]),t._v(t._s(s.name)+" ")],1)}))],2)],1),t.editableAppointmentTypes.length>1?[t.reordering?e("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:t.saving},on:{click:t.saveAppointmentTypeOrder}},[e("md-icon",[t._v("save")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.saveOrder)+" ")],1):e("md-button",{staticClass:"md-primary",attrs:{disabled:t.saving},on:{click:t.reorderAppointmentTypes}},[e("md-icon",[t._v("drag_indicator")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.reorder)+" ")],1)]:t._e(),e("md-button",{staticClass:"md-primary ssa-appt-type-add-new",attrs:{disabled:t.saving},on:{click:t.addAppointmentType}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.addNew)+" ")],1)]],2),t.displayAppointmentTypes.length?e("draggable",{staticClass:"sortable-list md-double-line appt-type-list",class:{disabled:t.saving},attrs:{animation:150,ghostClass:"sortable-ghost",tag:"md-list",handle:".handle"},model:{value:t.displayAppointmentTypes,callback:function(e){t.displayAppointmentTypes=e},expression:"displayAppointmentTypes"}},t._l(t.displayAppointmentTypes,(function(s){return e("md-list-item",{key:s.id,class:{deleted:"delete"===s.status}},[e("div",{staticClass:"icon-toggle",class:{"bulk-edit":t.bulkEditMode,"bulk-edit-avail":t.editableAppointmentTypes.length>1&&!t.reordering}},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.labelInfo(s.label_id,"color")}},[t._v("label")]),e("md-checkbox",{staticClass:"md-primary",attrs:{"md-theme":t.labelInfo(s.label_id,"color"),id:"appt-type-"+s.id,name:"appt-type-"+s.id,"md-value":s.id},model:{value:t.bulkEditingComputed,callback:function(e){t.bulkEditingComputed=e},expression:"bulkEditingComputed"}})],1),e("div",{staticClass:"md-list-text-container",on:{click:function(e){return t.editAppointmentType(s.id)}}},[e("span",{staticClass:"appt-type-item-title"},[t._v(t._s(s.title))]),e("span",[t._v(" "+t._s(t.displayDuration(s.duration))+" - "),e("span",{staticClass:"label-inline",class:[`md-theme-${t.labelInfo(s.label_id,"color")}`]},[t._v(" "+t._s(t.labelInfo(s.label_id,"name"))+" ")])])]),t.reordering?e("md-icon",{staticClass:"md-primary handle",attrs:{"md-theme":"blue-grey"}},[t._v("drag_indicator")]):e("md-menu",{attrs:{"md-direction":"bottom left"}},[e("md-button",{staticClass:"md-icon-button md-list-action",attrs:{"md-menu-trigger":"",disabled:t.saving}},[e("md-icon",{staticClass:"md-primary dynamicColor",attrs:{"md-theme":t.labelInfo(s.label_id,"color")}},[t._v("settings")])],1),e("md-menu-content",["delete"!==t.selectedStatus?e("md-menu-item",{on:{click:function(e){return t.editAppointmentType(s.id)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("edit")]),e("span",[t._v(t._s(t.translations.actions.edit))])],1):t._e(),"delete"!==t.selectedStatus?e("md-menu-item",{on:{click:function(e){return t.cloneAppointmentType(s.id)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),e("span",[t._v(t._s(t.translations.actions.clone))])],1):t._e(),"delete"!==t.selectedStatus?e("md-menu-item",{on:{click:function(e){return t.confirmDelete(s.id)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("delete")]),e("span",[t._v(t._s(t.translations.actions.delete))])],1):t._e(),"delete"===t.selectedStatus?e("md-menu-item",{on:{click:function(e){return t.recoverSelectedAppointmentType(s.id)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("undo")]),e("span",[t._v(t._s(t.translations.actions.recover))])],1):t._e()],1)],1),e("md-divider")],1)})),1):e("empty",{attrs:{label:t.translations.appointmentTypes.empty}},[e("md-button",{staticClass:"md-raised md-primary",on:{click:t.addAppointmentType}},[t._v(t._s(t.translations.appointmentTypes.actions.create))])],1),e("md-dialog",{ref:"confirmDelete"},[e("md-dialog-title",[t._v(t._s(t.translations.appointmentTypes.confirmDelete))]),t.deletedType?e("md-dialog-content",[t._v(" "+t._s(t.deletedType.title)+" ("+t._s(t.displayDuration(t.deletedType.duration))+") "),t.deletedTypeAppointments.length?[e("p",[t._v(t._s(t.translations.appointmentTypes.confirmDeleteAppointments))]),e("ul",t._l(t.deletedTypeAppointments,(function(s){return e("li",{key:s.id},[t._v(" "+t._s(t.moment(s.start_date,t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" ")])})),0)]:t._e()],2):t._e(),e("md-dialog-actions",[e("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.appointmentTypes.confirmDeleteCancel))]),e("md-button",{on:{click:t.deleteSelectedAppointmentType}},[t._v(t._s(t.translations.appointmentTypes.confirmDeleteOk))])],1)],1),e("md-snackbar",{ref:"errorDeleting",attrs:{"md-position":"top center","md-duration":1e4}},[e("span",[t._v(t._s(t.translations.errors.cantDeleteType))]),e("md-button",{staticClass:"md-primary",attrs:{href:"https://simplyscheduleappointments.com/document/unable-to-delete-an-appointment-type/",targe:"_blank"},on:{click:function(e){return t.$refs.errorDeleting.close()}}},[t._v(t._s(t.translations.errors.moreInfo))])],1)],1)},dn=[],cn=s(6983),mn=s.n(cn),un={name:"appointmentTypesList",store:Ek,components:{Empty:$e,draggable:mn()},data(){return{deletedId:null,moment:H(),reordering:!1,saving:!1}},beforeMount(){this.emptyCurrentAppointmentType(),this.updateBulkEditing([])},mounted(){if(this.maybeFetchAppointmentTypes(),this.maybeUpdateSortOrder(),this.maybeUpdateAppointmentTypeLabels(),this.appointments.length)return;let t=H().utc().locale("en").format("YYYY-MM-DD");this.fetchAppointments({end_date_min:t,order:"ASC",orderby:"start_date"})},watch:{selectedStatus(){"delete"===this.selectedStatus&&(this.reordering=!1)},$route:"maybeFetchAppointmentTypes"},computed:{deletedType(){if(this.deletedId)return this.editableAppointmentTypes.find((t=>t.id.toString()===this.deletedId.toString()))},deletedTypeAppointments(){return this.upcomingAppointments.filter((t=>t.appointment_type_id===this.deletedId))},selectedStatus:{get(){return this.selectedApointmentTypeStatus},set(t){this.setSelectedAppointmentTypeStatus(t)}},selectedLabel:{get(){return this.selectedAppointmentTypeLabel},set(t){this.setSelectedAppointmentTypeLabel(t)}},isFilteringByLabel(){return 0!==Object.keys(this.selectedLabel).length},displayAppointmentTypes:{get(){return"delete"===this.selectedStatus?this.deletedAppointmentTypes:this.isFilteringByLabel?this.editableAppointmentTypes.filter((t=>t.label_id===this.selectedLabel.id)):this.editableAppointmentTypes},set(t){this.setAppointmentTypesOrder(t)}},bulkEditingComputed:{get(){return this.bulkEditing},set(t){this.updateBulkEditing(t)}},bulkEditMode(){return this.editableAppointmentTypes.length>1&&this.bulkEditing.length},extrasEnabled(){return this.showGoogleCalendar||this.showMailchimp||this.showPayments},showGoogleCalendar(){return this.settings.installed.google_calendar&&this.settings.google_calendar.enabled&&this.settings.google_calendar.access_token},showMailchimp(){return this.settings.installed.mailchimp&&this.settings.mailchimp.enabled&&!Ye().isEmpty(this.settings.mailchimp.account_details)},showPayments(){return this.settings.installed.payments&&(this.settings.stripe.enabled||this.settings.paypal.enabled)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat","appointments"]),...(0,o.Se)(["displayDuration"]),...(0,o.Se)("appointments",["upcomingAppointments"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes","deletedAppointmentTypes","labelInfo"]),...(0,o.rn)("appointment_types",["selectedApointmentTypeStatus","selectedAppointmentTypeLabel","bulkEditing","currentAppointmentType","refreshMomentApptTypes","appointmentTypes"]),...(0,o.rn)("labels",["apptTypeLabels"])},methods:{maybeUpdateAppointmentTypeLabels(){let t=Ye().cloneDeep(this.appointmentTypes);Ye().isEmpty(t)||t.forEach((t=>{(Ye().isEmpty(t["label_id"])||"0"==t["label_id"])&&(t["label_id"]=1,this.saveAppointmentType(t))}))},addAppointmentType(){this.createNewAppointmentType(),cv.push("/ssa/appointment-types/type")},cancelDelete(){this.$refs["confirmDelete"].close()},cloneAppointmentType(t){this.saving=!0,this.updateCloneAppointmentType(t).then((()=>{this.saving=!1,cv.push("/ssa/appointment-types/type")}))},confirmDelete(t){this.$refs["confirmDelete"].open(),this.deletedId=t},deleteSelectedAppointmentType(){var t=this.deletedId;this.$refs["confirmDelete"].close(),this.deleteAppointmentType(t).then((()=>{})).catch((t=>{console.log(t),this.$refs.errorDeleting.open()}))},recoverSelectedAppointmentType(t){this.recoverAppointmentType(t).then((()=>{this.selectedStatus="publish"})).catch((t=>{console.log(t),this.$refs.errorDeleting.open()}))},editAppointmentType(t){this.saving||this.reordering||cv.push({name:"appointment-type-single",params:{id:t}})},maybeUpdateSortOrder(){if(this.editableAppointmentTypes.length<2)return;let t=this.editableAppointmentTypes.map((t=>t.display_order)),e=t.every(((t,e,s)=>t===s[0]));e&&this.editableAppointmentTypes.length&&(this.editableAppointmentTypes.forEach(((t,e)=>{this.setAppointmentTypeProperties({display_order:e,id:t.id})})),this.updateAppointmentTypes())},openBulkEdit(t){cv.push({name:"appointment-type-bulk-edit",params:{section:t}})},reorderAppointmentTypes(){this.reordering=!this.reordering},saveAppointmentTypeOrder(){this.saving=!0,this.updateAppointmentTypes().then((()=>{this.saving=!1,this.reorderAppointmentTypes()}))},maybeFetchAppointmentTypes(){if(Ye().isEmpty(this.refreshMomentApptTypes))return void this.resetRefreshMomentApptTypes();let t=H()().subtract(2,"minutes");t>this.refreshMomentApptTypes&&(this.fetchAppointmentTypes(),this.resetRefreshMomentApptTypes())},...(0,o.nv)("appointment_types",["updateAppointmentTypes","updateCloneAppointmentType","deleteAppointmentType","recoverAppointmentType","createNewAppointmentType","updateCloneAppointmentType","emptyCurrentAppointmentType","fetchAppointmentTypes","saveAppointmentType"]),...(0,o.nv)("appointments",["fetchAppointments"]),...(0,o.OI)("appointment_types",["removeAppointmentType","setAppointmentTypeProperties","setAppointmentTypesOrder","updateBulkEditing","setSelectedAppointmentTypeStatus","setSelectedAppointmentTypeLabel","clearSelectedAppointmentTypeLabel","resetRefreshMomentApptTypes"])}},hn=un,gn=(0,K.Z)(hn,pn,dn,!1,null,null,null),_n=gn.exports,fn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-edit"},[e("md-button",{on:{click:t.cancelEdit}},[e("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1),e("h2",{staticClass:"md-title"},[t._v(t._s(t.currentAppointmentType.title))]),e("md-dialog",{ref:"confirmLeaveDirty"},[e("md-dialog-title",{domProps:{textContent:t._s(t.translations.appointmentTypes.confirmIgnoreChangesTitle)}}),e("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.appointmentTypes.confirmIgnoreChangesContent)}}),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesCancel))]),e("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesOkay))])],1)],1),e("md-snackbar",{ref:"shortcodeNotice",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.appointmentTypes.shortcodeCopied))])]),e("md-theme",{attrs:{"md-name":t.labelInfo(t.currentAppointmentType.label_id,"color")}},[e("accordion",[e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.basics,message:t.translations.wizard.appointmentType.basicsMessage,index:"0",section:"basics",open:t.section,error:!t.validBasics},on:{updateActive:t.updateSection}},[e("basics",{on:{validationCheck:t.validateBasics}})],1),e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.availability,message:t.translations.wizard.appointmentType.availabilityMessage,index:"1",section:"availability",open:t.section},on:{updateActive:t.updateSection}},[e("availability",{on:{validationCheck:t.validateAvailability}}),e("notification",{attrs:{icon:"help"}},[e("p",{staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.intro)+" ")]),e("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",theme:"blue",to:"/ssa/support/availability-detective"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])],1)],1),t.settings.installed.staff&&t.settings.staff.enabled&&t.currentAppointmentType.hasOwnProperty("staff")&&t.currentUserCan("ssa_manage_staff")?e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.staff,message:t.translations.wizard.appointmentType.staffMessage,index:"2",section:"staff",open:t.section,error:!t.validStaff},on:{updateActive:t.updateSection}},[e("staff",{on:{staffRequiredChange:t.staffUpdateCapacity,validationCheck:t.validateStaff}})],1):t._e(),e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.capacity,message:t.translations.wizard.appointmentType.capacityMessage,index:"3",section:"capacity",open:t.section,error:!t.validCapacity},on:{updateActive:t.updateSection}},[e("capacity",{on:{validationCheck:t.validateCapacity}})],1),e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.scheduling,message:t.translations.wizard.appointmentType.schedulingMessage,index:"4",section:"scheduling",open:t.section,error:!t.validScheduling},on:{updateActive:t.updateSection}},[e("scheduling",{on:{validationCheck:t.validateScheduling}})],1),t.settings.installed.payments&&t.settings.payments.enabled&&(t.settings.paypal.enabled||t.settings.stripe.enabled)?e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.payments,message:t.translations.wizard.appointmentType.paymentsMessage,index:"5",section:"payments",open:t.section},on:{updateActive:t.updateSection}},[e("payments",{on:{validationCheck:t.validatePayments}})],1):t._e(),t.settings.installed.google_calendar&&t.settings.google_calendar.enabled?e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.googleCalendar,message:t.translations.wizard.appointmentType.googleCalendarMessage,index:"6",section:"google-calendar",open:t.section},on:{updateActive:t.updateSection}},[e("google-calendar")],1):t._e(),t.webMeetingsProviders.length>0?e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.webMeetings,message:t.translations.wizard.appointmentType.webMeetingsMessage,index:"7",section:"web-meetings",error:!t.validWebMeetings,open:t.section},on:{updateActive:t.updateSection}},[e("web-meetings",{on:{validationCheck:t.validateWebMeetings}})],1):t._e(),t.settings.installed.mailchimp&&t.settings.mailchimp.enabled?e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.mailchimp,message:t.translations.wizard.appointmentType.mailchimpMessage,index:"8",section:"mailchimp",error:!t.validMailchimp,open:t.section},on:{updateActive:t.updateSection}},[e("mailchimp",{on:{validationCheck:t.validateMailchimp},model:{value:t.mailchimp,callback:function(e){t.mailchimp=e},expression:"mailchimp"}})],1):t._e(),t.settings.installed.webhooks&&t.settings.webhooks.enabled&&t.currentUserCan("ssa_manage_site_settings")?e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.webhooks,message:t.translations.wizard.appointmentType.webhooksMessage,index:"9",section:"webhooks",open:t.section},on:{updateActive:t.updateSection}},[e("webhooks")],1):t._e(),e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.customerInfo,message:t.translations.wizard.appointmentType.customerInfoMessage,index:"10",section:"customer-information",open:t.section},on:{updateActive:t.updateSection}},[e("customer-information")],1),t.currentUserCan("ssa_manage_site_settings")?e("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.notifications,message:t.translations.wizard.appointmentType.notificationsMessage,index:"11",section:"notifications",open:t.section},on:{updateActive:t.updateSection}},[e("notifications")],1):t._e()],1),e("div",{staticClass:"button-bar"},[e("md-button",{staticClass:"md-raised",on:{click:t.cancelEdit}},[t._v(t._s(t.translations.general.cancel))]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.validFormFields},on:{click:t.saveAppointmentType}},[t._v(t._s(t.translations.general.save))]),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),e("md-card",[e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.booking))]),e("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.bookingMessage))])]),e("md-card-content",[e("p",[t._v(t._s(t.translations.wizard.appointmentType.specialBooking))]),e("p",{staticStyle:{cursor:"pointer"}},[e("code",{ref:"shortcode",on:{click:t.copyShortcode}},[t._v("[ssa_booking type="+t._s(t.currentAppointmentType.slug)+"]")]),t._v(" "),e("md-icon",{staticClass:"md-primary",nativeOn:{click:function(e){return t.copyShortcode.apply(null,arguments)}}},[t._v("file_copy")])],1)])],1)],1)],1)},yn=[],vn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ssa-accordion"},[t._t("default")],2)},bn=[],kn={name:"AccordionWrapper"},Cn=kn,Sn=(0,K.Z)(Cn,vn,bn,!1,null,null,null),wn=Sn.exports,Tn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ssa-accordion-item",class:{active:t.isOpen,error:t.error},attrs:{"data-section":t.section}},[e("button",{staticClass:"ssa-accordion-item-header",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleItem()}}},[t.error?e("md-icon",{staticClass:"md-warn"},[t._v(" error ")]):t.icon?e("md-icon",[t._v(" "+t._s(t.icon)+" ")]):t._e(),t.label||t.message?e("div",{staticClass:"text-container"},[t.label?e("span",{staticClass:"label"},[t._v(" "+t._s(t.label)+" ")]):t._e(),t.message?e("span",{staticClass:"message"},[t._v(" "+t._s(t.message)+" ")]):t._e()]):t._e(),e("md-icon",{staticClass:"accordion-toggle"},[t._v(" keyboard_arrow_down ")])],1),e("div",{ref:"panel",staticClass:"ssa-accordion-item-content"},[t.isOpen?e("div",{staticClass:"ssa-accordion-item-wrap"},[t._t("default")],2):t._e()])])},xn=[],An={props:{icon:String,label:String,message:String,index:String,open:String,section:{type:String,default:""},error:{type:Boolean,default:!1}},data(){return{isActive:!1,observer:null}},computed:{isOpen(){return this.index===this.open}},mounted(){this.$nextTick((()=>{this.toggleDisplay()})),this.observer||(this.observer=new MutationObserver((()=>{this.toggleDisplay()})))},beforeDestroy(){this.observer.disconnect()},watch:{isOpen(){this.$nextTick((()=>{this.toggleDisplay()}))}},methods:{toggleDisplay(){let t=this.$refs.panel,e=t.querySelector(".ssa-accordion-item-wrap"),s={childList:!0,subtree:!0};this.isOpen?(t.style.maxHeight=t.scrollHeight+"px",this.observer.observe(e,s)):(t.style.maxHeight=null,this.observer.disconnect())},toggleItem(){this.toggleDisplay(),this.isOpen?this.$emit("updateActive",null):this.$emit("updateActive",this.index,this.section)}}},Pn=An,Dn=(0,K.Z)(Pn,Tn,xn,!1,null,null,null),Mn=Dn.exports,En=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-basics"},[t.bulkMode?t._e():e("md-input-container",{class:{"md-input-invalid":t.titleError}},[e("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.appointmentTypes.title))]),e("md-input",{attrs:{id:"title",required:""},model:{value:t.$v.title.$model,callback:function(e){t.$set(t.$v.title,"$model",e)},expression:"$v.title.$model"}}),t.titleError?e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.titleError))]):t._e()],1),e("md-layout",{staticStyle:{width:"100%"},attrs:{"md-gutter":!0}},[e("md-layout",{attrs:{"md-flex":50}},[e("duration",{attrs:{allowNull:t.bulkMode,required:!t.bulkMode},model:{value:t.$v.duration.$model,callback:function(e){t.$set(t.$v.duration,"$model",e)},expression:"$v.duration.$model"}})],1),e("md-layout",{attrs:{"md-flex":50}},[e("LabelsSettingsMenu",{model:{value:t.label_id,callback:function(e){t.label_id=e},expression:"label_id"}})],1)],1),t.showSlug?e("md-layout",{staticStyle:{width:"100%"},attrs:{"md-gutter":!0}},[e("md-layout",{attrs:{"md-flex":66}},[e("md-input-container",{class:{"md-input-invalid":t.slugError}},[e("label",{attrs:{for:"slug"}},[t._v(t._s(t.translations.appointmentTypes.slug))]),e("md-input",{attrs:{id:"slug",required:""},model:{value:t.$v.slug.$model,callback:function(e){t.$set(t.$v.slug,"$model",e)},expression:"$v.slug.$model"}}),t.slugError?e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.slugError))]):t._e()],1)],1),e("md-layout",{attrs:{"md-flex":33}},[e("md-input-container",[e("label",{attrs:{for:"layout"}},[t._v(t._s(t.translations.appointmentTypes.bookingLayout))]),e("md-select",{attrs:{id:"layout"},model:{value:t.layout,callback:function(e){t.layout=e},expression:"layout"}},[t.bulkMode?e("md-option",{attrs:{value:""}}):t._e(),t._l(t.options.bookingLayouts,(function(s){return e("md-option",{key:s,attrs:{value:s}},[t._v(" "+t._s(t.translations.appointmentTypes.bookingLayouts[s])+" ")])}))],2)],1)],1)],1):e("md-input-container",[e("label",{attrs:{for:"layout"}},[t._v(t._s(t.translations.appointmentTypes.bookingLayout))]),e("md-select",{attrs:{id:"layout"},model:{value:t.layout,callback:function(e){t.layout=e},expression:"layout"}},[t.bulkMode?e("md-option",{attrs:{value:""}}):t._e(),t._l(t.options.bookingLayouts,(function(s){return e("md-option",{key:s,attrs:{value:s}},[t._v(" "+t._s(t.translations.appointmentTypes.bookingLayouts[s])+" ")])}))],2)],1),e("md-layout",{staticStyle:{width:"100%"},attrs:{"md-gutter":!0}},[e("md-layout",[e("md-input-container",{staticClass:"md-has-value"},[e("label",{attrs:{for:"instructions"}},[t._v(t._s(t.translations.appointmentTypes.instructions))]),e("md-input",{attrs:{placeholder:t.translations.appointmentTypes.instructions_placeholder,id:"instructions"},model:{value:t.instructions,callback:function(e){t.instructions=e},expression:"instructions"}}),e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.appointmentTypes.instructions_description))])],1)],1)],1)],1)},Ln=[],On=function(){var t=this,e=t._self._c;return e("div",{staticClass:"duration-field"},[e("md-layout",{attrs:{"md-gutter":!0}},[e("md-layout",{attrs:{"md-flex":50}},[e("md-input-container",{class:{"md-input-invalid":t.showError}},[e("label",{attrs:{for:"duration-"+t.id}},[t._v(t._s(t.translations.appointmentTypes.duration))]),e("md-input",{attrs:{type:"number",min:0,id:"duration-"+t.id,required:t.required},on:{change:t.queueUpdateDurationInfo},model:{value:t.displayedCount,callback:function(e){t.displayedCount=e},expression:"displayedCount"}})],1)],1),e("md-layout",{attrs:{"md-flex":50}},[e("md-input-container",[e("label",{attrs:{for:"durationType-"+t.id}},[t._v(t._s(t.translations.appointmentTypes.durationType))]),e("md-select",{attrs:{id:"durationType-"+t.id},on:{selected:t.queueUpdateDurationInfo},model:{value:t.selectedUnit,callback:function(e){t.selectedUnit=e},expression:"selectedUnit"}},[t.allowNull?e("md-option",{attrs:{value:""}}):t._e(),t._l(t.durationUnits,(function(s){return e("md-option",{key:s,attrs:{value:s}},[1===t.displayedCount||"1"===t.displayedCount?[t._v(" "+t._s(t.translations.time.units[s].single)+" ")]:[t._v(" "+t._s(t.translations.time.units[s].plural)+" ")],t._v(" "+t._s(s.text)+" ")],2)}))],2)],1)],1)],1),t.errorText?e("md-layout",[e("span",{staticClass:"md-error"},[t._v(t._s(t.errorText))])]):t.helpText?e("md-layout",[e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.helpText))])]):t._e()],1)},$n=[],In={name:"durationInput",store:Ek,props:["value","helpText","errorText","allowNull","required"],data(){return{durationUnits:E,id:null,selectedUnit:"minutes",displayedCount:this.value}},mounted:function(){this.minutes&&Number.isInteger(this.minutes)&&(this.minutes%10080===0?(this.displayedCount=this.minutes/10080,this.selectedUnit="weeks"):this.minutes%1440===0?(this.displayedCount=this.minutes/1440,this.selectedUnit="days"):this.minutes%60===0&&(this.displayedCount=this.minutes/60,this.selectedUnit="hours")),this.id=this._uid},computed:{minutes:function(){return parseInt(this.value)},showError(){let t=!1;return this.allowNull||this.displayedCount?(this.required&&parseInt(this.displayedCount)<1||this.allowNull&&parseInt(this.displayedCount)<0||this.errorText)&&(t=!0):t=!0,t},...(0,o.rn)("translations",["translations"])},methods:{queueUpdateDurationInfo:function(){this.$nextTick((()=>{this.updateDurationInfo()}))},updateDurationInfo:function(){let t=this.displayedCount;switch(t||this.allowNull||(t=0),this.selectedUnit){case"hours":t=60*this.displayedCount;break;case"days":t=60*this.displayedCount*24;break;case"weeks":t=60*this.displayedCount*24*7;break}""===this.displayedCount&&this.allowNull?this.$emit("input",""):this.$emit("input",t.toString())}}},Nn=In,jn=(0,K.Z)(Nn,On,$n,!1,null,null,null),zn=jn.exports,Un=s(4951),Bn=s(5795),Fn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"labels-field-container"},[e("md-input-container",{staticClass:"input-field-label md-has-value"},[e("span",{staticClass:"label-field"},[e("md-icon",{staticClass:"md-primary dynamicColor",attrs:{"md-theme":t.label.color}},[t._v("label")])],1),e("label",{attrs:{for:"label-menu-trigger"}},[t._v(t._s(t.translations.appointmentTypes.label))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.label.name,expression:"label.name"}],attrs:{type:"button",id:"label-menu-trigger","aria-haspopup":"dialog","aria-controls":"label-popup-container","aria-expanded":t.isPopupDisplayed,"aria-describedby":"label-trigger-description"},domProps:{value:t.label.name},on:{click:t.toggleLabelPopup,input:function(e){e.target.composing||t.$set(t.label,"name",e.target.value)}}}),e("span",{staticClass:"screen-reader-text",attrs:{id:"label-trigger-description"}},[t._v(t._s(t.translations.appointmentTypes.labels.popupDescription))])]),t.isPopupDisplayed?e("div",{staticClass:"label-popup",attrs:{role:"dialog","aria-hidden":!t.isPopupDisplayed,id:"label-popup-container"}},[e("div",{staticClass:"popupOverlay"}),t.showMenuList?e("fieldset",{staticClass:"fieldset-wrapper"},[e("div",{staticClass:"header-menu dynamicBgTextColor",class:[`md-theme-${t.label.color}`]},[e("legend",{ref:"selectLabelTitle",staticClass:"md-subheading",attrs:{tabindex:"0"}},[t._v(" "+t._s(t.translations.appointmentTypes.labels.selectLabel)+" ")]),e("md-button",{ref:"firstAddBtn",on:{click:t.createLabel}},[e("md-icon",[t._v("add")])],1)],1),t._l(t.apptTypeLabelsList,(function(s,i){return e("div",{key:s.id+s.name,staticClass:"label-menu-item-wrapper"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":s.color}},[t._v("label")]),e("button",{staticClass:"select-label-button",on:{click:function(e){return t.selectThisLabel(s)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selectThisLabel(s)}}},[e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.appointmentTypes.labels.selectLabel)+" ")]),t._v(" "+t._s(s.name)+" ")]),e("div",{staticClass:"tools-wrapper"},[e("button",{ref:"edit"+i.toString(),refInFor:!0,on:{click:function(e){return t.editThisLabel(s,i)}}},[e("span",{staticClass:"dialog-tools"},[e("md-icon",{staticClass:"md-primary"},[t._v("edit")])],1),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.appointmentTypes.labels.editLabel)+" "+t._s(s.name)+" ")])]),e("button",{ref:"delete"+i.toString(),refInFor:!0,attrs:{disabled:1==s.id,"aria-disabled":1==s.id,"aria-haspopup":"dialog","aria-controls":"confirmDeleteDialog"},on:{click:function(e){return t.maybeDeleteThisLabel(s,i)}}},[e("span",{staticClass:"dialog-tools"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":1==s.id?"grey":"reverse"}},[t._v("delete")]),1==s.id?e("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(" "+t._s(t.translations.appointmentTypes.labels.defaultLabelDisabled)+" ")]):t._e()],1),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.appointmentTypes.labels.deleteLabel)+" "+t._s(s.name)+" ")])])])],1)})),t._v(" "),e("span",{staticClass:"menu-footer-btn"},[e("md-button",{ref:"createBtn",staticClass:"md-raised md-primary",on:{click:t.createLabel}},[t._v(" "+t._s(t.translations.appointmentTypes.labels.addLabel)+" ")])],1)],2):t._e(),t.showMenuList?t._e():e("fieldset",{staticClass:"fieldset-wrapper"},[e("div",{staticClass:"header-menu dynamicBgTextColor",class:[`md-theme-${t.label.color}`]},[e("legend",{staticClass:"md-subheading"},[t._v(" "+t._s(t.isEditMode?t.translations.appointmentTypes.labels.updateLabel:t.translations.appointmentTypes.labels.createLabel)+" ")])]),e("div",{staticClass:"input-fields-wrapper"},[e("md-input-container",{class:{"md-input-invalid":t.nameError}},[e("label",{attrs:{for:"dialog-field-label-name"}},[t._v(" "+t._s(t.translations.appointmentTypes.labels.labelName)+" ")]),e("md-input",{ref:"inputLabelName",attrs:{id:"dialog-field-label-name",required:""},model:{value:t.currentLabel.name,callback:function(e){t.$set(t.currentLabel,"name","string"===typeof e?e.trim():e)},expression:"currentLabel.name"}}),t.invalidCharacterError?e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.labels.invalidCharacterError)+" ” </> ,")]):t._e(),t.duplicateNameError?e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.labels.duplicateNameError))]):t._e()],1),e("fieldset",[e("legend",{staticClass:"custom-label"},[t._v(" "+t._s(t.translations.appointmentTypes.labels.chooseColor)+" ")]),e("div",{staticClass:"squares-wrapper"},t._l(t.options.colors,(function(s){return e("div",{key:s.value+s.text,staticClass:"wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentLabel.color,expression:"currentLabel.color"}],attrs:{id:s.text,name:"color",type:"radio"},domProps:{value:s.value,checked:t.currentLabel.color===s.value,checked:t._q(t.currentLabel.color,s.value)},on:{change:function(e){return t.$set(t.currentLabel,"color",s.value)}}}),e("label",{class:[`md-theme-${s.value}`],attrs:{for:s.text}},[e("span",{staticClass:"screen-reader-text"},[t._v(t._s(s.text))]),e("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(" "+t._s(s.text)+" ")])],1)])})),0)])],1),e("div",{staticClass:"menu-footer-btn"},[e("md-button",{ref:"cancelBtn",staticClass:"md-raised",attrs:{disabled:t.saving},on:{click:t.cancelUpdating}},[t._v(" "+t._s(t.translations.appointmentTypes.actions.cancel)+" ")]),e("md-button",{ref:"saveBtn",staticClass:"md-raised md-primary",attrs:{disabled:t.disableSaving},on:{click:t.handleSave}},[t._v(" "+t._s(t.isEditMode?t.translations.appointmentTypes.actions.update:t.translations.appointmentTypes.actions.save)+" ")]),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)]),e("div",[e("md-dialog",{ref:"confirmDelete",attrs:{"aria-label":t.translations.appointmentTypes.labels.confirmDeleteAriaLabel,id:"confirmDeleteDialog","md-click-outside-to-close":!t.saving}},[e("md-dialog-title",[t._v(t._s(t.translations.appointmentTypes.labels.confirmDeleteTitle))]),t.affectedApptTypesOnDelete.length?e("md-dialog-content",[e("md-layout",[e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.labels.confirmDeleteWarning)+" ")])],1),e("md-layout",[e("ul",t._l(t.affectedApptTypesOnDelete,(function(s){return e("li",{key:s.id},[t._v(" "+t._s(s.title)+" "),s.id===t.currentAppointmentType.id?e("span",[t._v(t._s(t.translations.appointmentTypes.current))]):e("span",[e("router-link",{ref:"edit-link",refInFor:!0,attrs:{to:"/ssa/appointment-types/type/"+s.id},nativeOn:{click:function(e){return t.handleEditApptType(e,s)}}},[t._v(" "+t._s(t.translations.appointmentTypes.actions.edit)+" "),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(s.title)+" ")])])],1)])})),0)])],1):t._e(),e("md-dialog-actions",[e("md-button",{ref:"confirmDeleteCancel",staticClass:"md-raised",attrs:{disabled:t.saving},on:{click:t.cancelDeleting}},[t._v(" "+t._s(t.translations.appointmentTypes.labels.keepLabel)+" ")]),e("md-button",{ref:"confirmDeleteDelete",staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.confirmDeleting}},[t._v(" "+t._s(t.translations.appointmentTypes.labels.confirmDelete)+" ")]),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)],1)]):t._e()],1)},Gn=[],Wn={name:"LabelsSettingsMenu",components:{notification:Ys},props:["value"],emits:["input"],data(){return{options:B,saving:!1,isPopupDisplayed:!1,isEditMode:!1,showMenuList:!0,storedFocusIndex:null,isDeletePopupOpen:!1}},computed:{label(){let t=this.apptTypeLabels.find((t=>t.id==this.value));return t||this.defaultLabel},currentLabel:{get(){return this.currentApptTypeLabel},set(t){this.setCurrentLabel(t)}},labelToDelete:{get(){return this.labelToDelete},set(t){this.setLabelToDelete(t)}},apptTypeLabelsList:{get(){return this.appointmentTypeLabels},set(t){this.setApptTypeLabels(t)}},firstActiveElement(){if(this.isPopupDisplayed){if(this.isDeletePopupOpen)return this.editApptTypeLinkRef?this.editApptTypeLinkRef.$el:this.$refs["confirmDeleteCancel"].$el;if(this.showMenuList&&this.$refs.firstAddBtn)return this.$refs.firstAddBtn.$el;if(!this.showMenuList&&this.$refs.inputLabelName)return this.$refs.inputLabelName.$el}return null},lastActiveElement(){if(this.isPopupDisplayed){if(this.isDeletePopupOpen)return this.$refs["confirmDeleteDelete"].$el;if(this.$refs.createBtn&&this.showMenuList)return this.$refs.createBtn.$el;if(this.$refs.saveBtn&&!this.showMenuList)return this.$refs.saveBtn._props.disabled?this.$refs.cancelBtn.$el:this.$refs.saveBtn.$el}return null},editApptTypeLinkRef(){return this.isDeletePopupOpen&&this.$refs["edit-link"]?this.$refs["edit-link"][0]:null},storedActiveElement(){return this.$refs[this.storedFocusIndex]?this.$refs[this.storedFocusIndex][0]:null},affectedApptTypesOnDelete(){return this.affectedApptTypesOnLabelDelete&&this.labelToDelete?this.affectedApptTypesOnLabelDelete.filter((t=>"publish"===t.status)):[]},disableSaving(){return""===this.currentLabel?.name||this.saving||this.nameError},nameError(){return this.invalidCharacterError||this.duplicateNameError},invalidCharacterError(){if(0===Object.keys(this.currentLabel).length)return!1;var t=/(<[^>]+>)|"|,/gi;return!!this.currentLabel.name.match(t)},duplicateNameError(){return 0!==Object.keys(this.currentLabel).length&&!!this.apptTypeLabels.find((t=>t.name.toLowerCase()===this.currentLabel?.name.toLowerCase()&&t.id!==this.currentLabel?.id))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("labels",["apptTypeLabels","currentApptTypeLabel","labelToDelete"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("appointment_types",["affectedApptTypesOnLabelDelete"]),...(0,o.Se)("labels",["appointmentTypeLabels","defaultLabel"])},mounted(){document.addEventListener("click",this.OverlayClickHandler),document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy(){document.removeEventListener("click",this.OverlayClickHandler),document.removeEventListener("keydown",this.keyDownHandler)},methods:{keyDownHandler(t){this.isPopupDisplayed&&!this.saving&&("Escape"!==t.key||this.$refs["confirmDelete"].active?9===t.keyCode&&(t.shiftKey?document.activeElement===this.firstActiveElement&&(t.preventDefault(),this.lastActiveElement.focus()):document.activeElement===this.lastActiveElement&&(t.preventDefault(),this.firstActiveElement.focus())):this.closeLabelPopup())},OverlayClickHandler(t){this.saving||this.isPopupDisplayed&&t.target.matches(".popupOverlay")&&this.closeLabelPopup()},closeLabelPopup(){this.isPopupDisplayed=!1},toggleLabelPopup(){this.isPopupDisplayed=!this.isPopupDisplayed,this.showMenuList=!0,this.$nextTick((()=>{this.isPopupDisplayed&&this.$refs.selectLabelTitle.focus()}))},editThisLabel(t,e){this.storedFocusIndex="edit"+e.toString(),this.showMenuList=!1,this.isEditMode=!0,this.setCurrentLabel(t)},maybeDeleteThisLabel(t,e){t.id!=this.defaultLabel.id&&1!==this.apptTypeLabelsList.length&&(this.storedFocusIndex="delete"+e.toString(),this.setLabelToDelete(t),this.$refs["confirmDelete"].open(),this.isDeletePopupOpen=!0)},cancelDeleting(t){t.preventDefault(),this.$refs["confirmDelete"].close(),this.isDeletePopupOpen=!1,this.restoreFocus(),this.clearLabelToDelete()},confirmDeleting(t){t.preventDefault(),this.saving=!0,this.maybeInvokeEmit(),this.maybeResetApptTypesLabelToDefault(),this.deleteAppointmentTypeLabel().then((()=>{this.$refs["confirmDelete"].close(),this.isDeletePopupOpen=!1,this.restoreFocus(),this.saving=!1,this.clearLabelToDelete()}))},maybeInvokeEmit(){this.label.id===this.labelToDelete.id&&this.$emit("input",this.defaultLabel.id)},selectThisLabel(t){this.$emit("input",t.id),this.isPopupDisplayed=!1},handleSave(t){this.nameError||(t.preventDefault(),this.saving=!0,this.isEditMode?this.saveLabel().then((()=>{this.isEditMode=!1,this.showMenuList=!0,this.restoreFocus(),this.saving=!1})):this.saveNewLabel().then((t=>{this.showMenuList=!0,this.restoreFocus(),this.$emit("input",t.id),this.saving=!1})))},cancelUpdating(t){t.preventDefault(),this.showMenuList=!0,this.isEditMode=!1,this.resetCurrentLabel(),this.restoreFocus()},createLabel(){this.isEditMode=!1,this.showMenuList=!1,this.resetCurrentLabel()},restoreFocus(){this.showMenuList&&this.$nextTick((()=>{this.storedActiveElement?(this.storedActiveElement.focus(),this.storedFocusIndex=null):this.firstActiveElement.focus()}))},handleEditApptType(t,e){this.setCurrentAppointmentType(Ye().cloneDeep(e)),this.cancelDeleting(t)},...(0,o.nv)("labels",["saveNewLabel","saveLabel","deleteAppointmentTypeLabel"]),...(0,o.nv)("appointment_types",["maybeResetApptTypesLabelToDefault"]),...(0,o.OI)("labels",["setApptTypeLabels","setCurrentLabel","resetCurrentLabel","setLabelToDelete","clearLabelToDelete"]),...(0,o.OI)("appointment_types",["setCurrentAppointmentType"])}},Rn=Wn,Hn=(0,K.Z)(Rn,Fn,Gn,!1,null,"6d8b0db4",null),qn=Hn.exports,Zn={name:"appointmentTypeBasics",components:{duration:zn,LabelsSettingsMenu:qn},mixins:[Un.oE],store:Ek,props:{bulkMode:{default:!1,type:Boolean}},data(){return{options:B}},validations(){const t=this.bulkMode;return{duration:{required:(0,Bn.CF)((()=>!t)),minValue:(0,Bn.uv)(1)},slug:{required:(0,Bn.CF)("showSlug")},title:{required:(0,Bn.CF)((()=>!t))}}},computed:{titleError(){return!this.bulkMode&&this.$v.title.$invalid},slugError(){return!this.bulkMode&&this.$v.slug.$invalid},showSlug(){return!this.bulkMode&&this.currentAppointmentType&&Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"slug")},duration:{get(){return this.currentAppointmentType?this.currentAppointmentType.duration:0},set(t){this.updateCurrentAppointmentType({key:"duration",value:t}),this.validationCheck()}},title:{get(){return this.currentAppointmentType?this.currentAppointmentType.title:""},set(t){this.updateCurrentAppointmentType({key:"title",value:t}),this.validationCheck()}},label_id:{get(){return this.currentAppointmentType.label_id?this.currentAppointmentType.label_id:"1"},set(t){this.updateCurrentAppointmentType({key:"label_id",value:t})}},slug:{get(){return this.currentAppointmentType.slug},set(t){this.updateCurrentAppointmentType({key:"slug",value:t}),this.$v.slug.$touch(),this.validationCheck()}},layout:{get(){return this.currentAppointmentType.booking_layout?this.currentAppointmentType.booking_layout:"week"},set(t){this.updateCurrentAppointmentType({key:"booking_layout",value:t})}},instructions:{get(){return this.currentAppointmentType?this.currentAppointmentType.instructions:""},set(t){this.updateCurrentAppointmentType({key:"instructions",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{validationCheck(){var t=this.$v.duration.required?!this.$v.duration.$invalid:this.$v.duration.minValue;this.$emit("validationCheck",!this.titleError&&!this.slugError&&t)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Kn=Zn,Vn=(0,K.Z)(Kn,En,Ln,!1,null,null,null),Yn=Vn.exports,Jn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-availability",class:"md-theme-"+t.appointmentTypeLabel},[e("fieldset",{staticClass:"md-fieldset field-wrapper"},[e("legend",[t._v(t._s(t.translations.appointmentTypes.availabilityType))]),e("md-radio",{attrs:{id:"availability_type_blocks",name:"availability_type","md-value":"available_blocks","aria-described-by":"availability-type-help"},model:{value:t.availability_type,callback:function(e){t.availability_type=e},expression:"availability_type"}},[t._v(" "+t._s(t.translations.appointmentTypes.availabilityBlocks)+" ")]),e("md-radio",{attrs:{id:"availability_type_times",name:"availability_type","md-value":"start_times","aria-described-by":"availability-type-help"},model:{value:t.availability_type,callback:function(e){t.availability_type=e},expression:"availability_type"}},[t._v(" "+t._s(t.translations.appointmentTypes.availabilityStartTimes)+" ")]),e("div",{attrs:{id:"availability-type-help","aria-live":"polite"}},[e("p",["start_times"===t.availability_type?[t._v(" "+t._s(t.translations.appointmentTypes.availabilityStartTimesHelp)+" ")]:[t._v(" "+t._s(t.translations.appointmentTypes.availabilityBlocksHelp)+" ")]],2)])],1),e("fieldset",{staticClass:"md-fieldset field-wrapper"},[e("legend",[t._v(" "+t._s(t.translations.appointmentTypes.availabilityIncrement)+" ")]),t._l(t.options.availabilityTimeIncrements,(function(s){return e("md-radio",{key:s,attrs:{id:"increment-"+s,name:"increment","md-value":s},on:{change:t.updateAvailability},model:{value:t.increment,callback:function(e){t.increment=e},expression:"increment"}},[t._v(" "+t._s(s)+" "+t._s(t.translations.time.units.minutes.plural)+" ")])}))],2),"available_blocks"===t.availability_type?e("availability-picker",{ref:"availability-field",attrs:{increment:t.increment},model:{value:t.availability,callback:function(e){t.availability=e},expression:"availability"}}):e("start-time-picker",{ref:"start-time-field",attrs:{increment:t.increment},model:{value:t.availability,callback:function(e){t.availability=e},expression:"availability"}}),t.advancedSchedulingModule.enabled?[e("h3",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.availability_window)+" ")]),e("p",{staticClass:"subsection-description"},[t._v(" "+t._s(t.translations.appointmentTypes.availability_window_help)+" ")]),e("md-input-container",{class:{"md-input-invalid":!t.validAvailabilityWindow,"md-has-value":t.availability_start_date},attrs:{"md-clearable":""}},[e("label",{attrs:{for:"availability_start_date"}},[t._v(" "+t._s(t.translations.appointmentTypes.availability_start_date)+" ")]),e("date-time-picker",{on:{input:t.validateAvailabilityWindow},model:{value:t.availability_start_date,callback:function(e){t.availability_start_date=e},expression:"availability_start_date"}}),e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.availability_window_error)+" ")])],1),e("md-input-container",{class:{"md-input-invalid":!t.validAvailabilityWindow,"md-has-value":t.availability_end_date},attrs:{"md-clearable":""}},[e("label",{attrs:{for:"availability_end_date"}},[t._v(" "+t._s(t.translations.appointmentTypes.availability_end_date)+" ")]),e("date-time-picker",{on:{input:t.validateAvailabilityWindow},model:{value:t.availability_end_date,callback:function(e){t.availability_end_date=e},expression:"availability_end_date"}}),e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.availability_window_error)+" ")])],1)]:t._e()],2)},Xn=[],Qn=function(){var t=this,e=t._self._c;return e("div",{staticClass:"availability-table"},[e("table",{class:t.classes},[e("thead",[e("tr",[e("th",[t.canAddTimeBefore?e("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeBefore}},[e("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(s,i){return e("th",{key:`thead-${s}`},[t._v(t._s(t.weekdaysDisplay[i]))])}))],2)]),e("tfoot",[e("tr",[e("th",[t.canAddTimeAfter?e("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeAfter}},[e("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(s){return e("td",{key:`tfoot-${s}`},[t._v(" ")])}))],2)]),e("tbody",{on:{mousedown:function(e){return e.preventDefault(),t.mousedown(e)},mouseup:function(e){return e.preventDefault(),t.mouseup(e)},mouseover:function(e){return e.preventDefault(),t.mouseover(e)}}},t._l(t.times,(function(s){return e("tr",{key:s.timeCalc,class:{hour:"00"===s.timeMinutes}},["00"!==s.timeMinutes?e("th",[t._v(" ")]):e("th",[t._v(t._s(s.timeString))]),t._l(t.weekdays,(function(i){return e("cell",{key:i+" - "+s.timeCalc,tag:"td",attrs:{day:i,time:s.timeCalc,checked:t.checked[i]},on:{"update:checked":function(e){return t.$set(t.checked,i,e)},update:t.updateAvailability}})}))],2)})),0)])])},ta=[],ea=function(){var t=this,e=t._self._c;return e("td",{class:{selected:t.isSelected}},[e("input",{attrs:{id:t.id,type:"checkbox",name:t.day},domProps:{value:t.time,checked:t.isSelected},on:{change:t.changeCheck}}),e("label",{attrs:{for:t.id,title:t.time}},[t._v(t._s(t.day)+" "+t._s(t.time))])])},sa=[],ia={name:"availabilityPickerCell",props:{day:{type:String,required:!0},time:{type:String,required:!0},checked:{type:Array,required:!0}},computed:{id:function(){var t=this.day.toLowerCase(),e=t+this.time;return e.replace(/[^a-z0-9\-_:\]|^[^a-z]+/gi,"")},isSelected:function(){var t=!1,e=this.checked,s=e.indexOf(this.time);return s>=0&&(t=!0),t}},methods:{changeCheck:function(){this.$emit("update")}}},na=ia,aa=(0,K.Z)(na,ea,sa,!1,null,null,null),oa=aa.exports,ra={name:"availabilityTable",store:Ek,components:{cell:oa},props:["value","increment"],data(){return{isMouseDown:!1,erasing:!1,drawing:!1,startRowIndex:null,startCellIndex:null,timeStart:"08:00",timeEnd:"19:00"}},computed:{classes:function(){return{availability:!0,bordered:!0,erasing:this.erasing,drawing:this.drawing}},times:function(){var t=[],e=this.timeStringToMoment(this.timeStart),s=this.timeStringToMoment(this.timeEnd),i=this.increment||60,n=e.clone().subtract(i,"minutes"),a=s.clone();while(n.add(i,"minutes").diff(a)<0)t.push({timeString:n.clone().format(this.settings.global.time_format_moment),timeMinutes:n.clone().locale("en").format("mm"),timeCalc:n.clone().locale("en").format("HH:mm")});return t},checked(){let t={};return this.weekdays.map((e=>{let s=[],i=this.value[e],n=this.increment||60;i&&!Ye().isEmpty(i)&&i.map((t=>{let e=H()(t.time_start,"HH:mm").locale("en"),i=e.clone().subtract(n,"minutes");if(Object.prototype.hasOwnProperty.call(t,"time_end")){let e=H()(t.time_end,"HH:mm").locale("en");while(i.add(n,"minutes").diff(e)<0)s.push(i.clone().format("HH:mm"))}else s.push(e.clone().format("HH:mm"))})),t[e]=s})),t},weekdays:function(){return this.getWeekdays(this.settings.global.start_of_week)},weekdaysDisplay:function(){H().locale(this.settings.global.locale);var t=this.settings.global.start_of_week,e=H().weekdays(!1);if(t>0){var s=e.splice(0,t);e=[...e,...s]}return e},canAddTimeBefore:function(){var t=this.timeStringToMoment(this.timeStart);return!t.isSame(H()().startOf("day"))},canAddTimeAfter:function(){var t=this.timeStringToMoment(this.timeEnd).add(59,"minute");return!t.isAfter(H()().endOf("day"))},...(0,o.Se)({getWeekdays:"weekdays"}),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},beforeMount:function(){this.calculateStartAndEndTimes(),document.addEventListener("mouseup",(()=>{this.mouseup()}))},mounted(){this.updateAvailability()},methods:{calculateStartAndEndTimes:function(){let t=[];for(let o in this.value)Array.prototype.push.apply(t,this.value[o]);if(0===t.length)return;let e=t.map((t=>parseInt(t.time_start.split(":")[0]))),s=t.filter((t=>Object.prototype.hasOwnProperty.call(t,"time_end"))),i=s.map((t=>parseInt(t.time_end.split(":")[0]))),n=e.reduce(((t,e)=>Math.min(t,e))),a=i.length?i.reduce(((t,e)=>Math.max(t,e))):e.reduce(((t,e)=>Math.max(t,e)));this.timeStart=n>=1?(n-1).toString()+":00":n.toString()+":00",this.timeEnd=a<=23?(a+1).toString()+":00":a.toString()+":00"},addTimeBefore:function(){var t=this.timeStringToMoment(this.timeStart).subtract(1,"hour");this.timeStart=t.format("HH:mm")},addTimeAfter:function(){var t=this.timeStringToMoment(this.timeEnd).add(1,"hour");t.isAfter(H()().endOf("day"))&&t.subtract(1,"minute"),this.timeEnd=t.format("HH:mm")},timeStringToMoment:function(t){var e=H()(t,["H:mm:ss","HH:mm:ss","H:mm","HH:mm","h:mma","hh:mma","h:mmA","hh:mmA","h:mm","hh:mm"]);return e},updateAvailability:Ye().debounce((function(){var t=this.increment||60,e={};this.weekdays.map((s=>{var i=[].slice.call(document.getElementsByName(s)),n=!1,a=0,o=[];i.map(((e,s)=>{if(e.checked&&i.length===s+1){n||o.push({time_start:H()(e.value,this.settings.global.time_format_moment).locale("en").format("HH:mm:ss")}),n=!1;let s=o[a],i=H()(e.value,this.settings.global.time_format_moment).locale("en").add(t,"minutes");i.isAfter(H()().locale("en").endOf("day"))?s.time_end="24:00:00":s.time_end=i.format("HH:mm:ss"),a++}else if(e.checked&&!n){n=!0;var r={time_start:H()(e.value,this.settings.global.time_format_moment).locale("en").format("HH:mm:ss")};o.push(r)}else if(!e.checked&&n){n=!1;let t=o[a];t.time_end=H()(e.value,this.settings.global.time_format_moment).locale("en").format("HH:mm:ss"),a++}})),e[s]=o})),this.$emit("input",e)}),300),toggleCheck:function(t,e){var s=t.querySelector('input[type="checkbox"]');e&&(this.erasing?s.checked=!1:this.drawing&&(s.checked=!0));var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),s.dispatchEvent(i)},getCellIndex:function(t){for(var e=t.parentNode.childNodes,s=0,i=0;i<e.length;i++){if(e[i]===t)return s;e[i].nodeName===t.nodeName&&s++}},getRowIndex:function(t){for(var e=t.parentNode,s=e.parentNode.childNodes,i=0,n=0;n<s.length;n++){if(s[n]===e)return i;s[n].nodeName===e.nodeName&&i++}},mousedown:function(t){var e=t.target;while("TD"!==e.nodeName&&"TH"!==e.nodeName)e=e.parentNode;"TH"!==e.nodeName&&(e.classList.contains("selected")?(this.erasing=!0,this.drawing=!1):(this.erasing=!1,this.drawing=!0),this.toggleCheck(e,!1),this.startCellIndex=this.getCellIndex(e),this.startRowIndex=this.getRowIndex(e),this.isMouseDown=!0)},mouseup:function(){this.erasing=!1,this.drawing=!1,this.isMouseDown=!1},mouseover:function(t){if(this.isMouseDown){var e=t.target;while("TD"!==e.nodeName)e=e.parentNode;for(var s=this.getCellIndex(e),i=this.getRowIndex(e),n=i<this.startRowIndex?i:this.startRowIndex,a=i<this.startRowIndex?this.startRowIndex:i,o=s<this.startCellIndex?s:this.startCellIndex,r=s<this.startCellIndex?this.startCellIndex:s,l=e.parentNode.parentNode.getElementsByTagName("tr"),p=n;p<=a;p++)for(var d=l[p].getElementsByTagName("td"),c=o;c<=r;c++)this.toggleCheck(d[c],!0)}}}},la=ra,pa=(0,K.Z)(la,Qn,ta,!1,null,null,null),da=pa.exports,ca=function(){var t=this,e=t._self._c;return e("div",{staticClass:"start-time-table"},[e("table",{staticClass:"start-times"},[e("thead",[e("tr",[e("th",[t.canAddTimeBefore?e("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeBefore}},[e("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(s,i){return e("th",{key:i,attrs:{scope:"col"}},[e("button",{attrs:{"aria-label":t.translations.appointmentTypes.availabilityToggle+" "+t.weekdaysDisplay[i]},on:{click:t.toggleCol}},[t._v(" "+t._s(t.weekdaysDisplay[i])+" ")])])}))],2)]),e("tfoot",[e("tr",[e("th",[t.canAddTimeAfter?e("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeAfter}},[e("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(s){return e("td",{key:s},[t._v(" ")])}))],2)]),e("tbody",t._l(t.times,(function(s){return e("tr",{key:s.timeCalc,class:{hour:"00"===s.timeMinutes}},[e("th",{attrs:{scope:"row"}},[e("button",{attrs:{"aria-label":t.translations.appointmentTypes.availabilityToggle+" "+s.timeString},on:{click:t.toggleRow}},[t._v(" "+t._s(s.timeString)+" ")])]),t._l(t.weekdays,(function(i){return e("cell",{key:i+" - "+s.timeCalc,tag:"td",attrs:{day:i,time:s.timeCalc,checked:t.checked[i]},on:{"update:checked":function(e){return t.$set(t.checked,i,e)},update:t.updateAvailability}})}))],2)})),0)])])},ma=[],ua=function(){var t=this,e=t._self._c;return e("td",[e("input",{staticClass:"single-time",attrs:{type:"checkbox",id:t.id,name:t.day},domProps:{value:t.time,checked:t.isSelected},on:{change:t.changeCheck}}),e("label",{attrs:{for:t.id,title:t.time}},[t._v(" "+t._s(t.day)+" "+t._s(t.time)+" ")])])},ha=[],ga={name:"StartTimePickerCell",props:{day:{type:String,required:!0},time:{type:String,required:!0},checked:{type:Array,required:!0}},computed:{id(){let t=this.day.toLowerCase(),e=t+this.time;return e.replace(/[^a-z0-9\-_:\]|^[^a-z]+/gi,"")},isSelected(){let t=this.checked,e=t.indexOf(this.time);return e>=0}},methods:{changeCheck(){this.$emit("update")}}},_a=ga,fa=(0,K.Z)(_a,ua,ha,!1,null,null,null),ya=fa.exports,va={name:"start_times",components:{cell:ya},props:["value","increment"],data(){return{isShiftPressed:!1,startCellIndex:null,startCellState:!1,startRowIndex:null,table:null,timeStart:"9:00",timeEnd:"18:00"}},beforeMount(){this.calculateStartAndEndTimes()},mounted(){this.updateAvailability(),this.table=document.querySelector(".start-times"),this.table.addEventListener("change",this.toggleRange),document.addEventListener("keyup",this.detectShift),document.addEventListener("keydown",this.detectShift)},beforeDestroy(){this.table.removeEventListener("change",this.toggleRange),document.removeEventListener("keyup",this.detectShift),document.removeEventListener("keydown",this.detectShift)},computed:{canAddTimeAfter(){let t=this.timeStringToMoment(this.timeEnd).add(59,"minute");return!t.isAfter(H()().endOf("day"))},canAddTimeBefore(){let t=this.timeStringToMoment(this.timeStart);return!t.isSame(H()().startOf("day"))},checked(){let t={};return this.weekdays.map((e=>{let s=[],i=this.value[e],n=this.increment||60;i&&!Ye().isEmpty(i)&&i.map((t=>{let e=H()(t.time_start,"H:mm"),i=e.clone().subtract(n,"minutes");if(Object.prototype.hasOwnProperty.call(t,"time_end")){let e=H()(t.time_end,"H:mm");while(i.add(n,"minutes").diff(e)<0)s.push(i.clone().format("H:mm"))}else s.push(e.clone().format("H:mm"))})),t[e]=s})),t},times(){let t=[],e=this.timeStringToMoment(this.timeStart),s=this.timeStringToMoment(this.timeEnd),i=this.increment||60,n=e.clone().subtract(i,"minutes"),a=s.clone();while(n.add(i,"minutes").diff(a)<0)t.push({timeString:n.clone().format(this.settings.global.time_format_moment),timeMinutes:n.clone().format("mm"),timeCalc:n.clone().format("H:mm")});return t},weekdays(){return this.getWeekdays(this.settings.global.start_of_week)},weekdaysDisplay(){H().locale(this.settings.global.locale);let t=this.settings.global.start_of_week,e=H().weekdays(!1);if(t>0){let s=e.splice(0,t);e=[...e,...s]}return e},...(0,o.Se)({getWeekdays:"weekdays"}),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{addTimeAfter(){let t=this.timeStringToMoment(this.timeEnd).add(1,"hour");t.isAfter(H()().endOf("day"))&&t.subtract(1,"minute"),this.timeEnd=t.format("H:mm")},addTimeBefore(){let t=this.timeStringToMoment(this.timeStart).subtract(1,"hour");this.timeStart=t.format("H:mm")},calculateStartAndEndTimes(){let t=[];for(let o in this.value)Array.prototype.push.apply(t,this.value[o]);if(0===t.length)return;let e=t.map((t=>parseInt(t.time_start.split(":")[0]))),s=t.filter((t=>Object.prototype.hasOwnProperty.call(t,"time_end"))),i=s.map((t=>parseInt(t.time_end.split(":")[0]))),n=e.reduce(((t,e)=>Math.min(t,e))),a=i.length?i.reduce(((t,e)=>Math.max(t,e))):e.reduce(((t,e)=>Math.max(t,e)));this.timeStart=n>=1?(n-1).toString()+":00":n.toString()+":00",this.timeEnd=a<=23?(a+1).toString()+":00":a.toString()+":00"},detectShift(t){this.isShiftPressed=t.shiftKey},getCellIndex:function(t){for(var e=t.parentNode.childNodes,s=0,i=0;i<e.length;i++){if(e[i]===t)return s;e[i].nodeName===t.nodeName&&s++}},getRowIndex:function(t){for(var e=t.parentNode,s=e.parentNode.childNodes,i=0,n=0;n<s.length;n++){if(s[n]===e)return i;s[n].nodeName===e.nodeName&&i++}},getClosest(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},timeStringToMoment(t){return H()(t,["H:mm:ss","HH:mm:ss","H:mm","HH:mm","h:mma","hh:mma","h:mmA","hh:mmA","h:mm","hh:mm"])},toggleCheck(t,e){let s=t.querySelector('input[type="checkbox"]');s.checked=e;var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),s.dispatchEvent(i)},toggleCol(t){let e=this.getClosest(t.target,"th"),s=this.getCellIndex(e)-1,i=this.table.querySelectorAll("tbody tr"),n=i[0],a=n.querySelectorAll("td")[s],o=a.querySelector('input[type="checkbox"]').checked;for(let r=0;r<i.length;r++){let t=i[r].querySelectorAll("td")[s];this.toggleCheck(t,!o)}},toggleRow(t){let e=this.getClosest(t.target,"tr"),s=e.getElementsByTagName("td"),i=s[0],n=i.querySelector('input[type="checkbox"]').checked;for(let a=0;a<s.length;a++)this.toggleCheck(s[a],!n)},toggleRange(t){if(t.target.classList.contains("single-time"))var e=this.getClosest(t.target,"td");if(this.isShiftPressed&&this.startCellIndex>=0&&this.startRowIndex>=0){let s=this.getCellIndex(e),i=this.getRowIndex(e),n=i<this.startRowIndex?i:this.startRowIndex,a=i<this.startRowIndex?this.startRowIndex:i,o=s<this.startCellIndex?s:this.startCellIndex,r=s<this.startCellIndex?this.startCellIndex:s,l=this.getClosest(e,"tbody"),p=l.getElementsByTagName("tr");for(let t=n;t<=a;t++){let e=p[t].getElementsByTagName("td");for(let t=o;t<=r;t++)this.toggleCheck(e[t],this.startRowState)}this.startCellIndex=this.getCellIndex(e),this.startRowIndex=this.getRowIndex(e),this.startRowState=t.target.checked}else this.startCellIndex=this.getCellIndex(e),this.startRowIndex=this.getRowIndex(e),this.startRowState=t.target.checked},updateAvailability:Ye().debounce((function(){let t={};this.weekdays.map((e=>{let s=[].slice.call(document.getElementsByName(e)),i=[];s.map((t=>{t.checked&&i.push({time_start:H()(t.value,this.settings.global.time_format_moment).format("HH:mm:ss")})})),t[e]=i})),this.$emit("input",t)}),300)}},ba=va,ka=(0,K.Z)(ba,ca,ma,!1,null,null,null),Ca=ka.exports,Sa={name:"appointmentTypeAvailability",components:{AvailabilityPicker:da,StartTimePicker:Ca,DateTimePicker:$s},data(){return{options:B,validAvailabilityWindow:!0}},computed:{availability_end_date:{get(){return this.currentAppointmentType?this.currentAppointmentType.availability_end_date:null},set(t){this.updateCurrentAppointmentType({key:"availability_end_date",value:t})}},availability_start_date:{get(){return this.currentAppointmentType?this.currentAppointmentType.availability_start_date:null},set(t){this.updateCurrentAppointmentType({key:"availability_start_date",value:t})}},availability_type:{get(){return this.currentAppointmentType.availability_type},set(t){this.updateCurrentAppointmentType({key:"availability_type",value:t})}},increment:{get(){return this.currentAppointmentType.availability_increment},set(t){this.updateCurrentAppointmentType({key:"availability_increment",value:t})}},availability:{get(){return this.currentAppointmentType.availability},set(t){this.updateCurrentAppointmentType({key:"availability",value:t})}},appointmentTypeLabel(){return this.labelInfo(this.currentAppointmentType.label_id,"color")||"light-green"},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("advanced_scheduling",["advancedSchedulingModule"]),...(0,o.Se)("appointment_types",["labelInfo"])},methods:{updateAvailability(){"available_blocks"===this.availability_type?this.$refs["availability-field"].updateAvailability():this.$refs["start-time-field"].updateAvailability()},validateAvailabilityWindow(){let t=H().utc(this.availability_start_date,this.timestampFormat).locale("en"),e=H().utc(this.availability_end_date,this.timestampFormat).locale("en");t.isValid()&&e.isValid()?this.validAvailabilityWindow=t.isBefore(e):this.validAvailabilityWindow=!0,this.$emit("validationCheck",this.validAvailabilityWindow)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},wa=Sa,Ta=(0,K.Z)(wa,Jn,Xn,!1,null,null,null),xa=Ta.exports,Aa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-scheduling"},[e("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.timezoneStyle))]),e("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.timezoneStyleHelp))]),e("div",[e("md-radio",{attrs:{id:"tzstyle-localized",name:"timezone_style","md-value":"localized"},model:{value:t.timezone_style,callback:function(e){t.timezone_style=e},expression:"timezone_style"}},[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLocalized))]),e("md-radio",{attrs:{id:"tzstyle-locked",name:"timezone_style","md-value":"locked"},model:{value:t.timezone_style,callback:function(e){t.timezone_style=e},expression:"timezone_style"}},[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLocked))])],1),"locked"===t.timezone_style?e("div",[e("p",[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLockedHelp))]),e("p",[t._v(t._s(t.translations.appointmentTypes.timezoneStyleYourTimezone)+" "),e("strong",[t._v(t._s(t.formatTimezone(t.settings.global.timezone_string)))]),e("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v(t._s(t.translations.actions.edit))])],1)]):e("p",[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLocalizedHelp))]),e("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.buffer))]),e("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.buffer_help))]),e("md-layout",{staticClass:"complex-field"},[e("div",{staticClass:"inline-label"},[e("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.scheduling.before))])]),e("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.buffer_before},model:{value:t.$v.buffer_before.$model,callback:function(e){t.$set(t.$v.buffer_before,"$model",e)},expression:"$v.buffer_before.$model"}})],1),e("md-layout",{staticClass:"complex-field"},[e("div",{staticClass:"inline-label"},[e("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.scheduling.after))])]),e("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.buffer_after},model:{value:t.$v.buffer_after.$model,callback:function(e){t.$set(t.$v.buffer_after,"$model",e)},expression:"$v.buffer_after.$model"}})],1),e("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.notice))]),e("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.notice_help))]),e("md-layout",{staticClass:"complex-field",class:{"md-input-invalid":!t.validMinMax}},[e("div",{staticClass:"inline-label"},[e("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.min_booking_notice))])]),e("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.min_booking_notice_help,errorText:t.minBookingNoticeErrorMessage},model:{value:t.$v.min_booking_notice.$model,callback:function(e){t.$set(t.$v.min_booking_notice,"$model",e)},expression:"$v.min_booking_notice.$model"}})],1),t.advancedSchedulingModule.enabled?[e("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.advance))]),e("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.advance_help))]),e("md-layout",{staticClass:"complex-field",class:{"md-input-invalid":!t.validMinMax}},[e("div",{staticClass:"inline-label"},[e("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.max_booking_notice))])]),e("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.max_booking_notice_help,errorText:t.maxBookingNoticeErrorMessage},model:{value:t.$v.max_booking_notice.$model,callback:function(e){t.$set(t.$v.max_booking_notice,"$model",e)},expression:"$v.max_booking_notice.$model"}})],1),e("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.booking_window))]),e("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.booking_window_help))]),e("md-input-container",{class:{"md-input-invalid":!t.validBookingWindow,"md-has-value":t.booking_start_date},attrs:{"md-clearable":""}},[e("label",{attrs:{for:"booking_start_date"}},[t._v(t._s(t.translations.appointmentTypes.booking_start_date))]),e("date-time-picker",{on:{input:t.validationCheck},model:{value:t.booking_start_date,callback:function(e){t.booking_start_date=e},expression:"booking_start_date"}}),e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.advanced_scheduling.booking_window_error))])],1),e("md-input-container",{class:{"md-input-invalid":!t.validBookingWindow,"md-has-value":t.booking_end_date},attrs:{"md-clearable":""}},[e("label",{attrs:{for:"booking_end_date"}},[t._v(t._s(t.translations.appointmentTypes.booking_end_date))]),e("date-time-picker",{on:{input:t.validationCheck},model:{value:t.booking_end_date,callback:function(e){t.booking_end_date=e},expression:"booking_end_date"}}),e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.advanced_scheduling.booking_window_error))])],1)]:t._e(),e("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.max))]),e("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.max_help))]),e("md-layout",{attrs:{"md-column":""}},[e("md-checkbox",{attrs:{"md-theme":t.currentAppointmentType?t.currentAppointmentType.label:"default",id:"limitmax",name:"limitmax"},model:{value:t.limitmax,callback:function(e){t.limitmax=e},expression:"limitmax"}},[t._v(t._s(t.translations.appointmentTypes.limitmax))])],1),t.limitmax?e("md-layout",{attrs:{"md-column":""}},[e("md-layout",[e("md-input-container",[e("label",{attrs:{for:"max_event_count"}},[t._v(t._s(t.translations.appointmentTypes.max_event_count))]),e("md-input",{attrs:{id:"max_event_count"},model:{value:t.max_event_count,callback:function(e){t.max_event_count=e},expression:"max_event_count"}})],1)],1)],1):t._e()],2)},Pa=[],Da={name:"appointmentTypeScheduling",mixins:[Un.oE],store:Ek,components:{Duration:zn,DateTimePicker:$s},data(){return{options:B,moment:H(),validBookingWindow:!0,validMinMax:!0}},validations:{buffer_before:{minValue:(0,Bn.uv)(0)},buffer_after:{minValue:(0,Bn.uv)(0)},min_booking_notice:{minValue:(0,Bn.uv)(0)},max_booking_notice:{minValue:(0,Bn.uv)(0)}},computed:{timezone_style:{get(){return this.currentAppointmentType&&this.currentAppointmentType.timezone_style?this.currentAppointmentType.timezone_style:"localized"},set(t){this.updateCurrentAppointmentType({key:"timezone_style",value:t})}},booking_end_date:{get(){return this.currentAppointmentType?this.currentAppointmentType.booking_end_date:""},set(t){this.updateCurrentAppointmentType({key:"booking_end_date",value:t})}},booking_start_date:{get(){return this.currentAppointmentType?this.currentAppointmentType.booking_start_date:""},set(t){this.updateCurrentAppointmentType({key:"booking_start_date",value:t})}},buffer_after:{get(){return this.currentAppointmentType?this.currentAppointmentType.buffer_after:""},set(t){this.updateCurrentAppointmentType({key:"buffer_after",value:t}),this.validationCheck()}},bufferAfterError(){return this.$v.buffer_after.$invalid},buffer_before:{get(){return this.currentAppointmentType?this.currentAppointmentType.buffer_before:""},set(t){this.updateCurrentAppointmentType({key:"buffer_before",value:t}),this.validationCheck()}},bufferBeforeError(){return this.$v.buffer_before.$invalid},limitmax:{get(){return this.max_event_count>0},set(t){this.max_event_count=t?3:0}},min_booking_notice:{get(){return this.currentAppointmentType?this.currentAppointmentType.min_booking_notice:""},set(t){this.updateCurrentAppointmentType({key:"min_booking_notice",value:t}),this.validationCheck()}},minBookingNoticeError(){return this.$v.min_booking_notice.$invalid},minBookingNoticeErrorMessage(){return this.advancedSchedulingModule.enabled&&!this.validMinMax&&this.min_booking_notice>=1&&this.max_booking_notice>=1?this.translations.appointmentTypes.min_max_error:""},max_booking_notice:{get(){let t=null;return this.currentAppointmentType&&(t=this.currentAppointmentType.max_booking_notice),0!==t&&"0"!==t||(t=""),t},set(t){this.updateCurrentAppointmentType({key:"max_booking_notice",value:t}),this.validationCheck()}},maxBookingNoticeError(){return this.$v.max_booking_notice.$invalid},maxBookingNoticeErrorMessage(){if(this.advancedSchedulingModule.enabled){if(this.max_booking_notice<1)return this.translations.appointmentTypes.max_booking_notice_error;if(!this.validMinMax&&this.max_booking_notice>=1&&this.min_booking_notice>=1)return this.translations.appointmentTypes.min_max_error}return""},max_event_count:{get(){return this.currentAppointmentType?this.currentAppointmentType.max_event_count:""},set(t){this.updateCurrentAppointmentType({key:"max_event_count",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)(["formatTimezone"]),...(0,o.Se)("advanced_scheduling",["advancedSchedulingModule"])},methods:{validationCheck(){let t=H().utc(this.booking_start_date,this.timestampFormat),e=H().utc(this.booking_end_date,this.timestampFormat);t.isValid()&&e.isValid()?this.validBookingWindow=t.isBefore(e):this.validBookingWindow=!0;let s=this.min_booking_notice?parseInt(this.min_booking_notice,10):null,i=this.max_booking_notice?parseInt(this.max_booking_notice,10):null;this.validMinMax=!(s&&i&&i<=s)&&!!i,this.$emit("validationCheck",this.validBookingWindow&&this.validMinMax&&!this.bufferBeforeError&&!this.bufferAfterError&&!this.maxBookingNoticeError&&!this.minBookingNoticeError)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Ma=Da,Ea=(0,K.Z)(Ma,Aa,Pa,!1,null,null,null),La=Ea.exports,Oa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-payments"},[t.activePaymentMethods.length?[e("h3",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.payments.requiredPayment))]),e("div",{staticClass:"radio-list"},[e("md-radio",{attrs:{id:"payment-required",name:"payment_required","md-value":"required"},model:{value:t.payment_required,callback:function(e){t.payment_required=e},expression:"payment_required"}},[t._v(t._s(t.translations.appointmentTypes.payments.required))]),e("md-radio",{attrs:{id:"payment-optional",name:"payment_required","md-value":"optional"},model:{value:t.payment_required,callback:function(e){t.payment_required=e},expression:"payment_required"}},[t._v(t._s(t.translations.appointmentTypes.payments.optional))]),e("md-radio",{attrs:{id:"payment-none",name:"payment_required","md-value":"none"},model:{value:t.payment_required,callback:function(e){t.payment_required=e},expression:"payment_required"}},[t._v(t._s(t.translations.appointmentTypes.payments.none))])],1),t.paymentsEnabled?[e("hr"),e("md-layout",{staticClass:"col3-big-middle",attrs:{"md-gutter":!0}},[e("md-layout",[e("md-input-container",{class:{"md-input-invalid":t.$v.price.$invalid}},[e("label",{attrs:{for:"price"}},[t._v(t._s(t.translations.appointmentTypes.payments.price))]),e("md-input",{attrs:{min:"0",type:"number",required:"",step:"any"},on:{blur:t.tidyPrice},model:{value:t.$v.price.$model,callback:function(e){t.$set(t.$v.price,"$model",t._n("string"===typeof e?e.trim():e))},expression:"$v.price.$model"}}),t.$v.price.$invalid?e("span",{staticClass:"md-error"},[t._v(t._s(t.price_error))]):t._e()],1)],1),e("md-layout",[e("md-input-container",[e("label",{attrs:{for:"currency"}},[t._v(t._s(t.translations.appointmentTypes.payments.currency))]),e("select2",{attrs:{name:"currency",id:"currency"},on:{input:t.tidyPrice},model:{value:t.$v.currency.$model,callback:function(e){t.$set(t.$v.currency,"$model",e)},expression:"$v.currency.$model"}},t._l(t.currencies,(function(s){return e("option",{key:s.number,domProps:{value:s.code}},[t._v(" "+t._s(s.currency)+" ("+t._s(s.code)+") ")])})),0),t.$v.currency.$invalid&&t.$v.currency.$dirty?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.payments.currencyError)+" ")]):t._e()],1)],1),e("md-layout",[e("md-input-container",{directives:[{name:"show",rawName:"v-show",value:t.price,expression:"price"}],staticClass:"readonly"},[e("label",{attrs:{for:"display_price"}},[t._v(t._s(t.translations.appointmentTypes.payments.displayPrice))]),e("md-input",{attrs:{readonly:""},model:{value:t.display_price,callback:function(e){t.display_price=e},expression:"display_price"}})],1)],1)],1),e("md-input-container",[e("label",{attrs:{for:"refund-policy"}},[t._v(t._s(t.translations.appointmentTypes.payments.refundPolicy))]),e("md-textarea",{model:{value:t.refund_policy,callback:function(e){t.refund_policy=e},expression:"refund_policy"}}),e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.appointmentTypes.payments.refundPolicyHelp))])],1),e("fieldset",{staticClass:"check-list"},[e("legend",[t._v(t._s(t.translations.appointmentTypes.payments.paymentMethods))]),t.$v.payment_methods.$invalid?e("p",{staticClass:"error-message"},[t._v(t._s(t.translations.appointmentTypes.payments.paymentMethodsError))]):t._e(),t._l(t.activePaymentMethods,(function(s,i){return e("div",{key:i,staticClass:"check-item"},[e("foxy-checkbox-multi",{key:i,attrs:{id:"payment-method-"+i,name:"payment-methods",value:s,theme:t.currentAppointmentType.label?t.currentAppointmentType.label:"light-green",theming:"primary"},model:{value:t.$v.payment_methods.$model,callback:function(e){t.$set(t.$v.payment_methods,"$model",e)},expression:"$v.payment_methods.$model"}},[t._v(" "+t._s(t.displayGateway(s))+" ")])],1)}))],2)]:t._e()]:e("empty",{attrs:{label:t.translations.appointmentTypes.payments.noGateways}},[e("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/payments"}},[t._v(t._s(t.translations.appointmentTypes.payments.setup))])],1)],2)},$a=[],Ia=function(){var t=this,e=t._self._c;return e("select",{ref:"select2",staticStyle:{width:"100%"}},[t._t("default")],2)},Na=[],ja=s(7387),za=s.n(ja);s(8015);var Ua={name:"select2Dropdown",props:{value:{type:String},placeholder:{type:String,default:""},allowClear:{type:Boolean,default:!1}},mounted:function(){var t=this,e=za()(t.$refs.select2);e.select2({allowClear:this.allowClear,placeholder:this.placeholder}).val(this.value).trigger("change").on("change",(function(){t.$emit("input",this.value)})).on("select2:open",(function(){za()(".select2-search__field")[0].focus()})),this.styleContainer(e)},watch:{value:function(t){var e=za()(this.$refs.select2);e.val(t).trigger("change"),this.styleContainer(e)}},beforeDestroy:function(){za()(this.$refs.select2).off().select2("destroy")},methods:{styleContainer:function(t){var e=t.parents(".md-input-container");this.value?e.addClass("md-has-value"):e.removeClass("md-has-value")}}},Ba=Ua,Fa=(0,K.Z)(Ba,Ia,Na,!1,null,null,null),Ga=Fa.exports,Wa={name:"appointmentTypePayments",mixins:[Un.oE],components:{Empty:$e,Select2:Ga},data(){return{currencies:P,paymentInfo:{}}},validations(){return{price:{required:(0,Bn.CF)("paymentsEnabled"),minVal:(0,Bn.uv)(this.currencyObj.min),decimal:Bn.gH},currency:{required:(0,Bn.CF)("paymentsEnabled")},payment_methods:{required:(0,Bn.CF)("paymentsEnabled")}}},mounted(){var t=Ye().cloneDeep(this.currentAppointmentType.payments);Ye().isEmpty(t)&&(t={},t.payment_methods=this.activePaymentMethods.slice(0),t.currency=this.settings.payments.default_currency),this.paymentInfo=t},watch:{paymentInfo:{handler(t){this.updateCurrentAppointmentType({key:"payments",value:Ye().cloneDeep(t)})},deep:!0}},computed:{price:{get(){return this.paymentInfo.price?this.paymentInfo.price:null},set(t){this.$set(this.paymentInfo,"price",t),this.validationCheck()}},price_error(){return"USD"===this.currency?this.translations.appointmentTypes.payments.priceUSDError:this.translations.appointmentTypes.payments.priceError+parseFloat(this.currencyObj.min).toFixed(this.currencyObj.digits)},currency:{get(){return this.paymentInfo.currency?this.paymentInfo.currency:this.settings.payments.default_currency},set(t){this.$set(this.paymentInfo,"currency",t),this.validationCheck()}},currencyObj(){return this.currencies.find((t=>this.currency===t.code))},display_price(){let t=this.settings.global.locale.replace("_","-");t=t.replace("_formal","");let e=parseFloat(this.price);return e?new Intl.NumberFormat(t,{style:"currency",currency:this.currency}).format(e):null},refund_policy:{get(){return this.paymentInfo.refund_policy?this.paymentInfo.refund_policy:""},set(t){this.$set(this.paymentInfo,"refund_policy",t)}},payment_methods:{get(){return this.paymentInfo.payment_methods?this.paymentInfo.payment_methods:this.activePaymentMethods.slice(0)},set(t){this.$set(this.paymentInfo,"payment_methods",t),this.validationCheck()}},payment_required:{get(){return this.paymentInfo.payment_required?this.paymentInfo.payment_required:"none"},set(t){this.$set(this.paymentInfo,"payment_required",t),this.validationCheck()}},paymentsEnabled(){return"none"!==this.payment_required},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("payments",["activePaymentMethods","displayGateway"])},methods:{validationCheck(){this.$emit("validationCheck",!this.$v.$invalid)},tidyPrice(){null!==this.price&&(this.price=parseFloat(this.price).toFixed(this.currencyObj.digits))},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Ra=Wa,Ha=(0,K.Z)(Ra,Oa,$a,!1,null,null,null),qa=Ha.exports,Za=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-staff"},[t.loading?e("loading",{attrs:{size:"body",message:t.translations.settings.staff.loading}}):t.staffStatusPublish.length?[e("router-link",{staticClass:"md-primary right-align-link",attrs:{tag:"md-button",to:"/ssa/settings/staff"}},[t._v(" "+t._s(t.translations.settings.staff.actions.manageTeamMembers)+" ")]),[e("h3",{staticClass:"md-subheading caption-pair"},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.staffEnableHeading)+" ")]),e("p",{staticClass:"md-caption caption-pair"},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.staffEnableDesc)+" ")]),e("div",{staticClass:"radio-list"},[e("md-radio",{attrs:{id:"staff-any",name:"staff-any","md-value":"any"},model:{value:t.staffRequired,callback:function(e){t.staffRequired=e},expression:"staffRequired"}},[e("strong",[t._v(" "+t._s(t.translations.settings.staff.appointmentType.anyLabel)+" ")]),t._v(" "+t._s(t.translations.settings.staff.appointmentType.anyDesc)+" ")]),e("md-radio",{attrs:{id:"staff-all",name:"staff-all","md-value":"all"},model:{value:t.staffRequired,callback:function(e){t.staffRequired=e},expression:"staffRequired"}},[e("strong",[t._v(" "+t._s(t.translations.settings.staff.appointmentType.allLabel)+" ")]),t._v(" "+t._s(t.translations.settings.staff.appointmentType.allDesc)+" ")]),e("md-radio",{attrs:{id:"staff-none",name:"staff-none","md-value":""},model:{value:t.staffRequired,callback:function(e){t.staffRequired=e},expression:"staffRequired"}},[e("strong",[t._v(" "+t._s(t.translations.settings.staff.appointmentType.noneLabel)+" ")]),t._v(" "+t._s(t.translations.settings.staff.appointmentType.noneDesc)+" ")])],1)],t.staffError?e("notification",{attrs:{icon:"warning",theme:"orange"}},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.staffWarning)+" ")]):t._e(),""!==t.staffRequired?[e("h3",{staticClass:"md-subheading"},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.teamLabel)+" ")]),e("md-list",{staticClass:"staff-list"},t._l(t.staffStatusPublish,(function(s){return e("md-list-item",{key:s.id},[e("md-checkbox",{staticClass:"staff-item",attrs:{id:"staff-"+s.id,name:"staff-"+s.id,"md-value":s.id},model:{value:t.selectedStaff,callback:function(e){t.selectedStaff=e},expression:"selectedStaff"}},[""===s.web_meetings_url&&Object.prototype.hasOwnProperty.call(t.currentAppointmentType,"web_meetings")&&"staff"===t.currentAppointmentType.web_meetings.provider?e("md-icon",{attrs:{"md-theme":"yellow"}},[t._v("warning")]):t._e(),t._v(" "+t._s(s.display_name)+" "),""===s.web_meetings_url&&Object.prototype.hasOwnProperty.call(t.currentAppointmentType,"web_meetings")&&"staff"===t.currentAppointmentType.web_meetings.provider?e("notification",{attrs:{theme:"amber",inline:!0}},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.noWebMeetingUrl)+" ")]):t._e()],1)],1)})),1)]:t._e()]:e("empty",{attrs:{label:"No team members yet"}},[e("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/staff"}},[t._v(" "+t._s(t.translations.settings.staff.actions.addNew)+" ")])],1)],2)},Ka=[],Va={name:"AppointmentTypeStaff",components:{Loading:nt,Empty:$e,Notification:Ys},data(){return{loading:!0}},mounted(){this.staff&&this.staff.length?this.loading=!1:this.fetchStaff().then((()=>{this.loading=!1}))},watch:{staffRequired(){if(""===this.staffRequired&&Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"web_meetings")&&"staff"===this.currentAppointmentType.web_meetings.provider){let t=Ye().cloneDeep(this.currentAppointmentType.web_meetings);t.provider=""!==t.url?"custom":"",this.updateCurrentAppointmentType({key:"web_meetings",value:t})}}},computed:{staffRequired:{get(){return Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"staff")&&this.currentAppointmentType.staff?this.currentAppointmentType.staff.required:""},set(t){let e=this.currentAppointmentType.staff;e="string"===typeof e||"undefined"===typeof e?Ye().cloneDeep(S):Ye().cloneDeep(this.currentAppointmentType.staff),e.required=t;let s=Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"staff")&&this.currentAppointmentType.staff?this.currentAppointmentType.staff.required:"";this.$emit("staffRequiredChange",{oldStaff:s,newStaff:t}),this.updateCurrentAppointmentType({key:"staff",value:e}),this.validationCheck()}},selectedStaff:{get(){return Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"staff_ids")&&this.currentAppointmentType.staff_ids?this.currentAppointmentType.staff_ids.map(String):[]},set(t){this.updateCurrentAppointmentType({key:"staff_ids",value:t}),this.validationCheck()}},staffError(){return!!this.staffRequired&&!this.selectedStaff.length},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("staff",["staffStatusPublish"])},methods:{validationCheck(){this.$emit("validationCheck",!this.staffError)},...(0,o.nv)("staff",["fetchStaff"]),...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Ya=Va,Ja=(0,K.Z)(Ya,Za,Ka,!1,null,null,null),Xa=Ja.exports,Qa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-google-calendar"},[t.loading?e("loading",{attrs:{size:"body",message:t.translations.settings.google_calendar.loadingCalendars}}):t.error?e("empty",{attrs:{label:t.translations.appointmentTypes.google_calendar.checkSettingsMessage}},[e("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/google-calendar"}},[t._v(" "+t._s(t.translations.appointmentTypes.google_calendar.checkSettings)+" ")])],1):t.settings.google_calendar.access_token?[e("div",{staticClass:"md-heading-group"},[e("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.wizard.appointmentType.apptSyncHeading))]),e("div",{staticClass:"md-subheading"},[t._v(t._s(t.translations.wizard.appointmentType.apptSyncDesc))])]),e("md-list",[t._l(t.writeableGoogleCalendars,(function(s){return e("md-list-item",{key:s.gcal_id},[e("md-radio",{attrs:{"md-value":s.gcal_id},model:{value:t.googleCalendarBooking,callback:function(e){t.googleCalendarBooking=e},expression:"googleCalendarBooking"}},[t._v(t._s(s.summary))])],1)})),e("md-list-item",[e("md-radio",{attrs:{"md-value":""},model:{value:t.googleCalendarBooking,callback:function(e){t.googleCalendarBooking=e},expression:"googleCalendarBooking"}},[t._v(" "+t._s(t.translations.wizard.googleCalendar.dontAdd)+" ")])],1)],2),t.googleCalendarBooking?e("div",{staticStyle:{padding:"1rem"}},[e("md-switch",{attrs:{id:"sharedCalendarEvent","md-theme":"reverse"},model:{value:t.sharedCalendarEvent,callback:function(e){t.sharedCalendarEvent=e},expression:"sharedCalendarEvent"}},[e("span",{staticClass:"md-switch-label"},[t._v(t._s(t.translations.appointmentTypes.google_calendar.sharedCalendarEvent))])]),e("div",[t._v(t._s(t.translations.appointmentTypes.google_calendar.sharedCalendarEventDesc))])],1):t._e(),e("div",{staticClass:"md-heading-group"},[e("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.wizard.appointmentType.checkCalendars))]),e("div",{staticClass:"md-subheading"},[t._v(t._s(t.translations.wizard.appointmentType.checkCalendarsDesc))])]),e("md-list",t._l(t.googleCalendars,(function(s){return e("md-list-item",{key:s.gcal_id},[e("md-checkbox",{attrs:{id:s.gcal_id,name:s.gcal_id,"md-value":s.gcal_id},model:{value:t.googleCalendarsAvailability,callback:function(e){t.googleCalendarsAvailability=e},expression:"googleCalendarsAvailability"}},[t._v(" "+t._s(s.summary)+" ")])],1)})),1)]:e("empty",{attrs:{label:t.translations.appointmentTypes.google_calendar.noAccessToken}},[e("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/google-calendar"}},[t._v(" "+t._s(t.translations.appointmentTypes.google_calendar.setup)+" ")])],1)],2)},to=[],eo={name:"googleCalendar",components:{Empty:$e,Loading:nt},data(){return{loading:!0,error:!1}},mounted(){this.googleCalendars.length?this.loading=!1:this.fetchGoogleCalendars().then((()=>{this.cleanUpCalendars(),this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0}))},computed:{googleCalendarBooking:{get(){return this.currentAppointmentType.google_calendar_booking},set(t){this.updateCurrentAppointmentType({key:"google_calendar_booking",value:t})}},googleCalendarsAvailability:{get(){return this.currentAppointmentType.google_calendars_availability&&"boolean"!==typeof this.currentAppointmentType.google_calendars_availability?this.currentAppointmentType.google_calendars_availability:[]},set(t){this.updateCurrentAppointmentType({key:"google_calendars_availability",value:t})}},sharedCalendarEvent:{get(){return 0!==parseInt(this.currentAppointmentType.shared_calendar_event)},set(t){const e=t?"1":"0";this.updateCurrentAppointmentType({key:"shared_calendar_event",value:e})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("google_calendar",["googleCalendars"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("google_calendar",["writeableGoogleCalendars"])},methods:{cleanUpCalendars(){let t=this.currentAppointmentType.google_calendars_availability.slice(0),e=this.googleCalendars.map((t=>t.gcal_id)),s=t.filter((t=>e.indexOf(t)>=0));this.updateCurrentAppointmentType({key:"google_calendars_availability",value:s})},...(0,o.nv)("google_calendar",["fetchGoogleCalendars"]),...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},so=eo,io=(0,K.Z)(so,Qa,to,!1,null,null,null),no=io.exports,ao=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"ssa-web-meetings-type"},[e("md-list",[e("md-list-item",[e("md-radio",{attrs:{"md-value":""},model:{value:t.webMeetingProvider,callback:function(e){t.webMeetingProvider=e},expression:"webMeetingProvider"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.none.label)+" ")])],1),t._l(t.availableWebMeetingsProviders,(function(s){return e("md-list-item",t._g({key:s.name,class:{staff:"staff"===s.name}},s.installed?{}:{click:()=>t.maybeShowUpgrade(s)}),[e("md-radio",{attrs:{"md-value":s.name,disabled:!s.installed},model:{value:t.webMeetingProvider,callback:function(e){t.webMeetingProvider=e},expression:"webMeetingProvider"}},["staff"===s.name&&t.currentStaffMissingWebMeetingsUrl?e("md-icon",{attrs:{"md-theme":"yellow"}},[t._v("warning")]):t._e(),t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[s.name].label)+" ")],1),e("br"),"staff"===s.name&&t.currentStaffMissingWebMeetingsUrl?e("notification",{attrs:{theme:"amber",inline:!0}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.staff.warning)+" ")]):t._e()],1)}))],2),t.includeCustomMeetingUrlField?e("h3",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].settingsHeading)+" ")]):t._e(),t.includeCustomMeetingUrlField?e("fieldset",[e("legend",[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].legend)+" ")]),e("md-input-container",{class:{"md-input-invalid":t.webMeetingUrlError}},[e("label",{attrs:{for:"custom-provider"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].urlLabel)+" ")]),e("md-input",{attrs:{type:"url",id:"custom-provider",placeholder:"https://"},model:{value:t.$v.webMeetingUrl.$model,callback:function(e){t.$set(t.$v.webMeetingUrl,"$model",e)},expression:"$v.webMeetingUrl.$model"}}),t.webMeetingUrlError?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].error)+" ")]):t._e()],1)],1):t._e(),t.googleCalendarBooking||"google"!==t.webMeetingProvider?t._e():e("md-whiteframe",{staticClass:"banner vert",attrs:{"md-elevation":1}},[e("div",{staticClass:"md-subheading"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.google.googleNoCalendarHeading)+" ")],1),e("div",{staticClass:"md-body"},[e("p",[t._v(t._s(t.translations.appointmentTypes.web_meetings.providers.google.noCalendarSelectedMessage))]),e("md-button",{staticClass:"md-raised md-primary",on:{click:t.editGoogleCalendar}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.google.googleEditSettings)+" ")])],1)]),"webex"===t.webMeetingProvider?e("fieldset",[e("legend",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.webex.legend)+" ")]),e("md-list",[e("md-list-item",[e("md-radio",{attrs:{"md-value":"private"},model:{value:t.webMeetingProviderWebexPrivate,callback:function(e){t.webMeetingProviderWebexPrivate=e},expression:"webMeetingProviderWebexPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.webex.options.private)+" ")])],1),e("md-list-item",[e("md-radio",{attrs:{"md-value":"open"},model:{value:t.webMeetingProviderWebexPrivate,callback:function(e){t.webMeetingProviderWebexPrivate=e},expression:"webMeetingProviderWebexPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.webex.options.open)+" ")])],1)],1)],1):t._e(),"zoom"===t.webMeetingProvider?e("fieldset",[e("legend",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.zoom.legend)+" ")]),e("md-list",[e("md-list-item",[e("md-radio",{attrs:{"md-value":"private"},model:{value:t.webMeetingProviderZoomPrivate,callback:function(e){t.webMeetingProviderZoomPrivate=e},expression:"webMeetingProviderZoomPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.zoom.options.private)+" ")])],1),e("md-list-item",[e("md-radio",{attrs:{"md-value":"open"},model:{value:t.webMeetingProviderZoomPrivate,callback:function(e){t.webMeetingProviderZoomPrivate=e},expression:"webMeetingProviderZoomPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.zoom.options.open)+" ")])],1)],1)],1):t._e(),e("md-dialog",{ref:"upgradeWebMeetings"},[e("promo-web-meetings",{attrs:{dismissable:!1},on:{promoClicked:function(e){return t.closeDialog("upgradeWebMeetings")}}})],1),e("md-dialog",{ref:"upgradeBusiness"},[e("promo-business",{attrs:{"upgrade-url-params":t.promoBusiness,dismissable:!1},on:{promoClicked:function(e){return t.closeDialog(t.upgradeBusiness)}}})],1)],1)])},oo=[],ro=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[e("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-plus.svg",alt:"Simply Schedule Appointments Plus"}})])],1),e("md-card-header",[e("div",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),e("strong",[t._v("Plus")])])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.webMeetingsText))]),e("ul",[e("li",[t._v(t._s(t.translations.promo.webMeetingsTextBullets.google))]),e("li",[t._v(t._s(t.translations.promo.webMeetingsTextBullets.zoom))]),e("li",[t._v(t._s(t.translations.promo.plusTextBullets.customFields))]),e("li",[t._v(t._s(t.translations.promo.plusTextBullets.classes))])])]),e("md-card-actions",[e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.plusUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[t._v(" Upgrade now ")])],1)],1)],1)},lo=[],po={name:"PromoWebMeetings",store:Ek,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"general-plus-web-meeting-settings"}}}},data(){return{slug:"promo-web-meetings",plusUpgradeLink:pt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},co=po,mo=(0,K.Z)(co,ro,lo,!1,null,null,null),uo=mo.exports,ho=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.promo.dismissNotice)+" ")])],1):t._e(),e("a",{attrs:{href:"https://simplyscheduleappointments.com/features",target:"_blank"}},[e("img",{staticClass:"promo-img promo-business",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-business.svg",alt:"Simply Schedule Appointments Pro"}})])],1),e("md-card-header",[e("h2",{staticClass:"md-title"},[t._v(" Simply Schedule Appointments "),e("strong",[t._v("Business")])])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.businessText))]),e("ul",[e("li",[t._v(t._s(t.translations.promo.businessTextBullets.team))]),e("li",[t._v(t._s(t.translations.promo.businessTextBullets.resources))]),e("li",[t._v(t._s(t.translations.promo.businessTextBullets.bonus))])])]),e("md-card-actions",[e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(this.businessUpgradeLink,this.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.businessTextCta.upgrade)+" ")])],1)],1)],1)},go=[],_o={name:"PromoBusiness",store:Ek,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-business",utm_term:"business-features",utm_content:"general-business-settings-popup"}}}},data(){return{slug:"promo-business",businessUpgradeLink:ct}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["upgradeUrlParsed"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},fo=_o,yo=(0,K.Z)(fo,ho,go,!1,null,null,null),vo=yo.exports,bo={name:"WebMeetings",components:{PromoWebMeetings:uo,PromoBusiness:vo,Notification:Ys},mixins:[Un.oE],data(){return{webMeetingsInfo:{},promoBusiness:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-business",utm_term:"business-features",utm_content:"general-business-web-meeting-settings"}}},validations:{webMeetingUrl:{url:Bn.HQ,maxLength:(0,Bn.BS)(256)}},mounted(){let t=Ye().cloneDeep(this.currentAppointmentType.web_meetings);Ye().isEmpty(t)&&(t={provider:"",url:""}),this.staffEnabled||"staff"!==t.provider||(t.provider=""!==t.url?"custom":"",this.updateCurrentAppointmentType({key:"web_meetings",value:t})),this.webMeetingsInfo=t,this.fetchStaff()},watch:{webMeetingsInfo:{handler(t){this.updateCurrentAppointmentType({key:"web_meetings",value:Ye().cloneDeep(t)})},deep:!0},staffEnabled(t){t||(this.webMeetingsInfo.provider=""!==this.webMeetingsInfo.url?"custom":"")}},computed:{webMeetingProvider:{get(){return this.webMeetingsInfo.provider?this.webMeetingsInfo.provider:""},set(t){this.$set(this.webMeetingsInfo,"provider",t),this.validationCheck()}},includeCustomMeetingUrlField(){return["custom","staff"].includes(this.webMeetingProvider)},webMeetingProviderZoomPrivate:{get(){return this.webMeetingsInfo.zoom_privacy?this.webMeetingsInfo.zoom_privacy:"private"},set(t){this.$set(this.webMeetingsInfo,"zoom_privacy",t),this.validationCheck()}},webMeetingProviderWebexPrivate:{get(){return this.webMeetingsInfo.webex_privacy?this.webMeetingsInfo.webex_privacy:"private"},set(t){this.$set(this.webMeetingsInfo,"webex_privacy",t),this.validationCheck()}},webMeetingUrl:{get(){return this.webMeetingsInfo.url?this.webMeetingsInfo.url:""},set(t){this.$set(this.webMeetingsInfo,"url",t),this.validationCheck()}},webMeetingUrlError(){return"custom"===this.webMeetingProvider&&this.$v.webMeetingUrl.$invalid},availableWebMeetingsProviders(){return this.webMeetingsProviders?this.webMeetingsProviders.filter((t=>t.enabled||!t.installed)):[]},googleCalendarBooking(){return this.currentAppointmentType.google_calendar_booking},staffEnabled(){return!!Object.prototype.hasOwnProperty.call(this.settings,"staff")&&(!!this.settings.staff.enabled&&!!this.settings.installed.staff)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)(["webMeetingsProviders"]),...(0,o.Se)("staff",["currentStaffMissingWebMeetingsUrl"])},methods:{closeDialog(t){this.$refs[t].close()},editGoogleCalendar(){let t=this.getClosest(this.$el,".ssa-accordion-item"),e=t.parentNode.querySelector('.ssa-accordion-item[data-section="google-calendar"] button');e.click()},getClosest(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},maybeShowUpgrade(t){t.installed||("staff"!==t.name?this.$refs["upgradeWebMeetings"].open():this.$refs["upgradeBusiness"].open())},validationCheck(){this.$emit("validationCheck",!this.webMeetingUrlError)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"]),...(0,o.nv)("staff",["fetchStaff"])}},ko=bo,Co=(0,K.Z)(ko,ao,oo,!1,null,null,null),So=Co.exports,wo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-mailchimp"},[t.settings.mailchimp.account_details?[t.settings.mailchimp.lists.length?[e("p",[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.listSelect)+" ")]),e("md-list",[t._l(t.settings.mailchimp.lists,(function(s){return e("md-list-item",{key:s.id},[e("md-radio",{staticClass:"md-primary",attrs:{id:"list-"+s.id,name:"mailchimpList","md-value":s.id},on:{change:t.queueUpdateMailchimp},model:{value:t.optin_list,callback:function(e){t.optin_list=e},expression:"optin_list"}},[t._v(" "+t._s(s.name)+" ")])],1)})),e("md-list-item",[e("md-radio",{staticClass:"md-primary",attrs:{id:"list-none",name:"mailchimpList","md-value":""},on:{change:t.queueUpdateMailchimp},model:{value:t.optin_list,callback:function(e){t.optin_list=e},expression:"optin_list"}},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.noSelection)+" ")])],1)],2),e("md-input-container",{class:{"md-input-invalid":!t.validMailchimp}},[e("label",{attrs:{for:"mailchimpOptinText"}},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.optinTextLabel)+" ")]),e("md-input",{attrs:{id:"mailchimpOptinText",required:""},on:{change:t.queueUpdateMailchimp},model:{value:t.optin_text,callback:function(e){t.optin_text=e},expression:"optin_text"}}),t.validMailchimp?t._e():e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.optinTextError)+" ")])],1)]:[e("p",[t._v(t._s(t.translations.appointmentTypes.mailchimp.noLists))])]]:e("empty",{attrs:{label:t.translations.appointmentTypes.mailchimp.noConnection}},[e("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/mailchimp"}},[t._v(t._s(t.translations.appointmentTypes.mailchimp.setup))])],1)],2)},To=[],xo={name:"appointmentTypeMailchimp",components:{Empty:$e},props:["value"],data(){return{optin_list:"",optin_text:"",validMailchimp:!0}},mounted(){this.optin_text=this.value.optin_text?this.value.optin_text:this.translations.appointmentTypes.mailchimp.optin,this.optin_list=this.value.optin_list?this.value.optin_list:"",this.updateMailchimp(this.optin_list)},computed:{mailchimp(){return this.currentAppointmentType?.mailchimp?Ye().cloneDeep(this.currentAppointmentType.mailchimp):{}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{validateMailchimp(t){let e=!t.optin_list.length||t.optin_text.length>0;this.validMailchimp=e,this.$emit("validationCheck",e)},queueUpdateMailchimp:function(t){this.$nextTick((()=>{this.updateMailchimp(t)}))},updateMailchimp(t){let e={};e.optin_text=this.optin_text,"string"===typeof t&&(e.optin_list=t),console.log(t,e);let s=Object.assign({},this.mailchimp,e);this.validateMailchimp(s),this.$emit("input",s)}}},Ao=xo,Po=(0,K.Z)(Ao,wo,To,!1,null,null,null),Do=Po.exports,Mo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-webhooks"},[t.applicableWebhooks.length?[e("p",[t._v(t._s(t.translations.settings.webhooks.intro))]),e("md-list",{staticClass:"md-double-line"},t._l(t.applicableWebhooks,(function(s,i){return e("md-list-item",{key:i},[e("div",{staticClass:"md-list-item-container"},[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(s.title))]),e("span",[1===s.triggers.length?[t._v(t._s(t.translations.settings.webhooks.fields.trigger_single))]:[t._v(t._s(t.translations.settings.webhooks.fields.trigger_plural))],t._l(s.triggers,(function(e,i){return[t._v(t._s(t.translations.settings.webhooks.fields.triggerNames[e])),i<s.triggers.length-1?[t._v(", ")]:t._e()]}))],2)]),e("md-button",{staticClass:"md-list-action md-primary",on:{click:function(e){return t.editWebhook(i)}}},[t._v(" "+t._s(t.translations.actions.edit)+" ")])],1)])})),1)]:e("empty",{attrs:{label:t.translations.settings.webhooks.empty_appointment_type}}),e("md-button",{staticClass:"md-primary",on:{click:t.editWebhooksSettings}},[t._v(t._s(t.translations.settings.webhooks.action))])],2)},Eo=[],Lo={name:"appointmentTypeWebhooks",components:{Empty:$e},data(){return{}},computed:{applicableWebhooks(){let t=this.settings.webhooks.webhooks;return t.filter((t=>0===t.appointment_types.length||t.appointment_types.indexOf(this.currentAppointmentType.id)>-1))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{editWebhook(t){this.$router.push({name:"webhook-single",params:{index:t}})},editWebhooksSettings(){this.$router.push("/ssa/settings/webhooks")}}},Oo=Lo,$o=(0,K.Z)(Oo,Mo,Eo,!1,null,null,null),Io=$o.exports,No=function(){var t=this,e=t._self._c;return t.settings.installed.license?e("customer-information-plus"):e("customer-information-basic")},jo=[],zo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-customer-information"},[t._l(t.currentAppointmentType.customer_information,(function(s,i){return e("md-layout",{key:i,staticClass:"customer-info-field",attrs:{"md-row":"","md-vertical-align":"center"}},[e("md-layout",{attrs:{"md-flex":"20"}},[e("span",{staticClass:"md-body-2"},[t._v(t._s(t.translations.appointmentTypes.customer_information[s.field]))])]),e("md-layout",[e("md-checkbox",{attrs:{id:"display-"+i,name:"display-"+i,"md-value":s.field,disabled:"name"===s.field.toLowerCase()||"email"===s.field.toLowerCase()},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[t._v(t._s(t.translations.appointmentTypes.display))]),e("md-checkbox",{attrs:{id:"required-"+i,name:"required-"+i,"md-value":s.field,disabled:"name"===s.field.toLowerCase()||"email"===s.field.toLowerCase()},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}},[t._v(t._s(t.translations.appointmentTypes.required))])],1)],1)})),e("div",{on:{click:t.ShowUpgrade}},[e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:""}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.appointmentTypes.actions["add-field"])+" ")],1)],1),e("md-dialog",{ref:"upgradeCustomerInfo"},[e("promo-plus",{attrs:{"upgrade-url-params":t.promoPlusUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialog}})],1)],2)},Uo=[],Bo={name:"appointmentTypeCustomerInformationBasic",components:{PromoPlus:vt},store:Ek,data(){return{promoPlusUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"custom-fields",utm_content:"general-plus-popup"}}},computed:{customer_information:{get(){return this.currentAppointmentType.customer_information},set(t){this.updateCurrentAppointmentType({key:"customer_information",value:t})}},display:{get(){var t=this.currentAppointmentType.customer_information.filter((t=>"boolean"===typeof t.display?t.display:"true"===t.display));return t=t.map((t=>t.field)),t},set(t){this.updateDisplay(t)}},required:{get(){var t=this.currentAppointmentType.customer_information.filter((t=>"boolean"===typeof t.required?t.required:"true"===t.required));return t=t.map((t=>t.field)),t},set(t){this.updateRequired(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{updateDisplay:function(t){var e=Ye().cloneDeep(this.currentAppointmentType.customer_information);e.map((e=>{var s=t.includes(e.field);e.display=s,s||(e.required=s)})),this.updateCurrentAppointmentType({key:"customer_information",value:e})},updateRequired:function(t){var e=Ye().cloneDeep(this.currentAppointmentType.customer_information);e.map((e=>{var s=t.includes(e.field);e.required=s,s&&(e.display=s)})),this.updateCurrentAppointmentType({key:"customer_information",value:e})},closeDialog(){this.$refs["upgradeCustomerInfo"].close()},ShowUpgrade(){this.$refs["upgradeCustomerInfo"].open()},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Fo=Bo,Go=(0,K.Z)(Fo,zo,Uo,!1,null,null,null),Wo=Go.exports,Ro=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list-container appt-type-customer-information"},[e("draggable",{staticClass:"sortable-list",attrs:{animation:150,ghostClass:"sortable-ghost",move:t.sortableMove,tag:"md-list"},model:{value:t.fields,callback:function(e){t.fields=e},expression:"fields"}},t._l(t.currentAppointmentType.custom_customer_information,(function(s,i){return e("md-list-item",{key:i},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.isEditable(s)?t.currentAppointmentType.label:"grey"}},[s.icon?[t._v(t._s(s.icon))]:[t._v("bookmark")]],2),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(" "+t._s(Object.prototype.hasOwnProperty.call(t.translations.appointmentTypes.customer_information,s.field)?t.translations.appointmentTypes.customer_information[s.field]:s.field)+" "),s.required?e("span",{staticClass:"required"},[t._v("*")]):t._e()]),e("span",[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.types[s.type])+" ")])]),e("md-menu",[e("md-button",{staticClass:"md-icon-button md-list-action",attrs:{"md-menu-trigger":""}},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.currentAppointmentType.label}},[t._v("settings")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.actions.menu)+" ")])],1),e("md-menu-content",[t.isEditable(s)?e("md-menu-item",{on:{click:function(e){return t.editInfo(i)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("edit")]),e("span",[t._v(t._s(t.translations.appointmentTypes.actions["edit"]))])],1):t._e(),e("md-menu-item",{on:{click:function(e){return t.cloneInfo(i)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),e("span",[t._v(t._s(t.translations.appointmentTypes.actions["clone"]))])],1),t.isEditable(s)?e("md-menu-item",{on:{click:function(e){return t.deleteInfo(i)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("delete")]),e("span",[t._v(t._s(t.translations.appointmentTypes.actions["delete"]))])],1):t._e()],1)],1)],1)})),1),e("md-button",{staticClass:"md-raised md-primary",on:{click:t.addInfo}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.appointmentTypes.actions["add-field"])+" ")],1),e("md-dialog",{ref:"editInfoDialog"},[e("md-dialog-title",[t._v(" "+t._s(t.translations.appointmentTypes.actions["edit"])+" ")]),e("md-dialog-content",[e("md-layout",{attrs:{"md-gutter":!0,"md-vertical-align":"center"}},[e("md-layout",[e("md-input-container",{class:{"md-input-invalid":t.labelError}},[e("label",{attrs:{for:"custom-field-label"}},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.labels["label"])+" ")]),e("md-input",{ref:"labelField",attrs:{id:"custom-field-label"},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}}),e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.errors.label)+" ")])],1)],1),e("md-layout",[e("md-checkbox",{attrs:{id:"required",name:"required"},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}},[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["required"]))])],1)],1),e("md-layout",{attrs:{"md-gutter":!0}},[e("md-layout",[e("md-input-container",[e("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["type"]))]),e("md-select",{attrs:{name:"type",id:"type"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.customerInformationFieldTypes,(function(s){return e("md-option",{key:s,attrs:{value:s}},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.types[s])+" ")])})),1)],1)],1),e("md-layout",[e("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.currentInfo.icon))])],1),e("md-layout",[e("md-input-container",[e("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["icon"]))]),e("md-select",{attrs:{name:"icon",id:"icon"},model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}},[e("md-option",{attrs:{value:""}}),t._l(t.iconOptions,(function(s){return e("md-option",{key:s,attrs:{value:s}},[e("md-icon",[t._v(t._s(s))])],1)}))],2)],1)],1)],1),"checkboxes"===t.currentInfo.type||"radios"===t.currentInfo.type?e("md-layout",[e("md-input-container",[e("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["values"]))]),e("md-textarea",{model:{value:t.values,callback:function(e){t.values=e},expression:"values"}}),e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["one-per-line"]))])],1)],1):t._e(),e("md-layout",[e("md-input-container",[e("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["instructions"]))]),e("md-input",{model:{value:t.instructions,callback:function(e){t.instructions=e},expression:"instructions"}})],1)],1)],1),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.cancel}},[t._v(" "+t._s(t.translations.appointmentTypes.actions["cancel"])+" ")]),e("md-button",{staticClass:"md-primary",on:{click:t.updateInfo}},[t._v(" "+t._s(t.translations.appointmentTypes.actions["update"])+" ")])],1)],1)],1)},Ho=[],qo={name:"appointmentTypeCustomerInformationPlus",components:{draggable:mn()},data(){return{currentInfo:{},iconOptions:["alarm","assignment","bookmark","build","cake","call","chat","check_circle","code","cloud","computer","create","done","email","face","favorite","fingerprint","flag","folder","gite","help","home","https","image","info","label","link","map","person","pets","phone","place","schedule","smartphone","star","watch","whatshot","work"],customerInformationFieldTypes:c,labelError:!1}},computed:{label:{get(){return this.currentInfo.field},set(t){this.currentInfo.field.trim()!==t.trim()&&(this.labelError=!1),this.$set(this.currentInfo,"field",t)}},required:{get(){return this.currentInfo.required},set(t){this.$set(this.currentInfo,"required",t)}},type:{get(){return this.currentInfo["type"]},set(t){this.$set(this.currentInfo,"type",t)}},icon:{get(){return this.currentInfo.icon},set(t){this.$set(this.currentInfo,"icon",t)}},values:{get(){return this.currentInfo.values},set(t){this.$set(this.currentInfo,"values",t)}},instructions:{get(){return this.currentInfo.instructions},set(t){this.$set(this.currentInfo,"instructions",t)}},fields:{get(){return this.currentAppointmentType.custom_customer_information},set(t){this.updateCurrentAppointmentType({key:"custom_customer_information",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{isEditable(t){var e=!0,s=["name","Name","email","Email","Email address"];return s.includes(t.field)&&(e=!1),e},prepInfo(t){let e=Ye().clone(this.currentAppointmentType.custom_customer_information[t]);return e.values=Array.isArray(e.values)?e.values.join("\r\n"):e.values,e},editInfo(t){let e=this.prepInfo(t);e.index=t,this.currentInfo=e,this.$refs["editInfoDialog"].open()},cloneInfo(t){let e=this.prepInfo(t);this.currentInfo=e,this.$refs["editInfoDialog"].open()},deleteInfo(t){let e=this.currentAppointmentType.custom_customer_information.slice(0);e.splice(t,1),this.updateCurrentAppointmentType({key:"custom_customer_information",value:e})},addInfo(){this.currentInfo=Ye().clone(d),this.$refs["editInfoDialog"].open()},checkForDuplicateLabel(){let t=this.label.trim().toLowerCase(),e=this.currentAppointmentType.custom_customer_information.map((t=>t.field.trim().toLowerCase()));Object.prototype.hasOwnProperty.call(this.currentInfo,"index")&&(e=e.filter(((t,e)=>e!==this.currentInfo.index))),this.labelError=e.includes(t)},updateInfo(){if(this.checkForDuplicateLabel(),this.labelError){let t=this.$refs.labelField;return void t.$el.focus()}let t=this.currentAppointmentType.custom_customer_information.slice(0),e=Object.prototype.hasOwnProperty.call(this.currentInfo,"index")?this.currentInfo.index:void 0,s=Ye().clone(this.currentInfo),i=s.values.split(/\n/),n=i.filter((t=>/\S/.test(t)));s.values=n,"undefined"!==typeof e?(delete s.index,t.splice(e,1,s)):t.push(s),this.updateCurrentAppointmentType({key:"custom_customer_information",value:t}),this.$refs["editInfoDialog"].close(),this.currentInfo={}},cancel(){this.currentInfo={},this.$refs["editInfoDialog"].close()},sortableMove(t){return!t.related.classList.contains("sortable-fixed")},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Zo=qo,Ko=(0,K.Z)(Zo,Ro,Ho,!1,null,null,null),Vo=Ko.exports,Yo={name:"appointmentTypeCustomerInformation",store:Ek,props:{bulkMode:{default:!1,type:Boolean}},components:{CustomerInformationBasic:Wo,CustomerInformationPlus:Vo},data(){return{}},beforeMount(){this.bulkMode&&this.defineAppointmentTypeCustomerInformation(this.settings)},computed:{...(0,o.rn)(["settings"])},methods:{...(0,o.OI)("appointment_types",["defineAppointmentTypeCustomerInformation"])}},Jo=Yo,Xo=(0,K.Z)(Jo,No,jo,!1,null,null,null),Qo=Xo.exports,tr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-notifications"},[t.applicableNotifications.length?[e("p",[t._v(t._s(t.translations.settings.notifications.intro))]),e("md-list",{staticClass:"md-double-line"},t._l(t.applicableNotifications,(function(s){return e("md-list-item",{key:s.id},[e("div",{staticClass:"md-list-item-container"},[e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(t._s(s.title))]),e("span",[t.remindersInstalled&&s.duration>0?[t._v(" "+t._s(t.displayDuration(s.duration)+" "+t.translations.settings.notifications.when[s.when].toLowerCase()+" ")+" ")]:t._e(),t._v(" "+t._s(t.translations.settings.notifications.triggers[s.trigger])+" ")],2)]),e("md-button",{staticClass:"md-list-action md-primary",on:{click:function(e){return t.editNotification(s.id)}}},[t._v(" "+t._s(t.translations.actions.edit)+" ")])],1)])})),1)]:e("empty",{attrs:{label:t.translations.settings.notifications.empty_appointment_type}},[e("md-button",{staticClass:"md-primary",on:{click:t.editNotificationsSettings}},[t._v(t._s(t.translations.settings.notifications.actions.editAll))])],1)],2)},er=[],sr={name:"appointmentTypeNotifications",components:{Empty:$e},data(){return{}},computed:{applicableNotifications(){let t=this.settings.notifications.notifications;return t.filter((t=>0===t.appointment_types.length||t.appointment_types.indexOf(this.currentAppointmentType.id)>-1))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)(["displayDuration"]),...(0,o.Se)("notifications",["remindersInstalled"])},methods:{editNotification(t){this.$router.push({name:"notification-single",params:{id:t}})},editNotificationsSettings(){this.$router.push("/ssa/settings/notifications")}}},ir=sr,nr=(0,K.Z)(ir,tr,er,!1,null,null,null),ar=nr.exports,or=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-capacity"},[e("md-layout",[e("md-input-container",{nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}}},[e("label",{attrs:{for:"capacity_type"}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.capacity_type.label)+" ")]),e("md-select",{attrs:{id:"capacity_type",disabled:!t.capacityEnabled},model:{value:t.capacity_type,callback:function(e){t.capacity_type=e},expression:"capacity_type"}},t._l(t.capacityTypes,(function(s){return e("md-option",{key:s,attrs:{value:s}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.capacityTypeOptions[s])+" ")])})),1),e("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.capacityTypeHelp)+" ")])],1)],1),t.staffEnabled&&"group"===t.capacity_type?e("md-input-container",{nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}}},[e("label",{attrs:{for:"staff-capacity"}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.staff_capacity.label)+" ")]),e("md-input",{attrs:{type:"number",id:"staff-capacity",disabled:!t.capacityEnabled,min:1,max:1e5},model:{value:t.$v.staff_capacity.$model,callback:function(e){t.$set(t.$v.staff_capacity,"$model",t._n(e))},expression:"$v.staff_capacity.$model"}}),e("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.staff_capacity.help)+" ")])],1):t._e(),t.staffEnabled?e("div",{staticClass:"md-checkbox-with-note"},[e("md-checkbox",{attrs:{id:"has_max_capacity",name:"has_max_capacity"},on:{change:t.maxUpdateCapacity},model:{value:t.has_max_capacity,callback:function(e){t.has_max_capacity=e},expression:"has_max_capacity"}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.has_max_capacity.label)+" ")]),e("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.has_max_capacity.help)+" ")])],1):t._e(),t.showCapacity?e("md-input-container",{class:{"md-input-invalid":t.capacityError},nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}}},[e("label",{attrs:{for:"capacity"}},[t._v(" "+t._s(t.capacityLabel)+" ")]),e("md-input",{attrs:{type:"number",id:"capacity",disabled:!t.capacityEnabled,min:1,max:1e5},model:{value:t.$v.capacity.$model,callback:function(e){t.$set(t.$v.capacity,"$model",t._n(e))},expression:"$v.capacity.$model"}}),t.capacityError?e("span",{staticClass:"md-error"},[t.$v.capacity.$invalid?[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.capacity.error_bounds)+" ")]:[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.capacity.error_mismatch)+" ")]],2):e("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.capacityHelp)+" ")])],1):t._e(),e("md-dialog",{ref:"upgradeCapacity"},[e("promo-capacity",{attrs:{dismissable:!1},on:{promoClicked:t.closeDialog}})],1)],1)},rr=[],lr=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[t.dismissable?e("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[e("md-icon",[t._v("clear")])],1):t._e(),e("a",{attrs:{href:"https://simplyscheduleappointments.com/features",target:"_blank"}},[e("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-plus.svg",alt:"Simply Schedule Appointments Plus"}})])],1),e("md-card-header",[e("div",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),e("strong",[t._v("Plus")])])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(t._s(t.translations.promo.capacityText))]),e("ul",[e("li",[t._v(t._s(t.translations.promo.capacityTextBullets.google))]),e("li",[t._v(t._s(t.translations.promo.capacityTextBullets.webMeeting))])])]),e("md-card-actions",[e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeLink,target:"_blank"}},[t._v(" Upgrade now ")])],1)],1)],1)},pr=[],dr={name:"PromoCapacity",store:Ek,props:{dismissable:{default:!0}},data(){return{slug:"promo-capacity",plusUpgradeLink:pt}},computed:{upgradeLink(){const t=this.plusUpgradeLink.split("?"),e=t[0];let s=t.length>1?Ft().parse(t[1]):null;if(!s)return this.plusUpgradeLink;const i={utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"capacity",utm_content:"capacity-plus-popup"};return s=Object.assign(s,i),e+"?"+Ft().stringify(s)},...(0,o.rn)("translations",["translations"])},methods:{clearAd(){this.$emit("clearAd",this.slug)},promoClicked(){this.$emit("promoClicked")}}},cr=dr,mr=(0,K.Z)(cr,lr,pr,!1,null,null,null),ur=mr.exports,hr={name:"appointmentTypeCapacity",components:{PromoCapacity:ur},mixins:[Un.oE],props:{bulkMode:{default:!1,type:Boolean}},data(){return{capacityTypes:O,showCapacity:!0}},validations(){const t=this.bulkMode;return{capacity:{required:(0,Bn.CF)((()=>!t)),minValue:(0,Bn.uv)(1),maxValue:(0,Bn.PW)(1e5)},staff_capacity:{required:(0,Bn.CF)((()=>!t)),minValue:(0,Bn.uv)(1),maxValue:(0,Bn.PW)(1e5)}}},mounted(){this.showCapacity=!this.staffEnabled||this.has_max_capacity},watch:{capacity_type(t,e){this.staffUpdateCapacity({val:t,oldVal:e})}},computed:{capacity:{get(){return this.currentAppointmentType?parseInt(this.currentAppointmentType.capacity,10):1},set(t){this.updateCurrentAppointmentType({key:"capacity",value:t}),this.$v.capacity.$touch(),this.validationCheck()}},capacity_type:{get(){return this.currentAppointmentType?this.currentAppointmentType.capacity_type:"individual"},set(t){this.updateCurrentAppointmentType({key:"capacity_type",value:t})}},capacityEnabled(){return this.settings.capacity&&this.settings.capacity.enabled},capacityError(){return!this.bulkMode&&(!!("group"===this.capacity_type&&this.staffEnabled&&this.staff_capacity>this.capacity)||this.$v.capacity.$invalid)},capacityHelp(){return this.staffEnabled?this.translations.appointmentTypes.capacity.fields.capacity.help_staff:"group"===this.capacity_type?this.translations.appointmentTypes.capacity.fields.capacity.help_group:this.translations.appointmentTypes.capacity.fields.capacity.help},capacityLabel(){return this.staffEnabled?this.translations.appointmentTypes.capacity.fields.capacity.label_staff:this.translations.appointmentTypes.capacity.fields.capacity.label},capacityTypeHelp(){return this.staffEnabled?this.translations.appointmentTypes.capacity.fields.capacity_type.help_staff:this.translations.appointmentTypes.capacity.fields.capacity_type.help},has_max_capacity:{get(){return!!this.currentAppointmentType&&!!parseInt(this.currentAppointmentType.has_max_capacity,10)},set(t){this.updateCurrentAppointmentType({key:"has_max_capacity",value:t}),this.showCapacity=!this.staffEnabled||t,this.validationCheck()}},staff_capacity:{get(){return this.currentAppointmentType?parseInt(this.currentAppointmentType.staff_capacity,10):1},set(t){this.updateCurrentAppointmentType({key:"staff_capacity",value:t}),this.$v.staff_capacity.$touch(),this.validationCheck()}},staffEnabled(){return this.staffModule.enabled&&""!==this.currentAppointmentType.staff.required},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("staff",["staffModule"])},methods:{closeDialog(){this.$refs["upgradeCapacity"].close()},maxUpdateCapacity(t){let e=t?10:1e5;this.updateCurrentAppointmentType({key:"capacity",value:e})},maybeShowUpgrade(){this.capacityEnabled||this.$refs["upgradeCapacity"].open()},staffUpdateCapacity(t){t.val!==t.oldVal&&this.staffEnabled&&"individual"===t.val&&this.updateCurrentAppointmentType({key:"staff_capacity",value:1})},validationCheck(){this.$emit("validationCheck",!this.capacityError)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},gr=hr,_r=(0,K.Z)(gr,or,rr,!1,null,null,null),fr=_r.exports,yr={name:"appointmentTypeEdit",props:["id"],components:{Accordion:wn,AccordionItem:Mn,basics:Yn,availability:xa,scheduling:La,Staff:Xa,Capacity:fr,googleCalendar:no,webMeetings:So,Webhooks:Io,mailchimp:Do,customerInformation:Qo,notifications:ar,Payments:qa,Notification:Ys},data(){return{saving:!1,moment:H(),validAvailability:!0,validBasics:!0,validCapacity:!0,validMailchimp:!0,validPayments:!0,validScheduling:!0,validStaff:!0,validWebMeetings:!0,section:"0",sectionId:"basics",leaveWithoutSaving:!1}},beforeMount(){if(this.id){var t=this.appointmentTypes.find((t=>t.id===this.id));this.updateCurrentAppointmentType(t)}},mounted(){this.fetchAppointmentType(this.currentAppointmentType.id),this.getGuides({"ssasc-plugin-screen":this.currentGuides})},beforeRouteLeave(t,e,s){if(this.currentAppointmentTypeIsDirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{currentAppointmentType:{handler:function(t,e){this.dirty=e},deep:!0},currentGuides(){this.getGuides({"ssasc-plugin-screen":this.currentGuides})}},computed:{mailchimp:{get(){return this.currentAppointmentType.mailchimp},set(t){this.updateCurrentAppointmentType({key:"mailchimp",value:t})}},validFormFields(){return this.validBasics&&this.validAvailability&&this.validScheduling&&this.validPayments&&this.validMailchimp&&this.validStaff&&this.validCapacity&&this.validWebMeetings},currentGuides(){if("capacity"===this.sectionId)return z.appointment_types.capacity;if("staff"===this.sectionId)return z.appointment_types.staff;if(this.settings.advanced_scheduling.enabled&&["availability","scheduling"].includes(this.sectionId))return z.appointment_types.advanced_scheduling_enabled;if(this.settings.installed.google_calendar&&this.settings.google_calendar.enabled&&"google-calendar"===this.sectionId)return z.appointment_types.google_calendar_enabled;if("web-meetings"===this.sectionId){let t=[z.appointment_types.web_meetings_enabled];return this.settings.installed.google_calendar&&this.settings.google_calendar.enabled&&this.settings.google_calendar.web_meetings?t.push(z.appointment_types.web_meetings_google_calendar):this.settings.installed.zoom&&this.settings.zoom.enabled&&""!==this.settings.zoom.access_token&&t.push(z.appointment_types.web_meetings_zoom),t}return"mailchimp"===this.sectionId?z.appointment_types.mailchimp_enabled:"webhooks"===this.sectionId?z.appointment_types.webhooks_enabled:"customer-information"===this.sectionId?z.appointment_types.customer_information:z.appointment_types.edit},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.rn)("appointment_types",["appointmentTypes","currentAppointmentTypeIsDirty","currentAppointmentType"]),...(0,o.Se)("appointment_types",["labelInfo"]),...(0,o.Se)("staff",["currentUserCan"]),...(0,o.Se)(["webMeetingsProviders"])},methods:{copyShortcode(){let t=this.$refs["shortcode"].textContent,e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999em",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$refs["shortcodeNotice"].open()},validateBasics(t){this.validBasics=t},validateCapacity(t){this.validCapacity=t},validateTitle(t){this.validTitle=t},validateSlug(t){this.validSlug=t},validateAvailability(t){this.validAvailability=t},validateScheduling(t){this.validScheduling=t},validatePayments(t){this.validPayments=t},validateMailchimp(t){this.validMailchimp=t},validateStaff(t){this.validStaff=t},validateWebMeetings(t){this.validWebMeetings=t},saveAppointmentType:function(){this.saving=!0,this.updateAppointmentType().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})),this.settings.global.wizard_completed||(this.updateWizardCompleted({settings:this.settings,value:H().utc().format(this.timestampFormat)}),this.updateGlobalSettings())},staffUpdateCapacity(t){if(t.oldStaff===t.newStaff)return;let e=this.currentAppointmentType?parseInt(this.currentAppointmentType.capacity,10):1,s=this.currentAppointmentType?this.currentAppointmentType.capacity_type:"individual",i=this.currentAppointmentType?parseInt(this.currentAppointmentType.staff_capacity,10):1;t.oldStaff!==t.newStaff&&t.newStaff?(this.updateCurrentAppointmentType({key:"capacity",value:1e5}),"individual"===s?this.updateCurrentAppointmentType({key:"staff_capacity",value:1}):this.updateCurrentAppointmentType({key:"staff_capacity",value:e})):(this.updateCurrentAppointmentType({key:"staff_capacity",value:1e5}),this.updateCurrentAppointmentType({key:"capacity",value:i}))},cancelEdit:function(){this.$router.push("/ssa/appointment-types/all")},updateSection(t,e){t?(this.section=t,this.sectionId=e):(this.section=null,this.sectionId=null)},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.OI)("global_settings",["updateWizardCompleted"]),...(0,o.nv)("global_settings",["updateGlobalSettings"]),...(0,o.nv)("appointment_types",["fetchAppointmentType","updateAppointmentType","updateCurrentAppointmentType"]),...(0,o.nv)("guides",["getGuides"])}},vr=yr,br=(0,K.Z)(vr,fn,yn,!1,null,null,null),kr=br.exports,Cr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-bulk-edit"},[t.saving?e("loading",{attrs:{message:t.translations.general.saving}}):[e("md-button",{on:{click:t.cancelBulkEdit}},[e("md-icon",[t._v("keyboard_arrow_left")]),t.dirty?[t._v(t._s(t.translations.general.cancel))]:[t._v(t._s(t.translations.appointmentTypes.actions.back))]],2),e("md-dialog",{ref:"confirmLeaveDirty"},[e("md-dialog-title",{domProps:{textContent:t._s(t.translations.appointmentTypes.confirmIgnoreChangesTitle)}}),e("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.appointmentTypes.confirmIgnoreChangesContent)}}),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesCancel))]),e("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesOkay))])],1)],1),e("md-toolbar",{staticClass:"md-transparent"},[e("div",{staticStyle:{flex:"1"}},[e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType[t.section]))])]),e("md-switch",{attrs:{id:"editSingle","md-theme":"reverse"},on:{change:t.switchEditMode},model:{value:t.editSingle,callback:function(e){t.editSingle=e},expression:"editSingle"}},[t._v(t._s(t.translations.appointmentTypes.actions.editSingle))])],1),t.editSingle?e("bulk-single",{attrs:{saving:t.singleSaving,section:t.section,dirty:t.dirty},on:{change:t.changeAppointmentType,cancel:t.changeAppointmentType,save:t.saveSingleEdit}}):e("bulk-all",{attrs:{section:t.section},on:{cancel:t.cancelBulkEdit,save:t.saveBulkEdit}})],e("md-snackbar",{ref:"saveStatus",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.snackbarTitle)+" "+t._s(t.translations.appointmentTypes.saved))])])],2)},Sr=[],wr=function(){var t=this,e=t._self._c;return e("md-theme",{attrs:{"md-name":t.currentAppointmentType?t.currentAppointmentType.label:"default"}},[e("accordion",t._l(t.bulkEditing,(function(s){return e("accordion-item",{key:s,attrs:{label:t.getAppointmentTypeById(s).title,section:t.section,index:s,open:t.currentAppointmentType?t.currentAppointmentType.id:null},on:{updateActive:t.changeAccordion}},[e("div",{staticClass:"accordion-edit-section",class:{saving:t.saving}},["basics"===t.section?e("basics",{on:{validationCheck:t.validateBasics}}):t._e(),"availability"===t.section?e("availability",{on:{validationCheck:t.validateAvailability}}):t._e(),"scheduling"===t.section?e("scheduling",{on:{validationCheck:t.validateScheduling}}):t._e(),"payments"===t.section?e("payments",{on:{validationCheck:t.validatePayments}}):t._e(),"googleCalendar"===t.section?e("google-calendar"):t._e(),"mailchimp"===t.section?e("mailchimp",{on:{validationCheck:t.validateMailchimp},model:{value:t.mailchimp,callback:function(e){t.mailchimp=e},expression:"mailchimp"}}):t._e(),"customerInfo"===t.section?e("customer-information"):t._e(),"notifications"===t.section?e("notifications"):t._e()],1),e("div",{staticClass:"accordion-actions"},[e("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}}),e("md-button",{staticClass:"md-raised",on:{click:t.cancel}},[t._v(t._s(t.translations.general.cancel))]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving||!t.validFormFields},on:{click:t.save}},[t._v(" "+t._s(t.translations.general.save)+" ")])],1)])})),1)],1)},Tr=[],xr={name:"bulkEditSingle",props:["section","dirty","saving"],components:{Accordion:wn,AccordionItem:Mn,Basics:Yn,Availability:xa,Scheduling:La,Payments:qa,GoogleCalendar:no,Mailchimp:Do,CustomerInformation:Qo,Notifications:ar},data(){return{validBasics:!0,validAvailability:!0,validScheduling:!0,validPayments:!0,validMailchimp:!0}},computed:{mailchimp:{get(){return this.currentAppointmentType&&this.currentAppointmentType.mailchimp?this.currentAppointmentType.mailchimp:{}},set(t){this.updateCurrentAppointmentType({key:"mailchimp",value:t})}},validFormFields(){let t=!0;switch(this.section){case"basics":t=this.validBasics;break;case"availability":t=this.validAvailability;break;case"scheduling":t=this.validScheduling;break;case"payments":t=this.validPayments;break;case"mailchimp":t=this.validMailchimp;break}return t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["bulkEditing","currentAppointmentType"]),...(0,o.Se)("appointment_types",["getAppointmentTypeById"])},methods:{save(){this.$emit("save")},cancel(){this.$emit("cancel")},validateBasics(t){this.validBasics=t},validateAvailability(t){this.validAvailability=t},validateScheduling(t){this.validScheduling=t},validatePayments(t){this.validPayments=t},validateMailchimp(t){this.validMailchimp=t},changeAccordion(t){this.$emit("change",t)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Ar=xr,Pr=(0,K.Z)(Ar,wr,Tr,!1,null,null,null),Dr=Pr.exports,Mr=function(){var t=this,e=t._self._c;return e("md-theme",{attrs:{"md-name":t.currentAppointmentType.label}},[e("p",[e("strong",[t._v(t._s(t.translations.appointmentTypes.bulkEditExplanation))]),t._v(" "+t._s(t.appointment_type_names))]),e("md-card",[e("md-card-content",["basics"===t.section?e("basics",{attrs:{"bulk-mode":!0},on:{validationCheck:t.validateBasics}}):t._e(),"availability"===t.section?e("availability",{on:{validationCheck:t.validateAvailability}}):t._e(),"scheduling"===t.section?e("scheduling",{on:{validationCheck:t.validateScheduling}}):t._e(),"payments"===t.section?e("payments",{on:{validationCheck:t.validatePayments}}):t._e(),"googleCalendar"===t.section?e("google-calendar"):t._e(),"mailchimp"===t.section?e("mailchimp",{on:{validationCheck:t.validateMailchimp},model:{value:t.mailchimp,callback:function(e){t.mailchimp=e},expression:"mailchimp"}}):t._e(),"customerInfo"===t.section?e("customer-information",{attrs:{"bulk-mode":!0}}):t._e(),"notifications"===t.section?e("notifications",{attrs:{"bulk-mode":!0}}):t._e()],1),e("md-card-actions",[e("md-button",{staticClass:"md-raised",on:{click:t.cancel}},[t._v(t._s(t.translations.general.cancel))]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.validFormFields},on:{click:t.save}},[t._v(t._s(t.translations.general.save))])],1)],1)],1)},Er=[],Lr={name:"bulkEditAll",props:["section"],components:{Basics:Yn,Availability:xa,Scheduling:La,Payments:qa,GoogleCalendar:no,Mailchimp:Do,CustomerInformation:Qo,Notifications:ar},data(){return{validBasics:!0,validAvailability:!0,validScheduling:!0,validPayments:!0,validMailchimp:!0}},watch:{section(){"availability"===this.section&&(this.maybeSyncAvailabilityType(),this.maybeSyncAvailability())}},mounted(){"availability"===this.section&&(this.maybeSyncAvailabilityType(),this.maybeSyncAvailability())},computed:{mailchimp:{get(){return this.currentAppointmentType.mailchimp},set(t){this.updateCurrentAppointmentType({key:"mailchimp",value:t})}},validFormFields(){let t=!0;switch(this.section){case"basics":t=this.validBasics;break;case"availability":t=this.validAvailability;break;case"scheduling":t=this.validScheduling;break;case"payments":t=this.validPayments;break;case"mailchimp":t=this.validMailchimp;break}return t},appointment_types(){let t=this.bulkEditing.map((t=>{let e=this.appointmentTypes.find((e=>e.id===t));return e}));return t},appointment_type_names(){let t=this.appointment_types.map((t=>t.title));return t.join(", ")},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["appointmentTypes","bulkEditing","currentAppointmentType"])},methods:{cancel(){this.$emit("cancel")},save(){this.$emit("save")},validateBasics(t){this.validBasics=t},validateAvailability(t){this.validAvailability=t},maybeSyncAvailability(){let t=this.appointment_types.map((t=>t.availability)),e=!0;for(let s=0;s<t.length;s++)JSON.stringify(t[s])!==JSON.stringify(t[0])&&(e=!1);e&&this.updateCurrentAppointmentType({key:"availability",value:t[0]})},maybeSyncAvailabilityType(){let t=this.appointment_types.map((t=>t.availability_type)),e=!0;for(let s=0;s<t.length;s++)t[s]!==t[0]&&(e=!1);e&&this.updateCurrentAppointmentType({key:"availability_type",value:t[0]})},validateScheduling(t){this.validScheduling=t},validatePayments(t){this.validPayments=t},validateMailchimp(t){this.validMailchimp=t},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Or=Lr,$r=(0,K.Z)(Or,Mr,Er,!1,null,null,null),Ir=$r.exports,Nr={name:"appointmentTypeBulkEdit",props:["section"],components:{Loading:nt,BulkSingle:Dr,BulkAll:Ir},data(){return{accordionSaving:!1,dirty:!1,editSingle:!0,saving:!1,singleSaving:!1,snackbarTitle:"",validDuration:!0,leaveWithoutSaving:!1}},beforeMount(){this.bulkEditing.length||this.updateBulkEditing(this.editableAppointmentTypeIds),this.defineNewEmptyAppointmentType()},beforeRouteLeave(t,e,s){this.dirty?this.displayDialog(s,(()=>{s(!1)})):s()},watch:{currentAppointmentType:{handler:function(t,e){this.dirty=e},deep:!0}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["router"]),...(0,o.rn)("appointment_types",["bulkEditing","currentAppointmentType","appointmentTypes"]),...(0,o.Se)("appointment_types",["editableAppointmentTypeIds"])},methods:{backToList(){this.router.push("/ssa/appointment-types/all")},changeAppointmentType(t){if(this.dirty){let e=()=>{if(t){var e=this.appointmentTypes.find((e=>e.id===t));this.updateCurrentAppointmentType(e)}else this.emptyCurrentAppointmentType();this.$nextTick((()=>{this.dirty=!1}))};this.displayDialog(e,(()=>{}))}else{if(t){var e=this.appointmentTypes.find((e=>e.id===t));this.updateCurrentAppointmentType(e)}else this.emptyCurrentAppointmentType();this.$nextTick((()=>{this.dirty=!1}))}},cancelBulkEdit(){this.backToList()},saveBulkEdit(){this.saving=!0,this.updateAppointmentTypes(!0).then((()=>{this.saving=!1,this.dirty=!1,this.backToList()}))},saveSingleEdit(){this.singleSaving=!0,this.updateAppointmentType().then((()=>{this.snackbarTitle=this.currentAppointmentType.title,this.$refs.saveStatus.open(),this.emptyCurrentAppointmentType(),this.singleSaving=!1,this.$nextTick((()=>{this.dirty=!1}))}))},switchEditMode(t){if(this.dirty){let e=()=>{t?this.emptyCurrentAppointmentType():this.defineNewEmptyAppointmentType(),this.$nextTick((()=>{this.dirty=!1}))},s=()=>{this.editSingle=!this.editSingle};this.displayDialog(e,s)}else t?this.emptyCurrentAppointmentType():this.defineNewEmptyAppointmentType(),this.$nextTick((()=>{this.dirty=!1}))},displayDialog(t,e){let s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(()=>{this.leaveWithoutSaving?t():e()}))},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)("appointment_types",["updateAppointmentType","updateAppointmentTypes","updateCurrentAppointmentType","emptyCurrentAppointmentType"]),...(0,o.OI)("appointment_types",["defineNewEmptyAppointmentType","updateBulkEditing"])}},jr=Nr,zr=(0,K.Z)(jr,Cr,Sr,!1,null,null,null),Ur=zr.exports,Br=[{path:"appointment-types",component:ln,redirect:"/ssa/appointment-types/all",meta:{ssa_manage_appointment_types:!0},children:[{path:"all",name:"appointment-types-all",component:_n},{path:"type/:id?",name:"appointment-type-single",component:kr,props:!0},{path:"edit/:section",name:"appointment-type-bulk-edit",component:Ur,props:!0}]}],Fr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-all"},[e("router-view",{on:{saved:t.backToSettings}})],1)},Gr=[],Wr={name:"settingsAll",data(){return{}},methods:{backToSettings(){this.$router.push("/ssa/settings/all")}}},Rr=Wr,Hr=(0,K.Z)(Rr,Fr,Gr,!1,null,null,null),qr=Hr.exports,Zr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-list"},[t.currentUserCan("ssa_manage_site_settings")||t.currentUserCan("ssa_manage_staff")?[e("md-toolbar",{staticClass:"md-transparent"},[e("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.translations.settings.settingsTitle))]),t.settings.installed.license&&t.currentUserCan("ssa_manage_site_settings")?e("md-button",{staticClass:"md-primary",on:{click:t.toggleLicense}},[t._v(" "+t._s(t.translations.settings.license.manage)+" ")]):t._e()],1),t.license?e("license-key"):t._e(),e("md-layout",{staticClass:"settings-list-container",attrs:{"md-gutter":!0}},[t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-general.svg",title:t.translations.settings.general.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("general")}}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-styles.svg",title:t.translations.settings.styles.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("styles")}}}):t._e(),t.settings.installed.translation&&t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-translation.svg",title:t.translations.settings.translations.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("translations")}}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-advanced-scheduling.svg",title:t.translations.settings.advanced_scheduling.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("advanced-scheduling")}}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.notificationImage,title:t.translations.settings.notifications.title},on:{edit:function(e){return t.editSettings("notifications")}},model:{value:t.notifications_enabled,callback:function(e){t.notifications_enabled=e},expression:"notifications_enabled"}}):t._e(),t.settings.installed.blackout_dates&&t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-blackout.svg",title:t.translations.settings.blackout.title},on:{edit:function(e){return t.editSettings("blackout")}},model:{value:t.blackout_enabled,callback:function(e){t.blackout_enabled=e},expression:"blackout_enabled"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-google-calendar.svg",title:t.translations.settings.google_calendar.title,upgrade:t.googleCalendarModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("google-calendar")}},model:{value:t.google_calendar_enabled,callback:function(e){t.google_calendar_enabled=e},expression:"google_calendar_enabled"}},[t.googleCalendarModule.enabled&&!t.settings.google_calendar.access_token?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.google_calendar.noAccessToken)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-calendar-events.svg",title:t.translations.settings.calendar_events.card_title},on:{edit:function(e){return t.editSettings("calendar-events")}},model:{value:t.customizeCalendarEvents,callback:function(e){t.customizeCalendarEvents=e},expression:"customizeCalendarEvents"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-mailchimp.svg",title:t.translations.settings.mailchimp.title,upgrade:t.mailchimpModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("mailchimp")}},model:{value:t.mailchimp_enabled,callback:function(e){t.mailchimp_enabled=e},expression:"mailchimp_enabled"}},[t.mailchimpModule.enabled&&!t.settings.mailchimp.account_details?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.noConnection)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-zoom.svg",title:t.translations.settings.zoom.title,upgrade:t.zoomModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("zoom")}},model:{value:t.zoom_enabled,callback:function(e){t.zoom_enabled=e},expression:"zoom_enabled"}},[t.zoomModule.enabled&&!t.settings.zoom.auth_code?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.zoom.noAuthCode)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-webex.svg",title:t.translations.settings.webex.title,upgrade:t.webexModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("webex")}},model:{value:t.webex_enabled,callback:function(e){t.webex_enabled=e},expression:"webex_enabled"}},[t.webexModule.enabled&&!t.settings.webex.access_token?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.webex.noAuthCode)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-webhooks.svg",title:t.translations.settings.webhooks.title,upgrade:t.webhooksModule.upgrade,"upgrade-level":"pro"},on:{edit:function(e){return t.editSettings("webhooks")}},model:{value:t.webhooks_enabled,callback:function(e){t.webhooks_enabled=e},expression:"webhooks_enabled"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-payments.svg",title:t.translations.settings.payments.title,upgrade:t.paymentsModule.upgrade,"upgrade-level":"pro"},on:{edit:function(e){return t.editSettings("payments")}},model:{value:t.payments_enabled,callback:function(e){t.payments_enabled=e},expression:"payments_enabled"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-tracking.svg",title:t.translations.settings.tracking.title,upgrade:t.trackingModule.upgrade,"upgrade-level":"pro"},on:{edit:function(e){return t.editSettings("tracking")}},model:{value:t.tracking_enabled,callback:function(e){t.tracking_enabled=e},expression:"tracking_enabled"}}):t._e(),t.currentUserCan("ssa_manage_staff")?e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-staff.svg",title:t.translations.settings.staff.title,upgrade:t.staffModule.upgrade,"upgrade-level":"business"},on:{edit:function(e){return t.editSettings("staff")}},model:{value:t.staff_enabled,callback:function(e){t.staff_enabled=e},expression:"staff_enabled"}}):t._e()],1),t.currentUserCan("ssa_manage_site_settings")?e("div",{staticClass:"align-right"},[e("md-theme",{attrs:{"md-name":"grey"}},[e("router-link",{staticClass:"md-dense md-primary",attrs:{"md-theme":"grey",tag:"md-button",to:"/ssa/settings/import-export"}},[t._v(" "+t._s(t.translations.settings.import_export.title)+" ")]),e("router-link",{staticClass:"md-dense md-primary",attrs:{"md-theme":"grey",tag:"md-button",to:"/ssa/settings/developer"}},[t._v(" "+t._s(t.translations.settings.developerScreen)+" ")])],1)],1):t._e()]:e("no-permission")],2)},Kr=[],Vr=function(){var t=this,e=t._self._c;return t.settings.installed.license?e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.license.key))]),e("md-layout",[t.checking?[e("md-layout",{staticClass:"license-validating",attrs:{"md-column":""}},[e("md-progress",{attrs:{"md-indeterminate":""}}),e("div",[t._v(t._s(t.translations.settings.license.validating))])],1)]:"valid"===t.settings.license.license_status?[e("md-layout",[e("div",{staticClass:"display-license-key"},[t._v(t._s(t.displayKey))]),e("div",["valid"===t.settings.license.license_status?e("md-button",{staticClass:"md-primary",on:{click:t.removeLicense}},[t._v(" "+t._s(t.translations.settings.license.remove)+" ")]):t._e()],1)])]:[e("md-layout",[e("md-input-container",{class:{"md-input-invalid":t.licenseError}},[e("label",{attrs:{for:"license"}},[t._v(t._s(t.translations.settings.license.key))]),e("md-input",{attrs:{id:"license"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),e("span",{staticClass:"md-error"},[t._v(t._s(this.settings.license.license_status_message))])],1)],1),e("md-layout",[e("div",{staticClass:"inline-license-button"},[e("md-button",{staticClass:"md-raised md-primary",on:{click:t.validateLicense}},[t._v(" "+t._s(t.translations.settings.license.validate)+" ")])],1)])]],2),t.displayHelpLinks?e("md-layout",{attrs:{"md-column":""}},[e("p",[t._v(t._s(t.translations.settings.license.needHelp))]),e("ul",[e("li",[e("span",{domProps:{innerHTML:t._s(t.collectLicense)}})]),e("li",[e("span",{domProps:{innerHTML:t._s(t.contactSupport)}})])]),e("br")]):t._e()],1):t._e()},Yr=[],Jr=s(1067).sprintf,Xr={name:"licenseKey",data(){return{checking:!1}},beforeMount(){this.checking=!0,this.fetchLicenseSettings().then((()=>{this.checking=!1,this.checkLicenseValidity()}))},computed:{collectLicense(){return Jr(this.translations.settings.license.collectLicense,'<a href="https://simplyscheduleappointments.com/your-account/"  target="_blank">',"</a>")},contactSupport(){return Jr(this.translations.settings.license.contactSupport,'<a href="https://simplyscheduleappointments.com/contact/"  target="_blank">',"</a>")},licenseError(){return"invalid"===this.settings.license.license_status},displayKey(){return this.settings.license.license.replace(/.(?=.{4,}$)/g,"• ")},key:{get(){return this.settings.license.license},set(t){this.updateLicenseKey({settings:this.settings,value:t})}},displayHelpLinks(){return!this.checking&&("invalid"===this.settings.license.license_status||"empty"===this.settings.license.license_status)&&this.settings.installed.license},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{validateLicense(){this.checking=!0,this.updateLicenseSettings().then((()=>{this.checking=!1,this.checkLicenseValidity()}))},removeLicense(){this.checking=!0,this.updateLicenseKey({settings:this.settings,value:""}),this.updateLicenseSettings().then((()=>{this.checking=!1}))},checkLicenseValidity(){"valid"===this.settings.license.license_status&&this.$emit("validatedLicense")},...(0,o.nv)("license",["fetchLicenseSettings","updateLicenseSettings"]),...(0,o.OI)("license",["updateLicenseKey"])}},Qr=Xr,tl=(0,K.Z)(Qr,Vr,Yr,!1,null,null,null),el=tl.exports,sl=function(){var t=this,e=t._self._c;return e("md-layout",{staticClass:"settings-list-item"},[e("md-card",{staticClass:"full-width settings overflow-visible",class:{disabled:!t.value},attrs:{"md-with-hover":t.value},nativeOn:{click:function(e){return t.maybeEdit.apply(null,arguments)}}},[e("md-card-media",{class:t.cardStyle},[e("img",{attrs:{src:t.image,alt:""}}),t.upgrade?["plus"===t.upgradeLevel?e("div",{staticClass:"media-caption plus"},[t._v(" "+t._s(t.translations.promo.availablePlus))]):t._e(),"pro"===t.upgradeLevel?e("div",{staticClass:"media-caption pro"},[t._v(" "+t._s(t.translations.promo.availablePro)+" ")]):t._e(),"business"===t.upgradeLevel?e("div",{staticClass:"media-caption business"},[t._v(" "+t._s(t.translations.promo.availableBusiness)+" ")]):t._e()]:t._e(),e("md-ink-ripple")],2),e("md-card-header",[e("h3",{staticClass:"md-title"},[t._v(t._s(t.title))])]),t.$slots.default?e("md-card-content",[t._t("default")],2):t._e(),t.upgrade?t._e():e("md-card-actions",{staticClass:"split-actions"},[t.canDisable?e("md-switch",{attrs:{id:t.slugifyTitle,"md-theme":"reverse"},nativeOn:{click:function(e){return e.stopPropagation(),t.doNothing.apply(null,arguments)}},model:{value:t.switchValue,callback:function(e){t.switchValue=e},expression:"switchValue"}},[e("span",{staticClass:"screen-reader-text"},[t._v(t._s(t.translations.settings.enable)+" "+t._s(t.title))])]):e("span",{staticStyle:{flex:"1"}}),e("md-button",{attrs:{disabled:!t.value}},[t._v(" "+t._s(t.translations.actions.edit)+" "),e("span",{staticClass:"screen-reader-text"},[t._v(t._s(t.title))])])],1),t.upgrade&&"coming-soon"==t.upgradeLevel?e("div",{staticClass:"coming-soon-wrap"},[e("div",{staticClass:"coming-soon"},[t._v(t._s(t.translations.settings.comingSoon))])]):t.inBeta?e("div",{staticClass:"beta-wrap"},[e("div",{staticClass:"beta"},[t._v(" "+t._s(t.translations.settings.beta)+" ")])]):t._e()],1),e("md-dialog",{ref:"upgradePro"},[e("promo-pro",{attrs:{"upgrade-url-params":t.promoProUpgradeParams,dismissable:!1,"pro-text":t.translations.promo.proTextPopUp},on:{promoClicked:t.closeDialogs}})],1),e("md-dialog",{ref:"upgradePlus"},[e("promo-plus",{attrs:{"upgrade-url-params":t.promoPlusUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialogs}})],1),e("md-dialog",{ref:"upgradeBusiness"},[e("promo-business",{attrs:{"upgrade-url-params":t.promoBusinessUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialogs}})],1),e("md-dialog",{ref:"enableSetting"},[e("md-dialog-title",[t._v(t._s(t.title))]),e("md-dialog-content",[e("p",[t._v(t._s(t.translations.settings.disabledWarning))])]),e("md-dialog-actions",[e("md-button",{on:{click:t.closeDialogs}},[t._v(t._s(t.translations.general.cancel))]),e("md-button",{staticClass:"md-primary",on:{click:t.enableThis}},[t._v(t._s(t.translations.settings.enable))])],1)],1)],1)},il=[],nl={name:"settingsCard",components:{PromoPlus:vt,PromoPro:Tt,PromoBusiness:vo},props:{canDisable:{type:Boolean,default:!0},cardStyle:String,image:String,inBeta:{type:Boolean,default:!1},title:String,upgrade:Boolean,upgradeLevel:String,value:{type:Boolean,default:!0}},data(){return{promoPlusUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"general-plus-settings-popup"},promoProUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"pro-features",utm_content:"general-pro-settings-popup"},promoBusinessUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-business",utm_term:"business-features",utm_content:"general-business-settings-popup"}}},computed:{switchValue:{get(){return this.value},set(t){this.$emit("input",t)}},slugifyTitle(){return Ge()(this.title,{lower:!0,strict:!0})},...(0,o.rn)("translations",["translations"])},methods:{closeDialogs(){this.$refs["enableSetting"].close(),this.$refs["upgradePlus"].close(),this.$refs["upgradePro"].close()},doNothing(){},edit(){this.$emit("edit")},enableThis(){this.switchValue=!0,this.edit()},maybeEdit(){this.value?this.edit():this.upgrade&&"plus"===this.upgradeLevel?this.$refs["upgradePlus"].open():this.upgrade&&"pro"===this.upgradeLevel?this.$refs["upgradePro"].open():this.upgrade&&"business"===this.upgradeLevel?this.$refs["upgradeBusiness"].open():this.upgrade&&"coming-soon"===this.upgradeLevel||this.$refs["enableSetting"].open()}}},al=nl,ol=(0,K.Z)(al,sl,il,!1,null,null,null),rl=ol.exports,ll={name:"settingsList",components:{NoPermission:ze,licenseKey:el,Notification:Ys,SettingsCard:rl},data(){return{license:!1,enableFeatureName:"",enableFeatureTitle:""}},watch:{guidesList(){this.getGuides({"ssasc-plugin-screen":this.guidesList})},$route:"maybeFetchSettings"},mounted(){this.getGuides({"ssasc-plugin-screen":this.guidesList}),this.maybeFetchSettings()},computed:{blackout_enabled:{get(){return this.settings.blackout_dates.enabled},set(t){this.updateBlackoutEnabled({settings:this.settings,value:t}),this.updateBlackoutSettings()}},google_calendar_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"google_calendar")&&(!!this.settings.google_calendar.enabled&&!!this.settings.installed.google_calendar)},set(t){this.updateGoogleCalendarEnabled({settings:this.settings,value:t}),this.updateGoogleCalendarSettings()}},customizeCalendarEvents:{get(){return this.settings.calendar_events.enabled},set(t){this.setCalendarEventsEnabled({settings:this.settings,value:t}),this.updateCalendarEventsSettings()}},mailchimp_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"mailchimp")&&(!!this.settings.mailchimp.enabled&&!!this.settings.installed.mailchimp)},set(t){this.updateMailchimpEnabled({settings:this.settings,value:t}),this.updateMailchimpSettings()}},webex_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"webex")&&(!!this.settings.installed.webex&&!!this.settings.webex.enabled)},set(t){this.updateWebexEnabled(t),this.updateWebexSettings()}},zoom_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"zoom")&&(!!this.settings.zoom.enabled&&!!this.settings.installed.zoom)},set(t){this.updateZoomEnabled({settings:this.settings,value:t}),this.updateZoomSettings()}},notifications_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"notifications")&&(!!this.settings.notifications.enabled&&!!this.settings.installed.notifications)},set(t){this.setNotificationsEnabled({settings:this.settings,value:t}),this.updateNotificationsSettings()}},webhooks_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"webhooks")&&(!!this.settings.webhooks.enabled&&!!this.settings.installed.webhooks)},set(t){this.updateWebhooksEnabled({value:t,settings:this.settings}),this.updateWebhooksSettings()}},payments_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"payments")&&(!!this.settings.payments.enabled&&!!this.settings.installed.payments)},set(t){this.updatePaymentsEnabled(t)}},staff_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"staff")&&(!!this.settings.staff.enabled&&!!this.settings.installed.staff)},set(t){this.updateStaffEnabled(t)}},tracking_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"tracking")&&(!!this.settings.tracking.enabled&&!!this.settings.installed.tracking)},set(t){this.updateTrackingEnabled(t)}},notificationImage(){return this.smsModule.installed?this.api.admin_static_url+"/images/settings-notifications-sms.svg":this.api.admin_static_url+"/images/settings-notifications.svg"},guidesList(){let t=[z.settings.list];return this.license&&t.push(z.settings.license_enabled),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","refreshMomentSettings"]),...(0,o.Se)("advanced_scheduling",["advancedSchedulingModule"]),...(0,o.Se)("zoom",["zoomModule"]),...(0,o.Se)("mailchimp",["mailchimpModule"]),...(0,o.Se)("google_calendar",["googleCalendarModule"]),...(0,o.Se)("notifications",["smsModule"]),...(0,o.Se)("payments",["paymentsModule"]),...(0,o.Se)("staff",["currentUserCan","staffModule"]),...(0,o.Se)("tracking",["trackingModule"]),...(0,o.Se)("webex",["webexModule"]),...(0,o.Se)("webhooks",["webhooksModule"])},methods:{toggleLicense(){this.license=!this.license},editSettings(t){this.$router.push(`/ssa/settings/${t}`)},maybeFetchSettings(){if(Ye().isEmpty(this.refreshMomentSettings))return void this.resetRefreshMomentSettings();let t=H()().subtract(2,"minutes");t>this.refreshMomentSettings&&(this.fetchSettings(),this.resetRefreshMomentSettings())},...(0,o.nv)("notifications",["updateNotificationsSettings"]),...(0,o.nv)("advanced_scheduling",["updateAdvancedSchedulingSettings"]),...(0,o.nv)("zoom",["updateZoomSettings"]),...(0,o.nv)("mailchimp",["updateMailchimpSettings"]),...(0,o.nv)("google_calendar",["updateGoogleCalendarSettings","updateCalendarEventsSettings"]),...(0,o.nv)("webhooks",["updateWebhooksSettings"]),...(0,o.nv)("payments",["updatePaymentsEnabled"]),...(0,o.nv)("staff",["updateStaffEnabled"]),...(0,o.nv)("tracking",["updateTrackingEnabled"]),...(0,o.OI)("notifications",["setNotificationsEnabled"]),...(0,o.OI)("advanced_scheduling",["updateAdvancedSchedulingEnabled"]),...(0,o.OI)("zoom",["updateZoomEnabled"]),...(0,o.OI)("mailchimp",["updateMailchimpEnabled"]),...(0,o.OI)("google_calendar",["updateGoogleCalendarEnabled","setCalendarEventsEnabled"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.OI)("webex",["updateWebexEnabled"]),...(0,o.nv)("webex",["updateWebexSettings"]),...(0,o.OI)("webhooks",["updateWebhooksEnabled"]),...(0,o.nv)("blackout",["updateBlackoutSettings"]),...(0,o.OI)("blackout",["updateBlackoutEnabled"]),...(0,o.nv)(["fetchSettings"]),...(0,o.OI)(["resetRefreshMomentSettings"])}},pl=ll,dl=(0,K.Z)(pl,Zr,Kr,!1,null,null,null),cl=dl.exports,ml=function(){var t=this,e=t._self._c;return e("license-key")},ul=[],hl={name:"settingsLicense",store:Ek,components:{licenseKey:el},data(){return{}}},gl=hl,_l=(0,K.Z)(gl,ml,ul,!1,null,null,null),fl=_l.exports,yl=function(){var t=this,e=t._self._c;return e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[e("settings-header"),e("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),e("fieldset",[t.timezoneWarning?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.general.genericTimezoneWarning)+" "),e("a",{attrs:{href:"https://simplyscheduleappointments.com/document/timezones-and-offsets/",target:"_blank"}},[t._v(t._s(t.translations.general.learnMore))])]):t._e(),e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",[e("label",{attrs:{for:"timezone"}},[t._v(t._s(t.translations.settings.general.timezone))]),e("select2",{attrs:{name:"timezone",id:"timezone",disabled:t.saving},model:{value:t.timezone_string,callback:function(e){t.timezone_string=e},expression:"timezone_string"}},t._l(t.allSupportedTimezones,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(t.formatTimezone(s)))])})),0)],1)],1),e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",[e("label",{attrs:{for:"dateFormat"}},[t._v(t._s(t.translations.settings.general.dateFormat))]),e("md-select",{attrs:{name:"dateFormat",id:"dateFormat",disabled:t.saving,"md-menu-class":"md-align-trigger"},model:{value:t.date_format,callback:function(e){t.date_format=e},expression:"date_format"}},t._l(t.localizedDateFormats,(function(s,i){return e("md-option",{key:s.php,attrs:{value:s.php}},[t._v(" "+t._s(t.moment().format(s.js))+" "),i>0?[t._v(" — "),e("code",[t._v(t._s(s.php))])]:t._e()],2)})),1)],1)],1),e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",[e("label",{attrs:{for:"timeFormat"}},[t._v(t._s(t.translations.settings.general.timeFormat))]),e("md-select",{attrs:{name:"timeFormat",id:"timeFormat",disabled:t.saving},model:{value:t.time_format,callback:function(e){t.time_format=e},expression:"time_format"}},t._l(t.localizedTimeFormats,(function(s,i){return e("md-option",{key:s.php,attrs:{value:s.php}},[t._v(" "+t._s(t.moment().format(s.js))+" "),i>0?[t._v(" — "),e("code",[t._v(t._s(s.php))])]:t._e()],2)})),1)],1)],1),e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",[e("label",{attrs:{for:"weekStartsOn"}},[t._v(t._s(t.translations.settings.general.weekStartsOn))]),e("md-select",{attrs:{name:"weekStartsOn",id:"weekStartsOn",disabled:t.saving},model:{value:t.start_of_week,callback:function(e){t.start_of_week=e},expression:"start_of_week"}},t._l(t.moment.weekdays(!1),(function(s,i){return e("md-option",{key:s,attrs:{value:i.toString()}},[t._v(t._s(s))])})),1)],1)],1),e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",[e("label",{attrs:{for:"defaultCountryCode"}},[t._v(" "+t._s(t.translations.settings.general.countryCode.label)+" ")]),e("md-select",{attrs:{name:"defaultCountryCode",id:"defaultCountryCode",disabled:t.saving},model:{value:t.country_code,callback:function(e){t.country_code=e},expression:"country_code"}},[e("md-option",{attrs:{value:""}},[t._v(" "+t._s(t.translations.settings.general.countryCode.defaultValue)+" ")]),t._l(t.countries,(function(s){return e("md-option",{key:s.iso2,attrs:{value:s.iso2}},[t._v(" "+t._s(s.name)+" ")])}))],2)],1)],1),e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",{class:{"md-input-invalid":!t.staff_name.length}},[e("label",{attrs:{for:"staffName"}},[t._v(t._s(t.translations.settings.general.contact))]),e("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.staff_name,callback:function(e){t.staff_name=e},expression:"staff_name"}}),t.staff_name.length?e("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.settings.general.contact_helper)+" ")]):e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.general.contact_error))])],1)],1),e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",{class:{"md-input-invalid":!t.company_name.length}},[e("label",{attrs:{for:"companyName"}},[t._v(t._s(t.translations.settings.general.business))]),e("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.company_name,callback:function(e){t.company_name=e},expression:"company_name"}}),t.company_name.length?t._e():e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.general.business_error))])],1)],1),e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",{class:{"md-input-invalid":!t.admin_email.length}},[e("label",{attrs:{for:"apptEmail"}},[t._v(t._s(t.translations.settings.general.email))]),e("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.admin_email,callback:function(e){t.admin_email=e},expression:"admin_email"}}),t.admin_email.length?e("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.settings.general.email_helper)+" ")]):e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.general.email_error))])],1)],1),t.smsModule.active?e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validAdminPhone}},[e("label",{attrs:{for:"admin_phone"}},[t._v(t._s(t.translations.settings.general.phone))]),e("telephone",{attrs:{placeholder:"","input-options":{"aria-describedby":"admin_phone_error admin_phone_helper",id:"admin_phone"},required:t.smsModule.active},on:{validate:function(e){return t.checkPhone(e)}},model:{value:t.admin_phone,callback:function(e){t.admin_phone=e},expression:"admin_phone"}}),t.validAdminPhone?e("span",{staticClass:"md-helper-text",attrs:{id:"admin_phone_helper"}},[t._v(" "+t._s(t.translations.settings.general.phone_help)+" ")]):e("span",{staticClass:"md-error",attrs:{id:"admin_phone_error"}},[t._v(" "+t._s(t.translations.settings.general.phone_error)+" ")])],1)],1):t._e(),e("md-theme",{attrs:{"md-name":"reverse"}},[e("md-input-container",[e("label",{attrs:{for:"editAppointmentPage"}},[t._v(t._s(t.translations.settings.general.editAppointmentPage))]),t.loading?t._e():e("select2",{attrs:{name:"editAppointmentPage",id:"editAppointmentPage",disabled:t.saving},model:{value:t.edit_appointment_page_id,callback:function(e){t.edit_appointment_page_id=e},expression:"edit_appointment_page_id"}},[e("option",{attrs:{value:"0"}},[t._v(" "+t._s(t.translations.settings.general.fullScreenPage)+" ")]),t._l(t.wpPages,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(" "+t._s(s.title.rendered)+" ("+t._s(s.id)+") ")])}))],2)],1)],1)],1),e("div",{staticClass:"button-bar align-right"},[e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(t._s(t._button))]],2),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},vl=[],bl=function(){var t=this,e=t._self._c;return e("vue-tel-input",{ref:"telephone",attrs:{"input-options":t.inputOptions,"dropdown-options":t.dropdownOptions,value:t.value,"auto-default-country":!1,"default-country":t.telCountryCode,mode:"international"},on:{validate:t.validate,input:t.handleInput}})},kl=[],Cl={name:"vue-telephone",props:{value:{type:String},placeholder:{type:String,default:"Enter a phone number"},disabled:{type:Boolean,default:!1},id:{type:String,default:""},required:{type:Boolean,default:!1},name:{type:String,default:"telephone"},dropdownOptions:{type:Object,default(){return{disabled:!1,showDialCodeInList:!0,showDialCodeInSelection:!1,showFlags:!0,showSearchBox:!1,tabindex:0,width:"390px"}}},inputOptions:{type:Object,default:()=>({})}},data(){return{container:null,input:null,valid:!0}},mounted(){this.input=this.$refs.telephone.$el.querySelector("input"),this.container=za()(this.input).parents(".md-input-container"),this.styleContainer(),this.input.addEventListener("focus",this.toggleFocus),this.input.addEventListener("blur",this.toggleFocus)},updated(){this.styleContainer()},beforeDestroy(){this.input.removeEventListener("blur",this.toggleFocus),this.input.removeEventListener("focus",this.toggleFocus)},computed:{...(0,o.rn)(["telCountryCode","settings"])},methods:{handleInput(t){this.$emit("input",t),this.$nextTick((()=>{this.styleContainer()}))},styleContainer(){this.value?za()(this.container).addClass("md-has-value"):za()(this.container).removeClass("md-has-value"),this.required&&za()(this.container).addClass("md-input-required")},toggleFocus(t){"focus"===t.type?za()(this.container).addClass("md-input-focused"):za()(this.container).removeClass("md-input-focused"),this.$nextTick((()=>{this.styleContainer()}))},validate(t){this.required?this.valid=!t.number||t.valid:this.valid=!(!t.number||0!==t.number.length)||t.valid,this.$emit("validate",this.valid)}}},Sl=Cl,wl=(0,K.Z)(Sl,bl,kl,!1,null,"6a7c5220",null),Tl=wl.exports,xl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-header"},[e("router-link",{staticStyle:{"padding-left":"0"},attrs:{tag:"md-button",to:"/ssa/settings/all"}},[e("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.settings.returnToSettings)+" ")],1),t.headline?e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.headline)+" "),t.loading?e("md-spinner",{attrs:{"md-indeterminate":"","md-size":24,"md-stroke":6}}):t._e()],1):t._e()],1)},Al=[],Pl={name:"settingsHeader",store:Ek,props:{loading:{type:Boolean,default:!1}},data(){return{viewName:this.$route.name}},computed:{headline(){let t;switch(this.viewName){case"settings-general":t=this.translations.settings.general.title;break;case"settings-import-export":t=this.translations.settings.import_export.title;break;case"settings-styles":t=this.translations.settings.styles.title;break;case"settings-translations":t=this.translations.settings.translations.title;break;case"settings-google-calendar":t=this.translations.settings.google_calendar.title;break;case"settings-mailchimp":t=this.translations.settings.mailchimp.title;break;case"settings-advanced-scheduling":t=this.translations.settings.advanced_scheduling.title;break;case"payments-all":t=this.translations.settings.payments.title;break;case"settings-tracking":t=this.translations.settings.tracking.title;break;case"settings-zoom":t=this.translations.settings.zoom.title;break}return t},...(0,o.rn)("translations",["translations"])},methods:{cancelEdit(){this.$emit("cancelEdit")}}},Dl=Pl,Ml=(0,K.Z)(Dl,xl,Al,!1,null,null,null),El=Ml.exports,Ll={name:"settingsGlobal",components:{select2:Ga,SettingsHeader:El,Telephone:Tl,Notification:Ys},props:{button:{default:"Save",type:String}},data(){return{moment:H(),countries:N,dirty:!1,options:B,saving:!1,timezoneWarning:!1,validAdminPhone:!0,loading:!1}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(t=>{"ok"===t?(s(),this.fetchSettings()):s(!1)}))}else s()},watch:{admin_email:function(t,e){t!==e&&(this.dirty=!0)},admin_phone:function(t,e){t!==e&&(this.dirty=!0)},company_name:function(t,e){t!==e&&(this.dirty=!0)},date_format:function(t,e){t!==e&&(this.dirty=!0)},staff_name:function(t,e){t!==e&&(this.dirty=!0)},start_of_week:function(t,e){t!==e&&(this.dirty=!0)},time_format:function(t,e){t!==e&&(this.dirty=!0)},timezone_string:function(t,e){t!==e&&(this.dirty=!0),this.timezoneWarning=t.includes("UTC")||t.includes("GMT")},edit_appointment_page_id:function(t,e){t!==e&&(this.dirty=!0)}},mounted(){this.wpPages||(this.loading=!0,this.fetchWPPages().then((()=>{this.loading=!1})).catch((t=>{console.log(t)}))),(this.timezone_string.includes("UTC")||this.timezone_string.includes("GMT"))&&(this.timezoneWarning=!0),this.getGuides({"ssasc-plugin-screen":z.general})},computed:{_button(){return"Save"===this.button?this.translations.general.save:this.button},admin_email:{get(){return this.settings.global.admin_email},set(t){this.updateAdminEmail({settings:this.settings,value:t})}},admin_phone:{get(){return this.settings.global.admin_phone?this.settings.global.admin_phone:""},set(t){this.setAdminPhone({settings:this.settings,value:t})}},company_name:{get(){return this.settings.global.company_name},set(t){this.updateCompanyName({settings:this.settings,value:t})}},country_code:{get(){return this.settings.global.country_code},set(t){this.setCountryCode({settings:this.settings,code:t})}},date_format:{get(){return this.settings.global.date_format},set(t){this.updateDateFormat({settings:this.settings,value:t})}},localizedDateFormats(){let t=Ye().cloneDeep(this.options.dateFormats);return t[0].js=this.api.locale_fjy,t},localizedTimeFormats(){let t=Ye().cloneDeep(this.options.timeFormats);return t[0].js=this.api.locale_gia,t},staff_name:{get(){return this.settings.global.staff_name},set(t){this.updateStaffName({settings:this.settings,value:t})}},start_of_week:{get(){return this.settings.global.start_of_week},set(t){this.updateStartOfWeek({settings:this.settings,value:t})}},time_format:{get(){return this.settings.global.time_format},set(t){this.updateTimeFormat({settings:this.settings,value:t})}},timezone_string:{get(){return this.settings.global.timezone_string},set(t){this.updateTimezoneString({settings:this.settings,value:t})}},edit_appointment_page_id:{get(){return this.settings.global.edit_appointment_page_id.toString()},set(t){this.updateAppointmentPage({settings:this.settings,value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","timestampFormat","settings"]),...(0,o.rn)("global_settings",["wpPages"]),...(0,o.Se)(["formatTimezone","allSupportedTimezones"]),...(0,o.Se)("notifications",["smsModule"])},methods:{checkPhone(t){!this.smsModule.active||t?this.validAdminPhone=!0:this.validAdminPhone=!1},saveSettings(){this.admin_email.length&&this.company_name.length&&this.staff_name.length&&(this.saving=!0,this.updateGlobalSettings().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})))},...(0,o.nv)(["fetchSettings"]),...(0,o.nv)("global_settings",["updateGlobalSettings","fetchWPPages"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.OI)("global_settings",["setAdminPhone","setCountryCode","updateStartOfWeek","updateTimezoneString","updateDateFormat","updateTimeFormat","updateAdminEmail","updateCompanyName","updateStaffName","updateAppointmentPage"])}},Ol=Ll,$l=(0,K.Z)(Ol,yl,vl,!1,null,null,null),Il=$l.exports,Nl=function(){var t=this,e=t._self._c;return e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[e("settings-header"),e("md-tabs",{staticClass:"md-transparent",on:{change:t.setCurrentTab}},[e("md-tab",{attrs:{id:"settings","md-label":t.translations.settings.developer.title}},[e("settings-developer-settings")],1),e("md-tab",{attrs:{id:"jobs","md-label":t.translations.settings.jobs.title}},[e("settings-developer-jobs")],1)],1)],1)},jl=[],zl=function(){var t=this,e=t._self._c;return e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[e("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.developer.title)+" ")]),e("div",{staticClass:"md-switch-with-helper"},[e("md-switch",{attrs:{id:"enqueue_everywhere","md-theme":"reverse",name:"enqueue_everywhere"},model:{value:t.enqueue_everywhere,callback:function(e){t.enqueue_everywhere=e},expression:"enqueue_everywhere"}},[t._v(" "+t._s(t.translations.settings.developer.enqueue_everywhere.label)+" ")]),e("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.enqueue_everywhere.help))])],1),e("div",{staticClass:"md-switch-with-helper"},[e("md-switch",{attrs:{id:"disable_availability_caching","md-theme":"reverse",name:"disable_availability_caching"},model:{value:t.disable_availability_caching,callback:function(e){t.disable_availability_caching=e},expression:"disable_availability_caching"}},[t._v(" "+t._s(t.translations.settings.developer.disable_availability_caching.label)+" ")]),e("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.disable_availability_caching.help))])],1),e("hr"),t.isBetaEmpty?t._e():e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.developer.beta_updates.title)+" ")]),t.showBetaUpdates?e("div",{staticClass:"md-switch-with-helper"},[e("md-switch",{attrs:{id:"beta_updates","md-theme":"reverse",name:"beta_updates"},model:{value:t.beta_updates,callback:function(e){t.beta_updates=e},expression:"beta_updates"}},[t._v(" "+t._s(t.translations.settings.developer.beta_updates.label)+" ")]),e("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.beta_updates.help))])],1):t._e(),e("div",{staticClass:"md-switch-with-helper"},[e("md-switch",{attrs:{id:"display_appointment_revisions","md-theme":"reverse",name:"display_appointment_revisions"},model:{value:t.display_appointment_revisions,callback:function(e){t.display_appointment_revisions=e},expression:"display_appointment_revisions"}},[t._v(" "+t._s(t.translations.settings.developer.display_appointment_revisions.label)+" ")]),e("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.display_appointment_revisions.help))])],1),t.isBetaEmpty?t._e():e("hr"),e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.developer.pluginSettings.title)+" ")]),e("div",{staticClass:"md-switch-with-helper"},[t.remove_data_on_uninstall?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.developer.pluginSettings.warning)+" ")]):t._e(),e("md-switch",{attrs:{id:"remove_data_on_uninstall","md-theme":"reverse",name:"remove_data_on_uninstall"},model:{value:t.remove_data_on_uninstall,callback:function(e){t.remove_data_on_uninstall=e},expression:"remove_data_on_uninstall"}},[t._v(" "+t._s(t.translations.settings.developer.pluginSettings.label)+" ")]),e("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.pluginSettings.help))])],1),e("div",{staticClass:"button-bar align-right"},[e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t._button)+" ")]],2),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},Ul=[],Bl={name:"settingsDeveloperSettings",components:{Notification:Ys},props:{button:{default:"Save",type:String}},data(){return{dirty:!1,saving:!1,betaFeatures:[]}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(t=>{"ok"===t?(s(),this.fetchSettings()):s(!1)}))}else s()},watch:{booking_api_embed:function(t,e){t!==e&&(this.dirty=!0)},capacity_availability:function(t,e){t!==e&&(this.dirty=!0)},disable_availability_caching:function(t,e){t!==e&&(this.dirty=!0)},enqueue_everywhere:function(t,e){t!==e&&(this.dirty=!0)},beta_updates:function(t,e){t!==e&&(this.dirty=!0)},beta_booking_app:function(t,e){t!==e&&(this.dirty=!0)},display_appointment_revisions:function(t,e){t!==e&&(this.dirty=!0)}},computed:{showNewBookingApp(){return!1},showBetaUpdates(){return this.settings.installed.license},isBetaEmpty(){return this.checkBetaFeaturesArray(),0==this.betaFeatures.length},_button(){return"Save"===this.button?this.translations.general.save:this.button},booking_api_embed:{get(){return this.settings.developer.booking_api_embed},set(t){this.setBookingApiEmbed({settings:this.settings,value:t})}},capacity_availability:{get(){return this.settings.developer.capacity_availability},set(t){this.setCapacityAvailability({settings:this.settings,value:t})}},disable_availability_caching:{get(){return this.settings.developer.disable_availability_caching},set(t){this.setDisableAvailabilityCaching({settings:this.settings,value:t})}},enqueue_everywhere:{get(){return this.settings.developer.enqueue_everywhere},set(t){this.setEnqueueEverywhere({settings:this.settings,value:t})}},beta_updates:{get(){return this.settings.developer.beta_updates},set(t){this.setBetaUpdates({settings:this.settings,value:t})}},beta_booking_app:{get(){return this.settings.developer.beta_booking_app},set(t){this.setBetaBookingApp({settings:this.settings,value:t})}},display_appointment_revisions:{get(){return this.settings.developer.display_appointment_revisions},set(t){this.setDisplayAppointmentRevisions({settings:this.settings,value:t})}},remove_data_on_uninstall:{get(){return this.settings.developer.remove_data_on_uninstall},set(t){this.setRemoveDataOnUninstall({settings:this.settings,value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.saving=!0,this.updateDeveloperSettings().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")}))},checkBetaFeaturesArray(){this.showBetaUpdates&&this.betaFeatures.push("BetaUpdates"),this.showNewBookingApp&&this.betaFeatures.push("NewBookingApp"),this.betaFeatures.push("revisionsHistory")},...(0,o.nv)(["fetchSettings"]),...(0,o.nv)("developer_settings",["updateDeveloperSettings"]),...(0,o.OI)("developer_settings",["setDisableAvailabilityCaching","setEnqueueEverywhere","setBetaUpdates","setBetaBookingApp","setBookingApiEmbed","setCapacityAvailability","setRemoveDataOnUninstall","setDisplayAppointmentRevisions"])}},Fl=Bl,Gl=(0,K.Z)(Fl,zl,Ul,!1,null,null,null),Wl=Gl.exports,Rl=function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.jobs.title)+" ")]),e("div",{staticClass:"ssa-developer-job"},[e("div",[e("h3",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.title))]),e("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.description))]),e("md-switch",{attrs:{id:"purge_past_appointments","md-theme":"reverse"},model:{value:t.jobs.purge_appoiments.settings.purge_past_appointments,callback:function(e){t.$set(t.jobs.purge_appoiments.settings,"purge_past_appointments",e)},expression:"jobs.purge_appoiments.settings.purge_past_appointments"}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.settings.past_appointments))]),e("md-switch",{attrs:{id:"purge_abandoned_appointments","md-theme":"reverse"},model:{value:t.jobs.purge_appoiments.settings.purge_abandoned_appointments,callback:function(e){t.$set(t.jobs.purge_appoiments.settings,"purge_abandoned_appointments",e)},expression:"jobs.purge_appoiments.settings.purge_abandoned_appointments"}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.settings.abandoned_appointments))]),e("purge-appointments",{attrs:{open:t.jobs.purge_appoiments.modalOpen,settings:t.jobs.purge_appoiments.settings},on:{close:function(e){t.jobs.purge_appoiments.modalOpen=!1}}})],1),e("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.jobs.purge_appoiments.modalOpen=!0}}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.action))])],1)])},Hl=[],ql=function(){var t=this,e=t._self._c;return e("md-dialog",{ref:"purgeAppointmentsDialog",staticClass:"ssa-developer-job-modal"},[t.status?t._e():e("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.title)}}),e("md-dialog-content",{staticClass:"purge-appointments",class:t.status},[t.status?t._e():e("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.text))]),t.status?e("div",{staticClass:"dialog-icon"},["loading"===t.status?e("div",{staticClass:"icon"},[e("md-spinner",{attrs:{"md-indeterminate":"","md-size":80}})],1):t._e(),"success"===t.status?e("md-icon",{staticClass:"icon md-size-4x"},[t._v("check_circle")]):t._e(),"error"===t.status?e("md-icon",{staticClass:"icon md-size-4x"},[t._v("error")]):t._e()],1):t._e(),"loading"===t.status?e("div",{staticClass:"dialog-content"},[e("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.loading))])]):t._e(),"success"===t.status?e("div",{staticClass:"dialog-content"},[e("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.success))]),t.csv?e("a",{attrs:{href:t.csv,download:""}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.download))]):t._e()]):t._e(),"error"===t.status?e("div",{staticClass:"dialog-content"},[e("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.error))]),t._l(t.errors,(function(s,i){return e("notification",{key:i,attrs:{theme:"red"}},[t._v(t._s(s))])}))],2):t._e()]),"loading"!==t.status?e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.close}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.close))]),t.status?t._e():e("md-button",{staticClass:"md-primary md-raised",on:{click:t.deleteAppointments}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.confirm))])],1):t._e()],1)},Zl=[],Kl={name:"jobsPurgeAppointments",components:{Notification:Ys},props:{open:{default:!1,type:Boolean},settings:{default:()=>{},type:Object}},watch:{open(){this.open?(this.status=null,this.csv=null,this.errors=null,this.$refs.purgeAppointmentsDialog.open()):this.$refs.purgeAppointmentsDialog.close()}},data(){return{csv:null,status:null,errors:null}},computed:{...(0,o.rn)("translations",["translations"])},methods:{close(){this.$emit("close")},deleteAppointments(){this.status="loading",this.purgeAppointments(this.settings).then((t=>{this.status="success",this.csv=t.file_url})).catch((t=>{this.status="error",this.errors=Array.isArray(t)?t:[t]}))},...(0,o.nv)("appointments",["purgeAppointments"])}},Vl=Kl,Yl=(0,K.Z)(Vl,ql,Zl,!1,null,null,null),Jl=Yl.exports,Xl={name:"settingsDeveloperJobs",components:{purgeAppointments:Jl},data(){return{jobs:{purge_appoiments:{settings:{purge_past_appointments:!1,purge_abandoned_appointments:!1},modalOpen:!1}}}},computed:{...(0,o.rn)("translations",["translations"])}},Ql=Xl,tp=(0,K.Z)(Ql,Rl,Hl,!1,null,null,null),ep=tp.exports,sp={name:"settingsDeveloper",components:{SettingsHeader:El,settingsDeveloperSettings:Wl,settingsDeveloperJobs:ep},props:{button:{default:"Save",type:String}},data(){return{currentTab:0}},watch:{currentGuidesId(){this.getGuides({"ssasc-plugin-screen":this.currentGuidesId})}},mounted(){this.getGuides({"ssasc-plugin-screen":this.currentGuidesId})},computed:{currentGuidesId(){return 0===this.currentTab?z.developer_settings:z.developer_jobs},...(0,o.rn)("translations",["translations"])},methods:{setCurrentTab(t){this.currentTab=t},...(0,o.nv)("guides",["getGuides"])}},ip=sp,np=(0,K.Z)(ip,Nl,jl,!1,null,null,null),ap=np.exports,op=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ssa-import-export"},[e("settings-header"),e("md-tabs",{staticClass:"md-transparent"},[e("md-tab",{attrs:{id:"export","md-label":t.translations.settings.import_export.tabs.export}},[e("div",{staticClass:"export-settings"},[e("div",{staticClass:"md-checkbox-with-note"},[e("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.exportFlagSettings,callback:function(e){t.exportFlagSettings=e},expression:"exportFlagSettings"}},[t._v(" "+t._s(t.translations.settings.import_export.options.settings.label)+" ")]),e("p",{staticClass:"md-checkbox-note"},[t._v(t._s(t.translations.settings.import_export.options.settings.description))])],1),e("div",{staticClass:"md-checkbox-with-note"},[e("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.exportFlagAppointmentTypes,callback:function(e){t.exportFlagAppointmentTypes=e},expression:"exportFlagAppointmentTypes"}},[t._v(" "+t._s(t.translations.settings.import_export.options.appointment_types.label)+" ")]),e("p",{staticClass:"md-checkbox-note"},[t._v(t._s(t.translations.settings.import_export.options.appointment_types.description))])],1),e("div",{staticClass:"md-checkbox-with-note"},[e("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.exportFlagAppointments,callback:function(e){t.exportFlagAppointments=e},expression:"exportFlagAppointments"}},[t._v(" "+t._s(t.translations.settings.import_export.options.appointments.label)+" ")]),e("p",{staticClass:"md-checkbox-note"},[t._v(t._s(t.translations.settings.import_export.options.appointments.description))]),t.exportFlagAppointments?e("div",{staticClass:"md-checkbox-with-note",staticStyle:{"margin-left":"30px"}},[e("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.anonymizeExport,callback:function(e){t.anonymizeExport=e},expression:"anonymizeExport"}},[t._v(" "+t._s(t.translations.settings.import_export.options.anonymize.label)+" ")]),e("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.settings.import_export.options.anonymize.description)+" ")])],1):t._e(),t.exportFlagAppointments?e("div",{staticClass:"md-checkbox-with-note",staticStyle:{"margin-left":"30px"}},[e("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.futureAppointmentsOnly,callback:function(e){t.futureAppointmentsOnly=e},expression:"futureAppointmentsOnly"}},[t._v(" "+t._s(t.translations.settings.import_export.options.future_appointments_only.label)+" ")]),e("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.settings.import_export.options.future_appointments_only.description)+" ")])],1):t._e()],1)]),e("div",{staticClass:"button-bar align-right"},[e("md-button",{staticClass:"md-raised md-primary",on:{click:t.generateExportCode}},[t.generatingCode?[t._v(" "+t._s(t.translations.settings.import_export.generate_button_loading)+" ")]:[t._v(" "+t._s(t.translations.settings.import_export.generate_button)+" ")]],2),t.generatingCode?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showCode,expression:"showCode"}]},[e("textarea",{ref:"exportCodeArea",staticClass:"export-code",attrs:{readonly:""},domProps:{innerHTML:t._s(t.exportCode)},on:{click:t.selectCode,focus:t.selectCode}}),e("p",[e("md-button",{staticClass:"copy-code-trigger",on:{click:t.copyExportCode}},[t._v(t._s(t.translations.settings.import_export.copy)+" "),e("md-icon",{staticClass:"md-primary"},[t._v("file_copy")])],1),e("md-button",{staticClass:"send-code-trigger",on:{click:t.sendExportCode}},[t._v(t._s(t.translations.settings.import_export.send_to_support)+" "),e("md-icon",{directives:[{name:"show",rawName:"v-show",value:!t.sendingToSupport,expression:"!sendingToSupport"}],staticClass:"md-primary"},[t._v("send")]),t.sendingToSupport?e("md-spinner",{attrs:{"md-size":24,"md-stroke":5,"md-indeterminate":""}}):t._e()],1)],1)]),e("md-snackbar",{ref:"exportCodeNotice",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.settings.import_export.copied))])]),e("md-snackbar",{ref:"exportCodeSentToSupport",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.settings.import_export.send_to_support_success))])])],1),e("md-tab",{attrs:{id:"import","md-label":t.translations.settings.import_export.tabs.import}},[e("div",{staticClass:"import-settings"},[e("h3",[t._v(t._s(t.translations.settings.import_export.import_headline))]),e("p",[t._v(t._s(t.translations.settings.import_export.import_copy))]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.importCodeIsValid,expression:"!importCodeIsValid"}],staticClass:"import-alert"},[t.importCodeIsValid?t._e():e("p",[t._v(t._s(t.translations.settings.import_export.import_invalid_json_notice))])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.importCode,expression:"importCode"}],staticClass:"export-code",domProps:{value:t.importCode},on:{input:function(e){e.target.composing||(t.importCode=e.target.value)}}}),e("div",{staticClass:"button-bar align-right"},[e("md-button",{staticClass:"md-raised md-primary",attrs:{id:"import-btn",disabled:!t.importCodeIsValid||!t.importCode},on:{click:t.processImportCode}},[t.importingCode?[t._v(" "+t._s(t.translations.settings.import_export.import_button_loading)+" ")]:[t._v(" "+t._s(t.translations.settings.import_export.import_button)+" ")]],2),t.importingCode?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)])])],1),e("settings-import-export-modal",{attrs:{loading:t.importingCode,status:t.importStatus,response:t.importStatusResponse}})],1)},rp=[],lp=function(){var t=this,e=t._self._c;return e("md-dialog",{ref:"modal",staticClass:"ssa-import-export-modal",attrs:{"md-open-from":"#import-btn","md-click-outside-to-close":!1,"md-esc-to-close":!1}},[e("md-dialog-content",{class:t.status},[e("div",{staticClass:"import-dialog-icon"},[t.loading?e("div",{staticClass:"icon"},[e("md-spinner",{attrs:{"md-indeterminate":"","md-size":80}})],1):t._e(),t.loading||"error"===t.status?t._e():e("md-icon",{staticClass:"icon md-size-3x"},[t._v("check_circle")]),t.loading||"error"!==t.status?t._e():e("md-icon",{staticClass:"icon md-size-3x"},[t._v("error")])],1),t.loading?e("div",{staticClass:"import-dialog-content"},[e("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.settings.import_export.import_button_loading))])]):t._e(),t.loading||"error"===t.status?t._e():e("div",{staticClass:"import-dialog-content"},[e("h3",{staticClass:"md-headline",domProps:{innerHTML:t._s(t.response)}}),e("md-button",{on:{click:t.refresh}},[t._v(t._s(t.translations.settings.import_export.import_success_redirect))])],1),t.loading||"error"!==t.status?t._e():e("div",{staticClass:"import-dialog-content"},[e("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.settings.import_export.import_error_status_notice))]),e("div",{staticClass:"import-dialog-errors"},[e("ul",t._l(t.response,(function(s,i){return e("li",{key:i,domProps:{innerHTML:t._s(s)}})})),0)])])]),t.loading||"error"!==t.status?t._e():e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.close}},[t._v("Close")])],1)],1)},pp=[],dp={name:"settingsImportExportModal",props:{status:{default:null},response:{default:null},loading:{default:null}},computed:{...(0,o.rn)("translations",["translations"])},methods:{refresh(){window.location.reload()},close(){this.$refs.modal.close()}},watch:{loading(){this.$refs.modal.open()}}},cp=dp,mp=(0,K.Z)(cp,lp,pp,!1,null,null,null),up=mp.exports,hp={name:"settingsImportExport",components:{SettingsHeader:El,settingsImportExportModal:up},data(){return{anonymizeExport:!1,futureAppointmentsOnly:!1,generatingCode:!1,showCode:!1,importCode:null,importCodeIsValid:!0,importingCode:!1,importStatus:null,importStatusResponse:null,exportFlagSettings:!1,exportFlagAppointmentTypes:!1,exportFlagAppointments:!1,sendingToSupport:!1,exportMessagePayload:{}}},mounted(){Object.prototype.hasOwnProperty.call(this.exportMessagePayload,"reply_to")&&this.exportMessagePayload.reply_to||(this.exportMessagePayload.reply_to=this.settings.global.admin_email,this.getGuides({"ssasc-plugin-screen":z.import_export}))},watch:{exportFlagSettings(){this.exportFlagSettings||(this.exportFlagAppointmentTypes=!1,this.exportFlagAppointments=!1)},exportFlagAppointmentTypes(){this.exportFlagAppointmentTypes?this.exportFlagSettings=!0:this.exportFlagAppointments=!1},exportFlagAppointments(){this.exportFlagAppointments&&(this.exportFlagSettings=!0,this.exportFlagAppointmentTypes=!0)},importCode(){this.validateImportCode()}},computed:{exportCode(){return JSON.stringify(this.exportCode)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","api"]),...(0,o.rn)("import_export",["exportCode"])},methods:{generateExportCode(){const t={settings:this.exportFlagSettings,appointment_types:this.exportFlagAppointmentTypes,appointments:this.exportFlagAppointments,anonymize_customer_information:this.anonymizeExport,future_appointments_only:this.futureAppointmentsOnly};this.generatingCode=!0,this.fetchExportCode(t).then((()=>{this.generatingCode=!1,this.showCode=!0}))},sendExportCode(){Object.prototype.hasOwnProperty.call(this.settings,"license")&&(this.exportMessagePayload.license=this.settings.license.license),Object.prototype.hasOwnProperty.call(this.api,"site_url")&&(this.exportMessagePayload.site_url=this.api.site_url),this.exportMessagePayload.reply_to=this.settings.global.admin_email,this.exportMessagePayload.export_code=JSON.stringify(this.exportCode),this.exportMessagePayload.message=this.translations.settings.import_export.send_to_support_message,this.sendingToSupport=!0,this.sendSupportMessage(this.exportMessagePayload).then((()=>{this.sendingToSupport=!1,this.$refs.exportCodeSentToSupport.open()}))},selectCode(){this.$refs.exportCodeArea.select()},copyExportCode(){this.$refs.exportCodeArea.select(),document.execCommand("copy"),this.$refs.exportCodeNotice.open()},validateImportCode(){if(!this.importCode||""===this.importCode)return this.importCodeIsValid=!0,void(this.importStatus=null);this.importCodeIsValid=this.isValidJSON(this.importCode),this.importCodeIsValid?this.importStatus=null:this.importStatus="error"},isValidJSON(t){try{const e=JSON.parse(t);return"object"===typeof e}catch(e){return!1}},async processImportCode(){this.importingCode=!0,this.importStatus=null,this.importStatusResponse=null;const t={settings:!0,appointment_types:!0,appointments:!0,anonymize_customer_information:!1};await this.fetchExportCode(t);try{const t=await this.importJSONCode(this.importCode);this.importingCode=!1,this.importStatus="success",this.importStatusResponse=t,setTimeout((()=>{window.location.reload()}),3e3)}catch(e){this.importingCode=!1,this.importStatus="error",this.importStatusResponse=e}},...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("import_export",["fetchExportCode","importJSONCode","sendSupportMessage"])}},gp=hp,_p=(0,K.Z)(gp,op,rp,!1,null,null,null),fp=_p.exports,yp=function(){var t=this,e=t._self._c;return e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[e("settings-header"),e("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),e("md-dialog-confirm",{ref:"confirmReset",attrs:{"md-title":t.translations.settings.styles.confirmTitle,"md-content-html":t.translations.settings.styles.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),e("md-input-container",[e("label",{attrs:{for:"accentColor"}},[t._v(t._s(t.translations.settings.styles.accentColor))]),e("color-picker",{attrs:{disabled:t.saving},model:{value:t.accent_color,callback:function(e){t.accent_color=e},expression:"accent_color"}})],1),e("md-input-container",[e("label",{attrs:{for:"backgroundColor"}},[t._v(t._s(t.translations.settings.styles.backgroundColor))]),e("color-picker",{attrs:{disabled:t.saving},model:{value:t.background_color,callback:function(e){t.background_color=e},expression:"background_color"}})],1),e("md-input-container",[e("label",{attrs:{for:"font"}},[t._v(t._s(t.translations.settings.styles.font)+"*")]),e("select2",{attrs:{name:"font",id:"font",disabled:t.saving,required:""},model:{value:t.font,callback:function(e){t.font=e},expression:"font"}},[e("optgroup",{attrs:{label:"System Fonts"}},t._l(t.systemFonts,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0),e("optgroup",{attrs:{label:"Google Fonts"}},t._l(t.googleFontList,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0)]),e("span",{staticClass:"md-helper-text"},[e("a",{attrs:{href:"https://fonts.google.com/",target:"_blank"}},[t._v(t._s(t.translations.settings.styles.googleFonts))])])],1),e("md-input-container",{class:{"md-input-invalid":t.padding.length<1}},[e("label",{attrs:{for:"padding"}},[t._v(t._s(t.translations.settings.styles.padding))]),e("md-input",{attrs:{disabled:t.saving,required:""},model:{value:t.padding,callback:function(e){t.padding=e},expression:"padding"}}),t.padding.length<1?e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.styles.requiredPadding))]):e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.styles.cssUnits))])],1),t.low_opacity_bg?e("div",[e("md-switch",{attrs:{id:"contrast","md-theme":"reverse",disabled:t.saving},model:{value:t.contrast,callback:function(e){t.contrast=e},expression:"contrast"}},[t._v(" "+t._s(t.translations.settings.styles.contrast)+" ("+t._s(t.translations.settings.styles.contrastHelper)+") ")])],1):t._e(),e("div",[e("md-button",{staticClass:"md-primary md-dense",attrs:{"md-theme":"grey"},on:{click:t.toggleCustomCSS}},[t._v(t._s(t.translations.settings.styles.customCSS))]),t.viewCSS?e("prism-editor",{attrs:{language:"css",highlight:t.highlighter,"line-numbers":!0},model:{value:t.css,callback:function(e){t.css=e},expression:"css"}}):t._e()],1),e("div",{staticClass:"button-bar align-right"},[e("md-button",{staticClass:"md-raised",on:{click:t.confirmReset}},[t._v(t._s(t.translations.settings.styles.reset))]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveStyles}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(t._s(t.translations.general.save))]],2),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},vp=[],bp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"color-picker-container",on:{click:t.pickColor}},[e("span",{staticClass:"color-sample",style:"background-color:"+t.rgba}),e("md-input",{attrs:{readonly:"",required:"",disabled:t.disabled},model:{value:t.displayValue,callback:function(e){t.displayValue=e},expression:"displayValue"}}),e("md-dialog",{ref:"picker",staticClass:"color-picker"},[e("md-dialog-content",[e("chrome",{on:{input:t.updateValue},model:{value:t.colors,callback:function(e){t.colors=e},expression:"colors"}})],1)],1)],1)},kp=[],Cp=s(580),Sp={name:"colorPicker",props:["value","disabled"],components:{Chrome:Cp.Chrome},data(){return{colors:""}},beforeMount(){this.colors=this.value},watch:{value:function(t){this.colors=t}},computed:{rgba(){if("string"===typeof this.colors)return this.colors;{let t=[this.colors.rgba.r,this.colors.rgba.g,this.colors.rgba.b,this.colors.rgba.a],e="rgba(";return e+=t.join(","),e+=")",e}},displayValue:{get(){if("string"===typeof this.colors){let t=this.colors.substring(this.colors.indexOf("(")).split(","),e=parseInt(t[0].substring(1).trim(),10),s=parseInt(t[1].trim(),10),i=parseInt(t[2].trim(),10),n=parseFloat(t[3].substring(0,t[3].length-1).trim()).toFixed(2);return"#"+e.toString(16)+s.toString(16)+i.toString(16)+" ("+(100*n).toString(10)+"%)"}return this.colors.hex+" ("+parseInt(100*this.colors.rgba.a)+"%)"},set(){}}},methods:{pickColor(){this.disabled||this.$refs["picker"].open()},updateValue(){this.$emit("input",this.rgba)}}},wp=Sp,Tp=(0,K.Z)(wp,bp,kp,!1,null,null,null),xp=Tp.exports,Ap=s(7977),Pp=s(2549),Dp=(s(1678),{name:"settingsStyle",store:Ek,components:{SettingsHeader:El,ColorPicker:xp,Select2:Ga,PrismEditor:Ap.h},data(){return{saving:!1,dirty:!1,viewCSS:!1,systemFonts:x}},beforeMount(){this.mergeDefaultStyles(this.settings)},mounted(){this.getGuides({"ssasc-plugin-screen":z.styles})},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(t=>{"ok"===t?(s(),this.fetchSettings()):s(!1)}))}else s()},watch:{accent_color:function(t,e){t!==e&&(this.dirty=!0)},background_color:function(t,e){t!==e&&(this.dirty=!0)},contrast:function(t,e){t!==e&&(this.dirty=!0)},font:function(t,e){t!==e&&(this.dirty=!0)},padding:function(t,e){t!==e&&(this.dirty=!0)}},computed:{accent_color:{get(){return this.settings.styles.accent_color},set(t){this.updateAccentColor({value:t,settings:this.settings})}},background_color:{get(){return this.settings.styles.background},set(t){t.split("(")[1].split(")")[0].split(",")[3]>.2&&this.updateContrast({value:!1,settings:this.settings}),this.updateBackgroundColor({value:t,settings:this.settings})}},low_opacity_bg:{get(){return this.settings.styles.background.split("(")[1].split(")")[0].split(",")[3]<=.2}},contrast:{get(){return this.settings.styles.contrast},set(t){this.updateContrast({value:t,settings:this.settings})}},font:{get(){return this.settings.styles.font},set(t){this.updateFont({value:t,settings:this.settings})}},padding:{get(){return this.settings.styles.padding},set(t){this.updatePadding({value:t,settings:this.settings})}},css:{get(){return this.settings.styles.css?this.settings.styles.css:"/* "+this.translations.settings.styles.cssComment+" */"},set(t){this.setCss({value:t,settings:this.settings})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("styles",["googleFontList"])},methods:{confirmReset(){this.$refs["confirmReset"].open(),this.$refs["confirmReset"].$on("close",(t=>{"ok"===t&&this.resetStyles(this.settings)}))},saveStyles(){this.padding&&(this.saving=!0,this.updateStyles().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})))},toggleCustomCSS(){this.viewCSS=!this.viewCSS},highlighter(t){return(0,Pp.highlight)(t,Pp.languages.css)},...(0,o.nv)(["fetchSettings"]),...(0,o.OI)("styles",["mergeDefaultStyles","updateAccentColor","updateBackgroundColor","updateContrast","updateFont","updatePadding","setCss","resetStyles"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("styles",["updateStyles"])}}),Mp=Dp,Ep=(0,K.Z)(Mp,yp,vp,!1,null,null,null),Lp=Ep.exports,Op=function(){var t=this,e=t._self._c;return e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("settings-header"),e("p",[t._v(t._s(t.translations.settings.translations.description))]),t.uninstalledLanguagePacks.length>0?e("md-layout",{attrs:{"md-vertical-align":"center"}},[e("md-layout",{staticStyle:{flex:"1"}},[e("md-input-container",[e("label",{attrs:{for:"translationPack"}},[t._v(" "+t._s(t.translations.settings.translations.selectPack)+" ")]),e("select2",{attrs:{name:"translationPack",disabled:t.saving,"allow-clear":!0,id:"translationPack"},model:{value:t.pack,callback:function(e){t.pack=e},expression:"pack"}},t._l(t.uninstalledLanguagePacks,(function(s){return e("option",{key:s.locale,domProps:{value:s.locale}},[t._v(" "+t._s(t.displayLanguage(s.locale))+" ")])})),0)],1)],1),e("md-layout",[e("div",{staticStyle:{"padding-left":"1rem"}},[e("md-button",{staticClass:"md-primary md-raised",attrs:{type:"submit",disabled:t.saving}},[t._v(" "+t._s(t.translations.settings.translations.fetchInstall)+" ")]),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)])],1):t._e(),t.showTable?[e("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.translations.installedTranslations))]),e("md-table",{class:{"saving-fade":t.saving}},[e("md-table-header",[e("md-table-row",[e("md-table-head",[t._v(t._s(t.translations.settings.translations.languagePack))]),e("md-table-head",[t._v(t._s(t.translations.settings.translations.lastUpdated))])],1)],1),e("md-table-body",t._l(t.settings.translation.locales,(function(s,i){return e("md-table-row",{key:i},[e("md-table-cell",[e("div",[t._v(t._s(t.displayLanguage(i)))]),e("div",[e("a",{attrs:{href:t.improveLink(s,i),target:"_blank"}},[t._v(" "+t._s(t.translations.settings.translations.improveTranslation)+" ")])])]),e("md-table-cell",[t._v(" "+t._s(t.moment.utc(s.last_fetched_date,t.timestampFormat).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" "),e("div",[e("md-button",{staticClass:"md-icon-button md-primary",attrs:{disabled:t.saving,"md-theme":"reverse"},on:{click:function(e){return t.deleteLanguage(i)}}},[e("md-icon",[t._v("delete")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.translations.remove)+" "+t._s(t.displayLanguage(i))+" ")])],1),e("md-button",{staticClass:"md-icon-button md-primary",attrs:{disabled:t.saving},on:{click:function(e){return t.refreshLanguagePack(i)}}},[e("md-icon",[t._v("refresh")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.translations.refresh)+" "+t._s(t.displayLanguage(i))+" ")])],1)],1)])],1)})),1)],1)]:t._e()],2)},$p=[],Ip={name:"settingsTranslations",components:{SettingsHeader:El,Select2:Ga},data(){return{moment:H(),pack:null,saving:!1,translationPacks:M}},mounted(){this.getGuides({"ssasc-plugin-screen":z.translations})},computed:{showTable(){return!Ye().isEmpty(this.settings.translation.locales)},uninstalledLanguagePacks(){return this.translationPacks.filter((t=>!Object.prototype.hasOwnProperty.call(this.settings.translation.locales,t.locale)))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["timestampFormat","settings"])},methods:{displayLanguage(t){let e=this.translationPacks.find((e=>e.locale===t));return e.title===e.title_localized?e.title:e.title+" / "+e.title_localized},handleSubmit(){this.pack&&(this.saving=!0,this.fetchLanguagePack(this.pack).then((()=>{this.refreshLanguageTable()})).catch((t=>{console.log(t),this.saving=!1})))},improveLink(t,e){if(t.translation_url)return t.translation_url;let s=e.split("_");s=s.map((t=>t.toLowerCase()));let i=s[0]===s[1]?s[0]:s.join("-");return"https://translate.wordpress.org/projects/wp-plugins/simply-schedule-appointments/dev/"+i+"/default/"},refreshLanguagePack(t){this.saving=!0,this.fetchLanguagePack(t).then((()=>{this.refreshLanguageTable()})).catch((t=>{console.log(t),this.saving=!1}))},refreshLanguageTable(){this.fetchTranslationSettings().then((()=>{this.saving=!1,this.pack=null,location.reload()})).catch((t=>{console.log(t)}))},deleteLanguage(t){this.deleteLanguagePack(t).then((()=>{this.refreshLanguageTable(),this.saving=!1})).catch((t=>{console.log(t)}))},...(0,o.nv)("translations",["fetchLanguagePack","fetchTranslationSettings","deleteLanguagePack"]),...(0,o.nv)("guides",["getGuides"])}},Np=Ip,jp=(0,K.Z)(Np,Op,$p,!1,null,null,null),zp=jp.exports,Up=function(){var t=this,e=t._self._c;return e("div",{staticClass:"google-calendar-settings"},[t.header?e("settings-header"):t._e(),t.settings.google_calendar.enabled||t.showDisabled?[t.account_authorized?t._e():e("google-calendar-auth"),t.account_authorized?[e("google-calendar-list")]:t._e()]:e("setting-not-enabled")],2)},Bp=[],Fp=function(){var t=this,e=t._self._c;return t.preset_gcal_mode?e("form",[e("div",{staticClass:"button-bar align-right"},[e("md-button",{staticClass:"md-primary md-raised",attrs:{tabindex:"0",disabled:t.saving},on:{click:t.googleRelayAuth}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.authorize_button_text)+" ")]],2)],1)]):e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveSettings.apply(null,arguments)}}},[e("p",[t._v(t._s(t.translations.settings.google_calendar.enterApi))]),e("md-button",{staticClass:"md-primary md-raised",attrs:{href:"https://simplyscheduleappointments.com/document/getting-your-client-id-and-client-secret-from-google/",target:"_blank"}},[t._v(" "+t._s(t.translations.wizard.googleCalendar.showMeHow)+" ")]),e("hr"),e("md-input-container",{class:{"md-input-invalid":t.$v.client_id.$invalid&&t.$v.client_id.$dirty}},[e("label",{attrs:{for:"client_id"}},[t._v(t._s(t.translations.settings.google_calendar.clientId))]),e("md-input",{attrs:{id:"client_id",required:"",disabled:t.saving},on:{blur:t.clientIdCheck},model:{value:t.$v.client_id.$model,callback:function(e){t.$set(t.$v.client_id,"$model","string"===typeof e?e.trim():e)},expression:"$v.client_id.$model"}}),t.$v.client_id.$invalid&&t.$v.client_id.$dirty?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.wizard.googleCalendar.clientIdError)+" ")]):t._e()],1),e("md-input-container",{class:{"md-input-invalid":t.$v.client_secret.$invalid&&t.$v.client_secret.$dirty}},[e("label",{attrs:{for:"client_secret"}},[t._v(t._s(t.translations.settings.google_calendar.clientSecret))]),e("md-input",{attrs:{id:"client_secret",required:"",disabled:t.saving},on:{blur:t.clientSecretCheck},model:{value:t.$v.client_secret.$model,callback:function(e){t.$set(t.$v.client_secret,"$model","string"===typeof e?e.trim():e)},expression:"$v.client_secret.$model"}}),t.$v.client_secret.$invalid&&t.$v.client_secret.$dirty?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.wizard.googleCalendar.clientSecretError)+" ")]):t._e()],1),e("div",{staticClass:"button-bar align-right"},[e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.google_calendar.saveAuthorize)+" ")]],2),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},Gp=[],Wp={name:"settingsGoogleCalendarAuth",mixins:[Un.oE],data(){return{needHelp:!1,saving:!1,filtered_gcal_values:!1}},validations:{client_id:{required:Bn.C1},client_secret:{required:Bn.C1}},mounted(){this.set_filtered_gcal_values()},computed:{client_id:{get(){return this.settings.google_calendar.client_id},set(t){this.updateGoogleCalendarClientId({settings:this.settings,value:t})}},client_secret:{get(){return this.settings.google_calendar.client_secret},set(t){this.updateGoogleCalendarClientSecret({settings:this.settings,value:t})}},authorize_button_text(){return this.filtered_gcal_values?this.translations.settings.google_calendar.authorize:this.preset_gcal_mode?this.translations.settings.google_calendar.cloudAuthorize:this.translations.settings.google_calendar.saveAuthorize},preset_gcal_mode(){return this.settings.developer?.beta_gcal_mode||this.filtered_gcal_values},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","router"]),...(0,o.rn)("google_calendar",["googleAuthUrl"])},methods:{clientIdCheck(){this.$emit("clientidcheck",this.client_id.length>0)},clientSecretCheck(){this.$emit("clientsecretcheck",this.client_secret.length>0)},googleRelayAuth(){this.saving=!0;const t=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.googleCalendarAuth({ssa_redirect:this.$route.path,ssa_base_url:t}).then((()=>{this.saving=!1,window.ssa_is_embed?window.top.location.href=this.googleAuthUrl:window.location.href=this.googleAuthUrl}))},saveSettings(){if(this.$v.$touch(),this.$v.$invalid)return;this.saving=!0;const t=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.updateGoogleCalendarEnabled({settings:this.settings,value:!0}),this.updateGoogleCalendarSettings().then((()=>{this.googleCalendarAuth({ssa_redirect:this.$route.path,ssa_base_url:t}).then((()=>{this.saving=!1,window.ssa_is_embed?window.top.location.href=this.googleAuthUrl:window.location.href=this.googleAuthUrl}))}))},set_filtered_gcal_values(){this.settings.google_calendar?.client_id_filtered&&this.settings.google_calendar?.client_id_filtered!=this.settings.google_calendar.client_id&&this.settings.google_calendar?.client_secret_filtered&&this.settings.google_calendar?.client_secret_filtered!==this.settings.google_calendar.client_secret?this.filtered_gcal_values=!0:this.filtered_gcal_values=!1},...(0,o.OI)("google_calendar",["updateGoogleCalendarClientId","updateGoogleCalendarClientSecret","updateGoogleCalendarEnabled"]),...(0,o.nv)("google_calendar",["updateGoogleCalendarSettings","googleCalendarAuth"])}},Rp=Wp,Hp=(0,K.Z)(Rp,Fp,Gp,!1,null,null,null),qp=Hp.exports,Zp=function(){var t=this,e=t._self._c;return e("div",[t.loading?e("loading",{attrs:{message:t.translations.settings.google_calendar.loadingCalendars}}):t.error?e("empty",{attrs:{label:t.errorMessage,description:t.translations.wizard.googleCalendar.failedToFetchDescription}},[e("md-button",{staticClass:"md-raised md-primary",on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1):e("md-whiteframe",[e("md-toolbar",{staticClass:"md-primary"},[e("h2",{staticClass:"md-title",staticStyle:{flex:"1","line-height":"20px"}},[e("span",{staticClass:"sub"},[t._v(" "+t._s(t.translations.settings.google_calendar.account)+" ")]),t._v(" "+t._s(t.googleCalendarAccountName)+" ")]),e("md-button",{on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1),e("md-layout",{attrs:{"md-gutter":""}},[e("md-layout",{attrs:{"md-flex":"50"}},[e("google-calendar-sync")],1),e("md-layout",{attrs:{"md-flex":"50"}},[e("google-calendar-settings")],1)],1)],1)],1)},Kp=[],Vp=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ssa-google-calendar-sync-appointment-types"},[e("h3",[t._v(t._s(t.translations.settings.google_calendar.calendarSync))]),e("p",[t._v(" "+t._s(t.translations.settings.google_calendar.authSuccess)+" "+t._s(t.translations.settings.google_calendar.authNext)+" ")]),e("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/appointment-types"}},[t._v(" "+t._s(t.translations.settings.google_calendar.appointmentTypesEdit)+" ")])],1)},Yp=[],Jp={name:"SettingsGoogleCalendarSync",computed:{...(0,o.rn)("translations",["translations"])}},Xp=Jp,Qp=(0,K.Z)(Xp,Vp,Yp,!1,null,null,null),td=Qp.exports,ed=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ssa-google-calendar-sync-settings"},[e("div",[e("h3",[t._v(" "+t._s(t.translations.settings.google_calendar.webMeetingsHeadline)+" ")]),e("md-switch",{attrs:{id:"googleMeetLink","md-theme":"reverse",disabled:t.saving},model:{value:t.web_meetings,callback:function(e){t.web_meetings=e},expression:"web_meetings"}},[e("span",{staticClass:"md-switch-label"},[t._v(" "+t._s(t.translations.settings.google_calendar.webMeetingsToggleLabel)+" ")])])],1),e("div",[e("h3",[t._v(" "+t._s(t.translations.settings.google_calendar.deleteEventsHeadline)+" ")]),e("md-switch",{attrs:{id:"deleteEvent","md-theme":"reverse",disabled:t.saving},model:{value:t.delete_events,callback:function(e){t.delete_events=e},expression:"delete_events"}},[e("span",{staticClass:"md-switch-label"},[t._v(" "+t._s(t.translations.settings.google_calendar.deleteEventsToggleLabel)+" ")])])],1),e("fieldset",[e("legend",{staticStyle:{"font-size":"1.17em","font-weight":"bold","margin-bottom":"1rem"}},[t._v(" "+t._s(t.translations.settings.google_calendar.refreshIntervalHeadline)+" ")]),e("p",[t._v(" "+t._s(t.translations.settings.google_calendar.refreshIntervalDesc)+" ")]),e("duration",{model:{value:t.refresh_interval,callback:function(e){t.refresh_interval=e},expression:"refresh_interval"}})],1),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)},sd=[],id={name:"SettingsGoogleCalendarSettings",components:{Duration:zn},data(){return{saving:!1}},computed:{refresh_interval:{get(){return parseInt(this.settings.google_calendar.refresh_interval,10)},set(t){this.setGoogleCalendarRefreshInterval({settings:this.settings,value:t}),this.saveSettings()}},web_meetings:{get(){return this.settings.google_calendar.web_meetings},set(t){this.setGoogleCalendarWebMeetings({settings:this.settings,value:t}),this.saveSettings()}},delete_events:{get(){return this.settings.google_calendar.delete_canceled_events},set(t){this.setGoogleCalendarDeleteEvents({settings:this.settings,value:t}),this.saveSettings()}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.saving=!0,this.updateGoogleCalendarSettings().then((()=>{this.saving=!1}))},...(0,o.OI)("google_calendar",["setGoogleCalendarWebMeetings","setGoogleCalendarDeleteEvents","setGoogleCalendarRefreshInterval"]),...(0,o.nv)("google_calendar",["updateGoogleCalendarSettings"])}},nd=id,ad=(0,K.Z)(nd,ed,sd,!1,null,null,null),od=ad.exports,rd={name:"settingsGoogleCalendarList",store:Ek,components:{Loading:nt,Empty:$e,GoogleCalendarSync:td,GoogleCalendarSettings:od},data(){return{loading:!0,error:!1,errorMessage:""}},mounted(){this.googleCalendars.length?this.loading=!1:this.fetchGoogleCalendars().then((()=>{this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0,this.errorMessage=this.translations.wizard.googleCalendar.failedToFetch}))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("google_calendar",["googleCalendars"]),...(0,o.Se)("google_calendar",["googleCalendarAccountName","googleCalendarAccountEmail"]),...(0,o.Se)("appointment_types",["editableAppointmentTypeIds"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{disconnectAccount(){this.googleCalendarDeauth()},editAppointmentType(){let t=this.editableAppointmentTypeIds[0];cv.push(`/ssa/appointment-types/type/${t}`)},openBulkEdit(){this.updateBulkEditing(this.editableAppointmentTypeIds),cv.push({name:"appointment-type-bulk-edit",params:{section:"googleCalendar"}})},...(0,o.nv)("google_calendar",["fetchGoogleCalendars","googleCalendarDeauth"]),...(0,o.OI)("appointment_types",["updateBulkEditing"])}},ld=rd,pd=(0,K.Z)(ld,Zp,Kp,!1,null,null,null),dd=pd.exports,cd=function(){var t=this,e=t._self._c;return e("empty",{attrs:{label:t.translations.settings.featureNotEnabled,description:t.translations.settings.featureNotEnabledDescription}},[e("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/settings/all"}},[t._v(" "+t._s(t.translations.settings.returnToSettings)+" ")])],1)},md=[],ud={name:"settingNotEnabled",components:{Empty:$e},data(){return{}},computed:{...(0,o.rn)("translations",["translations"])}},hd=ud,gd=(0,K.Z)(hd,cd,md,!1,null,null,null),_d=gd.exports,fd={name:"settingsGoogleCalendar",props:{header:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},components:{SettingsHeader:El,GoogleCalendarAuth:qp,GoogleCalendarList:dd,SettingNotEnabled:_d},data(){return{}},mounted(){const t=this.account_authorized?{"ssasc-plugin-screen":z.google_calendar.account_activated}:{"ssasc-plugin-screen":z.google_calendar.enabled};this.getGuides(t)},computed:{account_authorized(){return this.settings.google_calendar.access_token},...(0,o.rn)(["settings"])},methods:{cancelEdit(){this.$emit("cancel")},...(0,o.nv)("guides",["getGuides"])}},yd=fd,vd=(0,K.Z)(yd,Up,Bp,!1,null,null,null),bd=vd.exports,kd=function(){var t=this,e=t._self._c;return e("div",[e("md-dialog",{ref:"confirmLeaveDirty"},[e("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.notifications.confirmIgnoreChangesTitle)}}),e("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.appointmentTypes.confirmIgnoreChangesContent)}}),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.notifications.confirmIgnoreChangesCancel))]),e("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.notifications.confirmIgnoreChangesOkay))])],1)],1),t.header?e("settings-header"):t._e(),e("h2",[t._v(t._s(t.translations.settings.calendar_events.title))]),e("p",[t._v(t._s(t.translations.settings.calendar_events.description))]),e("div",{staticClass:"event-settings"},[e("accordion",t._l(t.typesKeys,(function(s){return e("accordion-item",{key:s,attrs:{label:t.translations.settings.calendar_events.types[s].title,message:t.calendarEventsHelper[s],index:s,section:"event-types",open:t.section,error:!t.typesValid[s]},on:{updateActive:t.updateSection}},[e("settings-calendar-events-edit",{attrs:{type:s},on:{change:t.validate}})],1)})),1),e("div",{staticClass:"button-bar"},[e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.invalidEvents},on:{click:t.saveEvents}},[t._v(" "+t._s(t.translations.settings.calendar_events.save)+" ")]),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),e("md-snackbar",{ref:"saveCalendarEvents",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.settings.calendar_events.success))])])],1),e("notification-details",{attrs:{title:t.translations.settings.calendar_events.tokenDetailsTitle,description:t.translations.settings.calendar_events.tokenDetails}})],1)},Cd=[],Sd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"notification-details"},[e("md-divider"),e("h3",{staticClass:"md-title"},[t._v(t._s(t.title))]),e("p",[t._v(" "+t._s(t.description)+" "),e("a",{attrs:{href:"https://twig.symfony.com/",target:"_blank"}},[t._v("Twig documentation")])]),t._m(0),e("md-table",[e("md-table-header",[e("tr",[e("md-table-head",[t._v("Token")]),e("md-table-head",[t._v("Description")])],1)]),e("md-table-body",t._l(t.notificationTokens,(function(s,i){return e("tr",{key:i},[e("md-table-cell",[e("code",[t._v(t._s(s))])]),e("md-table-cell",[t._v(t._s(t.translations.settings.notifications.tokens[s]))])],1)})),0)],1)],1)},wd=[function(){var t=this,e=t._self._c;return e("p",[t._v(" the syntax uses double curly braces around variables like: "),e("span",{pre:!0},[t._v("{{ admin_email }}")])])}],Td={name:"notificationDetails",props:["index","title","description"],data(){return{notificationTokens:f}},computed:{...(0,o.rn)("translations",["translations"])}},xd=Td,Ad=(0,K.Z)(xd,Sd,wd,!1,null,null,null),Pd=Ad.exports,Dd=function(){var t=this,e=t._self._c;return e("div",["customer"===t.type?e("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.eventTypeDescription)+" ")]):e("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.eventTypeDescription)+" "+t._s(t.translations.settings.calendar_events.sample_appointment_types)+" "+t._s(t.sampleAppointmentTypes)+". ")]),e("fieldset",{staticClass:"md-fieldset has-top-menu required"},[e("legend",[t._v(" Event Title ")]),e("token-text",{attrs:{options:t.notificationTokens,error:t.errors.title,required:!0,"plain-text":!0},on:{validate:t.validateTitle},model:{value:t.eventTitle,callback:function(e){t.eventTitle=e},expression:"eventTitle"}})],1),e("fieldset",{staticClass:"md-fieldset has-top-menu required"},[e("legend",[t._v(" Event Location ")]),e("token-text",{attrs:{options:t.notificationTokens,error:t.errors.location,required:!0,"plain-text":!0},on:{validate:t.validateLocation},model:{value:t.eventLocation,callback:function(e){t.eventLocation=e},expression:"eventLocation"}})],1),e("fieldset",{staticClass:"md-fieldset has-top-menu required"},[e("legend",[t._v("Event Details")]),e("token-text",{attrs:{options:t.notificationTokens,error:t.errors.details,required:!0,"plain-text":!0},on:{validate:t.validateDetails},model:{value:t.eventDetails,callback:function(e){t.eventDetails=e},expression:"eventDetails"}})],1)],1)},Md=[],Ed=function(){var t=this,e=t._self._c;return e("div",{staticClass:"token-text"},[e("div",{staticClass:"token-toolbar"},[t.showPreview?e("foxy-icon-button",{attrs:{theme:"light-green",theming:"primary"},on:{click:t.displayPreview}},[t._v("remove_red_eye ")]):t._e(),e("foxy-menu",{attrs:{options:t.options,icon:"text_fields",theme:"light-green",theming:"primary"},on:{selection:t.insertMessageToken}})],1),e("at",{attrs:{ats:["{{"],members:t.options,suffix:"}}"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}},[e("div",{ref:"messageContent",class:t.errorMessage?"error":"",attrs:{contenteditable:"","data-lt-active":"false","data-gramm":"false"},on:{paste:t.sanitize}})]),t.errorMessage?e("span",{staticClass:"md-error"},[t._v(t._s(t.errorMessage))]):t._e()],1)},Ld=[],Od=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdc-menu-surface--anchor"},[e("foxy-icon-button",{on:{click:t.openMenu}},[t._v(t._s(t.icon))]),e("div",{ref:"foxyMenu",staticClass:"mdc-menu mdc-menu-surface"},[e("ul",{staticClass:"mdc-list",attrs:{role:"menu","aria-hidden":"true","aria-orientation":"vertical"}},t._l(t.options,(function(s,i){return e("li",{key:i,staticClass:"mdc-list-item",attrs:{role:"menuitem"}},[e("span",{staticClass:"mdc-list-item__text"},[t._v(t._s(s))])])})),0)])],1)},$d=[];const Id={inheritAttrs:!1},Nd=["primary","secondary","background","surface","on-primary","on-secondary","on-surface","primary-bg","secondary-bg","text-primary-on-light","text-secondary-on-light","text-hint-on-light","text-disabled-on-light","text-icon-on-light","text-primary-on-dark","text-secondary-on-dark","text-hint-on-dark","text-disabled-on-dark","text-icon-on-dark"],jd={props:{theming:{type:String,default:""},theme:{type:String,default:"default"}},mounted(){Nd.indexOf(this.theming)>-1&&this.$el.classList.add("mdc-theme--"+this.theming),this.theme&&this.$el.classList.add("mdc-theme-name--"+this.theme)}};function zd(t){return{version:"__VERSION__",install:e=>{for(let s in t){let i=t[s];e.component(i.name,i)}},components:t}}var Ud=function(){var t=this,e=t._self._c;return e("button",{staticClass:"mdc-icon-button material-icons",on:{click:t.handleClick}},[t._t("default")],2)},Bd=[],Fd=s(2618),Gd={name:"mdc-icon-button",mixins:[jd,Id],data(){return{mdcRipple:void 0}},mounted(){this.mdcRipple=new Fd.F(this.$el),this.mdcRipple.unbounded=!0},methods:{handleClick(t){t.preventDefault(),this.$emit("click")}}},Wd=Gd,Rd=(0,K.Z)(Wd,Ud,Bd,!1,null,null,null),Hd=Rd.exports,qd=s(6003),Zd={name:"mdc-menu",mixins:[Id,jd],props:{options:[Array],icon:[String]},components:{FoxyIconButton:Hd},data(){return{mdcMenu:void 0}},mounted(){this.mdcMenu=new qd.g(this.$refs.foxyMenu),this.mdcMenu.listen("MDCMenu:selected",this.handleSelection)},beforeDestroy(){this.mdcMenu.unlisten("MDCMenu:selected",this.handleSelection),this.mdcMenu.destroy()},methods:{handleSelection(t){this.$emit("selection",t)},openMenu(){this.mdcMenu.open=!0}}},Kd=Zd,Vd=(0,K.Z)(Kd,Od,$d,!1,null,null,null),Yd=Vd.exports,Jd=s(349),Xd=s.n(Jd);const Qd=(t="")=>{let e=String(t);return e=e.replace(/&nbsp;/gi," "),e=e.replace(/&amp;/gi,"&"),e=e.replace(/<br>/gi,"\n"),e=e.replace(/<div>/gi,"\n"),e=e.replace(/<p>/gi,"\n"),e=e.replace(/<(.*?)>/g,""),e=e.split("\n").map(((t="")=>t.trim())).join("\n"),e=e.replace(/\n\n+/g,"\n\n"),e=e.replace(/[ ]+/g," "),e=e.trim(),e},tc=(t="")=>Qd(t).replace(/\n/g,"<br>"),ec=t=>{t.preventDefault();let e="";const s=!(!t.clipboardData||"object"!==typeof t.clipboardData||"function"!==typeof t.clipboardData.getData);s&&(e=t.clipboardData.getData("text/plain"));const i=document.createElement("textarea");i.innerHTML=e,e=i.innerText,e=Qd(e),"function"===typeof document.execCommand&&document.execCommand("insertText",!1,e)},sc=t=>{let e=0;const s="undefined"!==typeof window.getSelection;if(s){const s=window.getSelection();if(0!==s.rangeCount){const s=window.getSelection().getRangeAt(0),i=s.cloneRange();i.selectNodeContents(t),i.setEnd(s.endContainer,s.endOffset),e=i.toString().length}}return e},ic=(t,e)=>{for(var s of t.childNodes)if(3===s.nodeType){if(s.length>=e){var i=document.createRange(),n=window.getSelection();return i.setStart(s,e),i.collapse(!0),n.removeAllRanges(),n.addRange(i),-1}e-=s.length}else if(e=ic(s,e),-1===e)return-1;return e};var nc={name:"TokenText",props:{options:Array,value:String,plainText:Boolean,showPreview:{default:!1,type:Boolean},required:{default:!1,type:Boolean}},components:{FoxyMenu:Yd,At:Xd(),FoxyIconButton:Hd},data(){return{error:null,debouncedValidation:null,caretPos:null}},watch:{message(){this.debouncedValidation(),this.$emit("preview"),this.plainText&&this.$nextTick((()=>{ic(this.$refs.messageContent,this.caretPos)}))}},mounted(){this.debouncedValidation=Ye().debounce(this.validate,500)},computed:{message:{get(){return this.plainText?tc(this.value):this.value},set(t){this.plainText?(this.caretPos=sc(this.$refs.messageContent),this.$emit("input",Qd(t))):this.$emit("input",t)}},errorMessage(){return this.required&&!this.trimmedMessage?this.translations.tokenText.errors.required:this.error?this.error:null},trimmedMessage(){return this.message.replace(/<[^>]+>/g,"").trim()},...(0,o.rn)("translations",["translations"])},methods:{displayPreview(){this.$emit("preview")},insertMessageToken(t){let e=this.$refs.messageContent;this.message=e.innerHTML;let s=document.createTextNode("{{"+t.detail.item.innerText+"}}"),i=window.getSelection();if(!i.anchorNode||!i.anchorNode.isContentEditable&&!i.anchorNode.parentNode.isContentEditable){let t=document.createRange();return t.selectNodeContents(e),t.collapse(!1),t.insertNode(s),t.setStartAfter(s),i=window.getSelection(),i.removeAllRanges(),void i.addRange(t)}let n=i.getRangeAt(0);n.deleteContents(),n.insertNode(s),n.setStartAfter(s),i.removeAllRanges(),i.addRange(n)},validate(){this.error=null,this.trimmedMessage?this.validateTwigString(this.message).then((()=>{this.error=null,this.$emit("validate",!0)})).catch((()=>{this.error=this.translations.tokenText.errors.validationError,this.$emit("validate",!1)})):this.required?this.$emit("validate",!1):this.$emit("validate",!0)},sanitize(t){this.plainText&&ec(t)},...(0,o.nv)("notifications",["validateTwigString"])}},ac=nc,oc=(0,K.Z)(ac,Ed,Ld,!1,null,null,null),rc=oc.exports,lc={name:"SettingsCalendarEventsEdit",props:["type"],components:{TokenText:rc,Notification:Ys},data(){return{notificationTokens:f,errors:{title:null,location:null,details:null}}},mounted(){this.validate()},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.Se)("appointment_types",["allCalendarEventTypes","appointmentTypesGroupedByEventType"]),eventSettings(){return this.allCalendarEventTypes[this.type]},eventTitle:{get(){return this.eventSettings.title},set(t){const e=Object.assign({},this.eventSettings);e.title=t,this.setCalendarEventType({settings:this.settings,key:this.type,value:e})}},eventLocation:{get(){return this.eventSettings.location},set(t){const e=Object.assign({},this.eventSettings);e.location=t,this.setCalendarEventType({settings:this.settings,key:this.type,value:e})}},eventDetails:{get(){return this.eventSettings.details},set(t){const e=Object.assign({},this.eventSettings);e.details=t,this.setCalendarEventType({settings:this.settings,key:this.type,value:e})}},eventTypeDescription(){return["individual_shared","individual_admin","group_admin"].includes(this.type)&&this.settings.installed.staff&&this.settings.staff.enabled?this.translations.settings.calendar_events.types[this.type].description_staff:this.translations.settings.calendar_events.types[this.type].description},sampleAppointmentTypes(){const t=this.appointmentTypes.filter((t=>-1!==this.appointmentTypesGroupedByEventType[this.type].indexOf(t.id))).map((t=>`"${t.title}"`));if(t.length){if(1===t.length)return t[0];{const e=t.slice(0,3);if(t.length>1&&t.length<4){const t=e.pop();return`${e.join(", ")} ${this.translations.settings.calendar_events.and} ${t}`}if(t.length>=4)return`${e.join(", ")} ${this.translations.settings.calendar_events.and_more}`}}return null},helperText(){let t=`${this.eventTypeDescription} ${this.translations.settings.calendar_events.sample_appointment_types} ${this.sampleAppointmentTypes}`;return t}},methods:{validate(){Object.keys(this.errors).forEach((t=>{const e=""===this.eventSettings[t].replace(/<[^>]+>/g,"").trim();e||this.errors[t]?this.errors[t]=!0:this.errors[t]=!1})),this.$emit("change",this.type,this.errors)},validateTitle(t){this.errors.title=!t,this.validate()},validateLocation(t){this.errors.location=!t,this.validate()},validateDetails(t){this.errors.details=!t,this.validate()},...(0,o.OI)("google_calendar",["setCalendarEventType"])}},pc=lc,dc=(0,K.Z)(pc,Dd,Md,!1,null,null,null),cc=dc.exports,mc={name:"SettingsCalendarEvents",components:{Accordion:wn,AccordionItem:Mn,SettingsCalendarEventsEdit:cc,NotificationDetails:Pd,SettingsHeader:El},props:{header:{type:Boolean,default:!0}},data(){return{section:null,saving:!1,dirty:!1,leaveWithoutSaving:!1,typesValid:{}}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},created(){this.typesKeys.forEach((t=>{this.$set(this.typesValid,t,!0)}))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("appointment_types",["allCalendarEventTypes","allowedEventTypes"]),typesKeys(){return Object.keys(this.allCalendarEventTypes).filter((t=>this.allowedEventTypes.includes(t)))},invalidEvents(){return Object.values(this.typesValid).filter((t=>!t)).length>0},calendarEventsHelper(){let t={};return this.typesKeys.forEach((e=>{["individual_admin","group_admin"].includes(e)&&this.settings.installed.staff&&this.settings.staff.enabled?t[e]=this.translations.settings.calendar_events.types[e].helper_staff:t[e]=this.translations.settings.calendar_events.types[e].helper})),t}},methods:{...(0,o.OI)("google_calendar",["setCalendarEventsEnabled"]),...(0,o.nv)("google_calendar",["updateCalendarEventsSettings"]),updateSection(t){this.section=t||null},validate(t,e){this.dirty=!0;const s=0===Object.values(e).filter((t=>t)).length;this.$set(this.typesValid,t,s)},async saveEvents(){this.saving=!0;try{await this.updateCalendarEventsSettings(),this.saving=!1,this.dirty&&(this.$refs.saveCalendarEvents.open(),this.dirty=!1),this.$emit("saved")}catch(t){console.log(t),this.saving=!1}},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()}}},uc=mc,hc=(0,K.Z)(uc,kd,Cd,!1,null,null,null),gc=hc.exports,_c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mailchimp-settings"},[e("settings-header"),t.settings.mailchimp.enabled?[t.account_authorized?e("mailchimp-list"):e("mailchimp-auth")]:e("setting-not-enabled")],2)},fc=[],yc=function(){var t=this,e=t._self._c;return e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[e("md-input-container",{class:{"md-input-invalid":!t.validKey}},[e("label",{attrs:{for:"api_key"}},[t._v(" "+t._s(t.translations.settings.mailchimp.api_key)+" ")]),e("md-input",{attrs:{id:"api_key",required:""},model:{value:t.api_key,callback:function(e){t.api_key=e},expression:"api_key"}}),t.validKey?e("span",{staticClass:"md-helper-text"},[e("a",{attrs:{href:"https://admin.mailchimp.com/account/api/",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.mailchimp.api_key_helper_label)+" ")])]):e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.mailchimp.apiKeyError)+" ")])],1),e("div",{staticClass:"button-bar align-right"},[e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.mailchimp.saveAuthorize)+" ")]],2),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),e("md-snackbar",{ref:"mcError",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.errorMessage))])])],1)},vc=[],bc={name:"settingsMailchimpAuth",data(){return{errorMessage:"",saving:!1,validKey:!0}},computed:{api_key:{get(){return this.settings.mailchimp.api_key||""},set(t){this.updateMailchimpApiKey({settings:this.settings,value:t.trim()})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.validateKey(),this.validKey&&(this.saving=!0,this.updateMailchimpSettings().then((()=>{this.authorizeMailchimp().then((()=>{this.saving=!1,this.updateMailchimpAuthorized({settings:this.settings,value:!0})})).catch((t=>{this.saving=!1,this.validKey=!1;let e=t.response_code,s=t.error.errors;this.errorMessage=s[e][0],this.$refs["mcError"].open()}))})))},validateKey(){this.api_key?this.validKey=!0:this.validKey=!1},...(0,o.OI)("mailchimp",["updateMailchimpApiKey","updateMailchimpAuthorized"]),...(0,o.nv)("mailchimp",["updateMailchimpSettings","authorizeMailchimp"])}},kc=bc,Cc=(0,K.Z)(kc,yc,vc,!1,null,null,null),Sc=Cc.exports,wc=function(){var t=this,e=t._self._c;return e("div",[t.loading?e("loading",{attrs:{message:t.loadingMessage}}):e("md-whiteframe",[e("md-toolbar",{staticClass:"md-accent"},[e("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[e("span",{staticClass:"sub"},[t._v(t._s(t.translations.settings.mailchimp.lists))]),t._v(t._s(t.settings.mailchimp.account_details.account_name))]),e("md-button",{on:{click:t.disconnect}},[t._v("Disconnect")])],1),e("md-list",t._l(t.settings.mailchimp.lists,(function(s){return e("md-list-item",{key:s.id},[e("span",[t._v(t._s(s.name))])])})),1)],1)],1)},Tc=[],xc={name:"settingsMailchimpList",store:Ek,components:{Loading:nt},data(){return{loading:!0,loadingMessage:""}},mounted(){this.settings.mailchimp.lists.length?this.loading=!1:(this.loadingMessage=this.translations.settings.mailchimp.loadingLists,this.fetchMailchimpLists().then((()=>{this.loading=!1})))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{disconnect(){this.loadingMessage=this.translations.settings.mailchimp.deauthorize,this.loading=!0,this.deauthorizeMailchimp().then((()=>{this.loading=!1}))},...(0,o.nv)("mailchimp",["fetchMailchimpLists","deauthorizeMailchimp"])}},Ac=xc,Pc=(0,K.Z)(Ac,wc,Tc,!1,null,null,null),Dc=Pc.exports,Mc={name:"settingsMailchimp",store:Ek,components:{SettingsHeader:El,MailchimpAuth:Sc,MailchimpList:Dc,SettingNotEnabled:_d},data(){return{}},mounted(){this.getGuides({"ssasc-plugin-screen":z.mailchimp})},computed:{account_authorized(){return this.settings.mailchimp.account_details},...(0,o.rn)(["settings"])},methods:{cancelEdit(){this.$emit("cancel")},...(0,o.nv)("guides",["getGuides"])}},Ec=Mc,Lc=(0,K.Z)(Ec,_c,fc,!1,null,null,null),Oc=Lc.exports,$c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"webex-settings"},[t.header?e("settings-header"):t._e(),t.settings.webex.enabled||t.showDisabled?[t.account_authorized?e("webex-user"):e("webex-auth")]:e("setting-not-enabled")],2)},Ic=[],Nc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"webex-settings"},[e("p",[t._v(" "+t._s(t.translations.settings.webex.notConnected)+" ")]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.webex.saveAuthorize)+" ")]],2),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)},jc=[],zc={name:"settingsWebexAuth",data(){return{saving:!1}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("webex",["webexAuthUrl"])},methods:{saveSettings(){this.saving=!0;const t=window.ssa_is_embed?window.top.location.href:null;this.updateWebexEnabled(!0),this.webexAuth({ssa_redirect:this.$route.path,ssa_base_url:t}).then((()=>{this.saving=!1,window.ssa_is_embed?window.top.location.href=this.webexAuthUrl:window.location.href=this.webexAuthUrl}))},...(0,o.OI)("webex",["updateWebexEnabled"]),...(0,o.nv)("webex",["webexAuth"])}},Uc=zc,Bc=(0,K.Z)(Uc,Nc,jc,!1,null,null,null),Fc=Bc.exports,Gc=function(){var t=this,e=t._self._c;return e("div",[t.loading?e("loading",{attrs:{message:t.translations.settings.webex.verifying}}):t._e(),!t.loading&&t.error?e("empty",{attrs:{label:t.errorMessage,description:t.translations.settings.webex.failedToFetchDescription}},[e("md-button",{staticClass:"md-raised md-primary",on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.webex.disconnect))])],1):t._e(),!t.loading&&t.webexUser?e("md-whiteframe",[e("md-toolbar",{staticClass:"md-primary"},[e("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[e("span",{staticClass:"sub"},[t._v(t._s(t.translations.settings.webex.account))])]),e("md-button",{on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.webex.disconnect))])],1),e("md-layout",{attrs:{"md-gutter":""}},[e("div",{staticClass:"ssa-webex-user"},[e("div",{staticClass:"avatar"},[t.webexUser.avatar?e("md-avatar",{staticClass:"md-primary",attrs:{"md-large":""}},[e("img",{attrs:{src:t.webexUser.avatar,alt:t.webexUser.first_name}})]):e("md-avatar",{staticClass:"md-avatar-icon md-primary",attrs:{"md-large":""}},[e("md-icon",[t._v("person")])],1)],1),e("div",{staticClass:"user"},[e("div",{staticClass:"profile"},[e("h3",{staticClass:"md-display-1"},[t._v(t._s(t.webexUser.first_name)+" "+t._s(t.webexUser.last_name))]),e("p",{staticClass:"md-subhead"},[e("strong",[t._v(t._s(t.translations.settings.zoom.userEmail)+":")]),e("br"),t._v(t._s(t.webexUser.email))])])])])])],1):t._e()],1)},Wc=[],Rc={name:"settingsWebexUser",store:Ek,components:{Loading:nt,Empty:$e},data(){return{loading:!0,error:!1,errorMessage:""}},mounted(){this.webexUser?this.loading=!1:this.fetchWebexUser().then((()=>{this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0,this.errorMessage=this.translations.settings.webex.failedToFetch}))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("webex",["webexUser"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{disconnectAccount(){this.webexDeauth().then((()=>{window.location.reload()}))},...(0,o.nv)("webex",["fetchWebexUser","webexDeauth"])}},Hc=Rc,qc=(0,K.Z)(Hc,Gc,Wc,!1,null,null,null),Zc=qc.exports,Kc={name:"settingsZoom",props:{header:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},components:{SettingsHeader:El,WebexAuth:Fc,WebexUser:Zc,SettingNotEnabled:_d},computed:{account_authorized(){return this.settings.webex.auth_code},...(0,o.rn)(["settings"])},methods:{cancelEdit(){this.$emit("cancel")},...(0,o.nv)("guides",["getGuides"])}},Vc=Kc,Yc=(0,K.Z)(Vc,$c,Ic,!1,null,null,null),Jc=Yc.exports,Xc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"zoom-settings"},[t.header?e("settings-header"):t._e(),t.settings.zoom.enabled||t.showDisabled?[t.account_authorized?e("zoom-user"):e("zoom-auth")]:e("setting-not-enabled")],2)},Qc=[],tm=function(){var t=this,e=t._self._c;return e("div",{staticClass:"zoom-settings"},[e("p",[t._v(" "+t._s(t.translations.settings.zoom.notConnected)+" ")]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.zoom.saveAuthorize)+" ")]],2),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)},em=[],sm={name:"settingsZoomAuth",data(){return{saving:!1}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("zoom",["zoomAuthUrl"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.saving=!0;const t=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.updateZoomEnabled({settings:this.settings,value:!0}),this.zoomAuth({ssa_redirect:window.ssa_is_embed?this.$route.path:null,ssa_base_url:window.ssa_is_embed?t:null}).then((()=>{this.saving=!1,window.ssa_is_embed?window.top.location.href=this.zoomAuthUrl:window.location.href=this.zoomAuthUrl}))},...(0,o.OI)("zoom",["updateZoomEnabled"]),...(0,o.nv)("zoom",["zoomAuth"])}},im=sm,nm=(0,K.Z)(im,tm,em,!1,null,null,null),am=nm.exports,om=function(){var t=this,e=t._self._c;return e("div",[t.loading?e("loading",{attrs:{message:"Verifying your Zoom user"}}):t._e(),!t.loading&&t.error?e("empty",{attrs:{label:t.errorMessage,description:t.translations.wizard.zoom.failedToFetchDescription}},[e("md-button",{staticClass:"md-raised md-primary",on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.zoom.disconnect))])],1):t._e(),!t.loading&&t.zoomUser?e("md-whiteframe",[e("md-toolbar",{staticClass:"md-primary"},[e("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[e("span",{staticClass:"sub"},[t._v(t._s(t.translations.settings.zoom.account))])]),e("md-button",{on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.zoom.disconnect))])],1),e("md-layout",{attrs:{"md-gutter":""}},[e("div",{staticClass:"ssa-zoom-user"},[e("div",{staticClass:"avatar"},[t.zoomUser.pic_url?e("md-avatar",{staticClass:"md-primary",attrs:{"md-large":""}},[e("img",{attrs:{src:t.zoomUser.pic_url,alt:t.zoomUser.first_name}})]):e("md-avatar",{staticClass:"md-avatar-icon md-primary",attrs:{"md-large":""}},[e("md-icon",[t._v("person")])],1)],1),e("div",{staticClass:"user"},[e("div",{staticClass:"profile"},[e("h3",{staticClass:"md-display-1"},[t._v(t._s(t.zoomUser.first_name)+" "+t._s(t.zoomUser.last_name))]),e("p",{staticClass:"md-subhead"},[e("strong",[t._v(t._s(t.translations.settings.zoom.userEmail)+":")]),e("br"),t._v(t._s(t.zoomUser.email))])]),e("div",{staticClass:"meeting-url"},[e("p",[e("strong",[t._v(t._s(t.translations.settings.zoom.userMeetingUrl)+":")]),e("br"),t._v(" "+t._s(t.zoomUser.meeting_url))])])])])])],1):t._e()],1)},rm=[],lm={name:"settingsZoomUser",store:Ek,components:{Loading:nt,Empty:$e},data(){return{loading:!0,error:!1,errorMessage:""}},mounted(){this.zoomUser?this.loading=!1:this.fetchZoomUser().then((()=>{this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0,this.errorMessage=this.translations.wizard.zoom.failedToFetch}))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("zoom",["zoomUser"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{disconnectAccount(){this.zoomDeauth().then((()=>{window.location.reload()}))},...(0,o.nv)("zoom",["fetchZoomUser","zoomDeauth"])}},pm=lm,dm=(0,K.Z)(pm,om,rm,!1,null,null,null),cm=dm.exports,mm={name:"settingsZoom",props:{header:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},components:{SettingsHeader:El,ZoomAuth:am,ZoomUser:cm,SettingNotEnabled:_d},data(){return{}},mounted(){this.getGuides({"ssasc-plugin-screen":z.zoom})},computed:{account_authorized(){return this.settings.zoom.auth_code},...(0,o.rn)(["settings"])},methods:{cancelEdit(){this.$emit("cancel")},...(0,o.nv)("guides",["getGuides"])}},um=mm,hm=(0,K.Z)(um,Xc,Qc,!1,null,null,null),gm=hm.exports,_m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"advanced-scheduling-settings"},[e("settings-header",{attrs:{loading:t.saving}}),e("div",{staticClass:"md-switch-with-helper"},[e("md-switch",{attrs:{id:"advanced_scheduling_enabled","md-theme":"reverse",name:"advanced_scheduling_enabled"},model:{value:t.advanced_scheduling_enabled,callback:function(e){t.advanced_scheduling_enabled=e},expression:"advanced_scheduling_enabled"}},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.label)+" ")]),e("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.advanced_scheduling.help)+" "),e("a",{attrs:{href:"https://simplyscheduleappointments.com/guides/advanced-scheduling-options/",target:"_blank"}},[t._v(t._s(t.translations.settings.advanced_scheduling.help_link))])])],1),e("div",{staticClass:"md-switch-with-helper"},[e("md-switch",{attrs:{id:"separate_appointment_type_availability","md-theme":"reverse",name:"separate_appointment_type_availability"},model:{value:t.separate_appointment_type_availability,callback:function(e){t.separate_appointment_type_availability=e},expression:"separate_appointment_type_availability"}},[t._v(" "+t._s(t.translations.settings.developer.separate_appointment_type_availability.label)+" ")]),e("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.separate_appointment_type_availability.help)+" "),e("a",{attrs:{href:"https://simplyscheduleappointments.com/guides/let-multiple-appointment-types-book-the-same-time-slot/",target:"_blank"}},[t._v(t._s(t.translations.settings.developer.separate_appointment_type_availability.help_link))])])],1),e("md-snackbar",{ref:"saveSettings",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.settings.advanced_scheduling.saved))])])],1)},fm=[],ym={name:"settingsAdvancedScheduling",components:{SettingsHeader:El},data(){return{saving:!1}},mounted(){this.getGuides({"ssasc-plugin-screen":z.advanced_scheduling_options})},computed:{advanced_scheduling_enabled:{get(){return!!this.settings.advanced_scheduling.enabled},set(t){this.updateAdvancedSchedulingEnabled({settings:this.settings,value:t}),this.saving=!0,this.updateAdvancedSchedulingSettings().then((()=>{this.saving=!1,this.$refs.saveSettings.open()}))}},separate_appointment_type_availability:{get(){return this.settings.developer.separate_appointment_type_availability},set(t){this.setSeparateAppointmentTypeAvailability({settings:this.settings,value:t}),this.saving=!0,this.updateDeveloperSettings().then((()=>{this.saving=!1,this.$refs.saveSettings.open()}))}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("appointment_types",["editableAppointmentTypeIds"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{editAppointmentType(){let t=this.editableAppointmentTypeIds[0];cv.push(`/ssa/appointment-types/type/${t}`)},openBulkEdit(){this.updateBulkEditing(this.editableAppointmentTypeIds),cv.push({name:"appointment-type-bulk-edit",params:{section:"scheduling"}})},...(0,o.nv)(["fetchSettings"]),...(0,o.nv)("advanced_scheduling",["updateAdvancedSchedulingSettings"]),...(0,o.OI)("advanced_scheduling",["updateAdvancedSchedulingEnabled","setSeparateAppointmentTypeAvailability"]),...(0,o.OI)("appointment_types",["updateBulkEditing"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("developer_settings",["updateDeveloperSettings"])}},vm=ym,bm=(0,K.Z)(vm,_m,fm,!1,null,null,null),km=bm.exports,Cm=function(){var t=this,e=t._self._c;return e("form",{staticClass:"tracking-settings",attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveSettings.apply(null,arguments)}}},[e("settings-header"),e("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),e("p",[t._v(t._s(t.translations.settings.tracking.instructions)+" "),e("a",{attrs:{href:"https://simplyscheduleappointments.com/document/conversion-tracking/",target:"_blank"}},[t._v(t._s(t.translations.settings.tracking.docLinkText))])]),e("p",[e("md-checkbox",{staticClass:"md-primary",attrs:{id:"event-tracking",name:"event-tracking",disabled:t.saving},model:{value:t.event_tracking,callback:function(e){t.event_tracking=e},expression:"event_tracking"}},[t._v(t._s(t.translations.settings.tracking.eventTracking))])],1),e("p",[e("md-checkbox",{staticClass:"md-primary",attrs:{id:"page-tracking",name:"page-tracking",disabled:t.saving},model:{value:t.page_tracking,callback:function(e){t.page_tracking=e},expression:"page_tracking"}},[t._v(t._s(t.translations.settings.tracking.pageTracking))])],1),e("div",{staticClass:"button-bar align-right"},[e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(t._s(t.translations.general.saving))]:[t._v(t._s(t.translations.general.save))]],2),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},Sm=[],wm={name:"settingsTracking",components:{SettingsHeader:El},data(){return{saving:!1,dirty:!1}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(t=>{"ok"===t?(s(),this.fetchSettings()):s(!1)}))}else s()},watch:{event_tracking:function(t,e){t!==e&&(this.dirty=!0)},page_tracking:function(t,e){t!==e&&(this.dirty=!0)}},mounted(){this.getGuides({"ssasc-plugin-screen":z.tracking})},computed:{event_tracking:{get(){return this.settings.tracking.event_tracking},set(t){this.setEventTracking({settings:this.settings,value:t})}},page_tracking:{get(){return this.settings.tracking.page_tracking},set(t){this.setPageTracking({settings:this.settings,value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.saving=!0,this.saveTrackingSettings().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")}))},...(0,o.nv)(["fetchSettings"]),...(0,o.nv)("tracking",["saveTrackingSettings"]),...(0,o.OI)("tracking",["setEventTracking","setPageTracking"]),...(0,o.nv)("guides",["getGuides"])}},Tm=wm,xm=(0,K.Z)(Tm,Cm,Sm,!1,null,null,null),Am=xm.exports,Pm=function(){var t=this,e=t._self._c;return e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[t.currentUserCan("ssa_manage_site_settings")?[e("settings-header"),t.settings.blackout_dates.enabled?[t.saving?e("loading",{attrs:{message:t.translations.settings.blackout.saving}}):e("fieldset",{staticStyle:{padding:"0"}},[e("view-selector"),e("date-select-and-list",{attrs:{saving:t.quickSaving},model:{value:t.blackout_dates,callback:function(e){t.blackout_dates=e},expression:"blackout_dates"}})],1)]:e("setting-not-enabled")]:e("no-permission"),e("md-snackbar",{ref:"savedMessage",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.settings.blackout.saved))])])],2)},Dm=[],Mm=function(){var t=this,e=t._self._c;return e("md-toolbar",{staticClass:"md-transparent"},[t.canSelectBlackoutType&&!t.loading?e("md-input-container",{staticClass:"title"},[e("label",{attrs:{for:"blackout-view"}},[e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.selectTarget)+" ")])]),e("md-select",{attrs:{name:"blackout-view",id:"blackout-view"},model:{value:t.blackoutView,callback:function(e){t.blackoutView=e},expression:"blackoutView"}},[t.currentUserCan("ssa_manage_site_settings")?e("md-option",{attrs:{value:"global"}},[t._v(" "+t._s(t.translations.settings.blackout.title)+": "+t._s(t.translations.settings.blackout.view.global)+" ")]):t._e(),t.currentUserCan("ssa_manage_staff_blackout_dates")&&this.user.staff_id?e("md-option",{attrs:{value:this.user.staff_id}},[t._v(" "+t._s(t.translations.settings.blackout.title)+": "+t._s(t.translations.settings.blackout.view.self)+" ")]):t._e(),t._l(t.staffExcludingSelfOptions,(function(s){return e("md-option",{key:s.id,attrs:{value:s.id}},[t._v(" "+t._s(t.translations.settings.blackout.title)+": "+t._s(s.display_name)+" ")])}))],2)],1):e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.blackout.title)+" "),t.loading?e("md-spinner",{attrs:{"md-size":20,"md-indeterminate":""}}):t._e()],1),e("div",{staticStyle:{flex:"1"}})],1)},Em=[],Lm={name:"blackoutViewSelector",data(){return{loading:!0}},mounted(){(this.currentUserCan("ssa_manage_staff")||this.currentUserCan("ssa_manage_staff_blackout_dates"))&&"undefined"===typeof this.staff&&this.staffModule.enabled?this.fetchStaff().then((()=>{this.loading=!1})).catch(((t,e)=>{console.log(e)})):this.loading=!1},computed:{blackoutView:{get(){return this.$route.params.staffId?this.$route.params.staffId:"global"},set(t){"global"===t?this.$router.push({name:"settings-blackout"}):this.$router.push({name:"settings-blackout-staff",params:{staffId:t}})}},canSelectBlackoutType(){return!!this.staffModule.enabled&&(this.currentUserCan("ssa_manage_site_settings")&&this.currentUserCan("ssa_manage_staff")||this.currentUserCan("ssa_manage_site_settings")&&this.currentUserCan("ssa_manage_staff_blackout_dates")||this.currentUserCan("ssa_manageStaff")&&this.currentUserCan("ssa_manage_staff_blackout_dates"))},staffExcludingSelfOptions(){return this.currentUserCan("ssa_manage_staff")?this.staffExcludingSelf:[]},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["user"]),...(0,o.rn)("staff",["staff"]),...(0,o.Se)("staff",["currentUserCan","staffExcludingSelf","staffModule"])},methods:{...(0,o.nv)("staff",["fetchStaff"])}},Om=Lm,$m=(0,K.Z)(Om,Mm,Em,!1,null,null,null),Im=$m.exports,Nm=function(){var t=this,e=t._self._c;return e("md-layout",{attrs:{"md-gutter":24}},[e("md-layout",[e("div",{staticClass:"full-width"},[e("multi-date-picker",{attrs:{readonly:t.readonly,limit:t.limit},model:{value:t.selectedDates,callback:function(e){t.selectedDates=e},expression:"selectedDates"}})],1)]),e("md-layout",{attrs:{"md-column":""}},[e("md-toolbar",{attrs:{"md-theme":"white"}},[e("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(" "+t._s(t.translations.settings.blackout.selected)+" ")]),e("div",{staticStyle:{flex:"1"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}]},[e("md-spinner",{attrs:{"md-size":20,"md-indeterminate":""}}),t._v(" "+t._s(t.translations.general.saving)+" ")],1)]),t.allDateData.length?e("md-list",{staticClass:"md-dense"},t._l(t.allDateData,(function(s,i){return e("md-list-item",{key:i,class:{past:t.moment(s.date).isBefore(t.moment(),"day")}},[e("span",[t._v(" "+t._s(t.moment(s.date).format(t.settings.global.date_format_moment))+" ")]),s.readonly?[e("md-icon",[t._v("public")]),e("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(" "+t._s(t.translations.settings.blackout.view.global)+" ")])]:e("md-button",{staticClass:"md-icon-button md-list-action md-accent",on:{click:function(e){return t.deleteDate(s.date)}}},[e("md-icon",[t._v("close")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.actions.delete)+" "+t._s(t.moment(s.date).format(t.settings.global.date_format_moment))+" ")])],1)],2)})),1):e("empty",{attrs:{label:t.translations.settings.blackout.emptyLabel,description:t.translations.settings.blackout.emptyDesc}})],1)],1)},jm=[],zm=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cov-date-body md-theme-light-green"},[e("div",{staticClass:"cov-date-monthly"},[e("button",{staticClass:"cov-date-previous",on:{click:function(e){return e.preventDefault(),t.prevMonth.apply(null,arguments)}}},[e("md-icon",{staticClass:"md-size-2x"},[t._v("keyboard_arrow_left")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.previousMonth)+" ")])],1),e("div",{staticClass:"cov-date-caption"},[e("button",{staticClass:"caption-year",on:{click:function(e){return e.preventDefault(),t.showYear.apply(null,arguments)}}},[t._v(" "+t._s(t.currentYear)+" ")]),e("span",{on:{click:function(e){t.displayType="month"}}},[t._v(" "+t._s(t.displayMonth)+" ")])]),e("button",{staticClass:"cov-date-next",on:{click:function(e){return e.preventDefault(),t.nextMonth.apply(null,arguments)}}},[e("md-icon",{staticClass:"md-size-2x"},[t._v("keyboard_arrow_right")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.nextMonth)+" ")])],1)]),"day"===t.displayType?e("div",{ref:"dayList",staticClass:"cov-date-box",attrs:{tabindex:"-1"}},[e("div",{staticClass:"cov-picker-box"},[e("div",{staticClass:"week"},[e("ul",t._l(t.week,(function(s){return e("li",{key:s},[t._v(t._s(s))])})),0)]),e("div",{staticClass:"days"},t._l(t.days,(function(s,i){return e("div",{key:i,staticClass:"day",class:{selected:s.selected,readonly:s.readonly,unavailable:s.unavailable,"passive-day":!s.inMonth},on:{click:function(e){return t.checkDay(s)}}},[t._v(" "+t._s(s.value)+" "),s.readonly?e("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(" "+t._s(t.translations.settings.blackout.view.global)+" ")]):t._e()],1)})),0)])]):"year"===t.displayType?e("div",{staticClass:"cov-date-box list-box"},[e("fieldset",{ref:"yearList",staticClass:"cov-picker-box date-list",attrs:{id:"yearList",tabindex:"-1"}},[e("legend",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.selectYear)+" ")]),t._l(t.year,(function(s,i){return e("label",{key:i,staticClass:"date-item"},[e("input",{staticClass:"screen-reader-text",attrs:{type:"checkbox"},domProps:{value:s},on:{change:function(e){return t.setYear(s)}}}),t._v(" "+t._s(s)+" ")])}))],2)]):"month"===t.displayType?e("div",{staticClass:"cov-date-box list-box"},[e("div",{staticClass:"cov-picker-box date-list"},t._l(t.month,(function(s,i){return e("div",{key:i,staticClass:"date-item",on:{click:function(e){return t.setMonth(s)}}},[t._v(t._s(s))])})),0)]):t._e()])},Um=[],Bm=s(6797),Fm=s.n(Bm),Gm={name:"datePicker",props:{required:{type:Boolean,default:!1},value:{required:!0},readonly:{type:Array,default(){return[]}},limit:{type:Array,default(){return[]}}},data(){return{currentMoment:null,displayType:"day",month:Fm().months(),year:[]}},mounted(){this.showDay()},computed:{week(){var t=Fm().weekdaysMin(!1);if(this.settings.global.start_of_week>0){var e=t.slice(0,this.settings.global.start_of_week),s=t.slice(this.settings.global.start_of_week);t=[...s,...e]}return t},displayMonth(){return this.currentMoment?this.currentMoment.format("MMMM"):""},currentYear(){return this.currentMoment?this.currentMoment.format("YYYY"):""},currentMonth(){return this.currentMoment?this.currentMoment.format("MM"):""},currentDay(){return this.currentMoment?this.currentMoment.format("DD"):""},days(){if(!this.currentMoment)return;let t=[],e=this.currentMoment.daysInMonth();for(let a=1;a<=e;++a)t.push({value:a,inMonth:!0,unavailable:!1,selected:!1,readonly:!1,moment:Fm()(this.currentMoment).date(a)}),this.checkBySelectDays(a,t);let s=Fm()(this.currentMoment).date(1).day(),i=this.currentMoment.clone().subtract(1,"month");s=0===s?7:s,s=this.settings.global.start_of_week>s?s+7:s;for(let a=0;a<s-this.settings.global.start_of_week;a++){let e={value:i.daysInMonth()-a,inMonth:!1,action:"previous",unavailable:!1,selected:!1,readonly:!1,moment:Fm()(this.currentMoment).date(1).subtract(a+1,"days")};t.unshift(e)}let n=42-t.length;for(let a=1;a<=n;a++){let e={value:a,inMonth:!1,action:"next",unavailable:!1,selected:!1,readonly:!1,moment:Fm()(this.currentMoment).add(1,"months").date(a)};t.push(e)}if(this.limit.length>0)for(let a of this.limit)switch(a.type){case"fromto":t=this.limitFromTo(a,t);break;case"weekday":t=this.limitWeekDay(a,t);break}return t=this.checkReadOnlyDays(t),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{prevMonth(){var t=this.currentMoment.clone().subtract(1,"month");t.isBefore(Fm()(),"month")||(this.currentMoment=t,this.showDay())},nextMonth(){this.currentMoment=this.currentMoment.clone().add(1,"month"),this.showDay()},showDay(){this.currentMoment=this.currentMoment?this.currentMoment:Fm()(),this.displayType="day",this.$nextTick((()=>{this.$refs.dayList.focus()}))},checkBySelectDays(t,e){this.value.forEach((s=>{this.currentYear===Fm()(s).format("YYYY")&&this.currentMonth===Fm()(s).format("MM")&&t===Math.ceil(Fm()(s).format("D"))&&(e[t-1].selected=!0)}))},checkReadOnlyDays(t){if(!this.readonly||!this.readonly.length)return t;let e=new Set(this.readonly);return t.map((t=>{!t.unavailable&&t.inMonth&&e.has(t.moment.format($))&&(t.selected=!0,t.readonly=!0)})),t},limitWeekDay(t,e){return e.map((e=>{-1===t.available.indexOf(Math.floor(e.moment.format("d")))&&(e.unavailable=!0)})),e},limitFromTo(t,e){return(t.from||t.to)&&e.map((e=>{this.getLimitCondition(t,e)&&(e.unavailable=!0)})),e},getLimitCondition(t,e){let s=e.moment.clone().startOf("day");return t.from&&!t.to?!s.isAfter(t.from):!t.from&&t.to?!s.isBefore(t.to):!s.isBetween(t.from,t.to)},checkDay(t){if(t.unavailable&&!t.selected||""===t.value||t.readonly)return!1;t.inMonth||("next"===t.action?this.nextMonth():this.prevMonth());let e=Fm()(this.currentYear+"-"+this.currentMonth+"-"+t.value,$).format($),s=this.value.indexOf(e),i=this.value.slice();!0===t.selected?(this.$set(t,"selected",!1),-1!==s&&i.splice(s,1)):(this.$set(t,"selected",!0),-1===s&&i.push(e)),this.picked(i)},showYear(){let t=Fm()(this.currentMoment).year(),e=Fm()().year();t=e<t?e:t,this.year=[];let s=[];for(let i=t;i<t+10;++i)s.push(i);this.year=s,this.displayType="year",this.$nextTick((()=>{this.addYear()}))},addYear(){let t=this.$refs.yearList;t.focus(),t.addEventListener("scroll",(()=>{if(t.scrollTop<t.scrollHeight-100){let t=this.year.length,e=this.year[t-1];this.year.push(e+1)}}),!1)},setYear(t){this.currentMoment=Fm()(t+"-"+this.currentMonth+"-"+this.currentDay,$),this.showDay(this.currentMoment)},setMonth(t){let e=this.month.indexOf(t)+1;e<10&&(e="0"+e),this.currentMoment=Fm()(this.currentYear+"-"+e+"-"+this.currentDay,$),this.showDay(this.currentMoment)},picked(t){this.$emit("input",t),this.$emit("change",t)}}},Wm=Gm,Rm=(0,K.Z)(Wm,zm,Um,!1,null,null,null),Hm=Rm.exports,qm={name:"blackoutDateSelectAndView",components:{MultiDatePicker:Hm,Empty:$e},props:["value","saving","readonly"],data(){return{moment:H(),selectedDates:[]}},mounted(){this.selectedDates=this.value},watch:{selectedDates(t){this.$emit("input",t)},value(t,e){t.join(",")!==e.join(",")&&(this.selectedDates=this.value)}},computed:{allDateData(){if(!this.readonly)return this.selectedDates.map((t=>({date:t,readonly:!1})));let t=new Set(this.readonly),e=new Set([...this.selectedDates,...this.readonly]);return e=Array.from(e),e.sort(),e.map((e=>({date:e,readonly:t.has(e)})))},date(){return{time:H()().tz(this.settings.global.timzone_string).format($)}},limit(){return[{type:"fromto",from:H()().tz(this.settings.global.timezone_string).subtract(1,"day").format($)}]},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{deleteDate(t){let e=this.selectedDates.filter((e=>e!==t));this.selectedDates=e}}},Zm=qm,Km=(0,K.Z)(Zm,Nm,jm,!1,null,"3774de16",null),Vm=Km.exports,Ym={name:"settingsBlackout",components:{NoPermission:ze,viewSelector:Im,dateSelectAndList:Vm,SettingsHeader:El,SettingNotEnabled:_d,Loading:nt},data(){return{moment:H(),quickSaving:!1,saving:!1,limit:[]}},mounted(){Ye().isEmpty(this.settings.blackout_dates)&&this.fetchBlackoutSettings(),this.getGuides({"ssasc-plugin-screen":z.blackout})},beforeRouteLeave(t,e,s){this.saving=!0,this.updateBlackoutSettings().then((()=>{this.saving=!1,s()}))},watch:{blackout_dates:{handler:function(t,e){t.length!==e.length&&this.quickSaveDates()},deep:!0}},computed:{blackout_dates:{get(){return Ye().sortBy(this.settings.blackout_dates.dates,(t=>H()(t).format($)))},set(t){this.updateBlackoutDates({settings:this.settings,value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{quickSaveDates:Ye().debounce((function(){this.quickSaving=!0,this.updateBlackoutSettings().then((()=>{this.quickSaving=!1,this.$refs.savedMessage&&this.$refs.savedMessage.open()}))}),3e3),...(0,o.nv)(["fetchSettings"]),...(0,o.OI)("blackout",["updateBlackoutDates"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("blackout",["fetchBlackoutSettings","updateBlackoutSettings"])}},Jm=Ym,Xm=(0,K.Z)(Jm,Pm,Dm,!1,null,null,null),Qm=Xm.exports,tu=function(){var t=this,e=t._self._c;return e("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[t.currentUserCanBlackout?t.loading?e("loading",{attrs:{message:t.translations.settings.blackout.loading}}):[t.currentUserCan("ssa_manage_settings")?e("settings-header"):t._e(),t.settings.blackout_dates.enabled?[t.saving?e("loading",{attrs:{message:t.translations.settings.blackout.saving}}):e("fieldset",{staticStyle:{padding:"0"}},[e("view-selector"),e("date-select-and-list",{attrs:{readonly:t.global_blackout_dates,saving:t.quickSaving},on:{input:t.handleUpdatedValue},model:{value:t.blackout_dates,callback:function(e){t.blackout_dates=e},expression:"blackout_dates"}})],1)]:e("setting-not-enabled")]:e("no-permission"),e("md-snackbar",{ref:"savedMessage",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.settings.blackout.saved))])])],2)},eu=[],su={name:"settingsBlackoutStaff",components:{NoPermission:ze,viewSelector:Im,dateSelectAndList:Vm,SettingsHeader:El,SettingNotEnabled:_d,Loading:nt},props:["staffId"],data(){return{loading:!0,limit:[],moment:H(),quickSaving:!1,saving:!1,staffSwitched:!1}},mounted(){"undefined"===typeof this.staff?this.fetchStaff().then((()=>{this.matchCurrentStaff(),this.loading=!1})).catch(((t,e)=>{console.log(e)})):(this.matchCurrentStaff(),this.staffSwitched=!0,this.loading=!1)},beforeRouteEnter(t,e,s){s((i=>{i.navigationGuard(t,e,s)}))},beforeRouteUpdate(t,e,s){this.navigationGuard(t,e,s)},beforeRouteLeave(t,e,s){this.saving=!0,this.saveStaff().then((()=>{this.saving=!1,s()}))},watch:{staffId(){this.saving=!0,this.saveStaff().then((()=>{this.saving=!1,this.matchCurrentStaff(),this.staffSwitched=!0}))}},computed:{blackout_dates:{get(){return this.currentStaff&&this.currentStaff.blackout_dates&&this.currentStaff.blackout_dates.dates?Ye().sortBy(this.currentStaff.blackout_dates.dates,(t=>H()(t).format($))):[]},set(t){this.setStaffBlackoutDates(t)}},currentUserCanBlackout(){return this.currentUserCan("ssa_manage_staff")||this.currentUserCan("ssa_manage_staff_blackout_dates")},global_blackout_dates(){return Ye().sortBy(this.settings.blackout_dates.dates,(t=>H()(t).format($)))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("staff",["currentStaff","staff"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsStaff","currentUserStaffId","staffModule"])},methods:{handleUpdatedValue(){this.staffSwitched?this.staffSwitched=!1:this.quickSaveDates()},matchCurrentStaff(){this.setCurrentStaff(this.staff.find((t=>t.id===this.staffId)))},navigationGuard(t,e,s){this.currentUserCan("ssa_manage_staff")?s():this.currentUserIsStaff?this.$router.push("/ssa/settings/blackout/"+this.currentUserStaffId):this.$router.push("/ssa")},quickSaveDates:Ye().debounce((function(){this.quickSaving=!0,this.saveStaff().then((()=>{this.quickSaving=!1,this.$refs.savedMessage&&this.$refs.savedMessage.open()}))}),3e3),...(0,o.nv)(["fetchSettings"]),...(0,o.nv)("staff",["fetchStaff","saveStaff"]),...(0,o.OI)("staff",["setCurrentStaff","setStaffBlackoutDates"])}},iu=su,nu=(0,K.Z)(iu,tu,eu,!1,null,"6218fffc",null),au=nu.exports,ou=[{path:"blackout",name:"settings-blackout",component:Qm},{path:"blackout/:staffId",name:"settings-blackout-staff",component:au,props:!0}],ru=function(){var t=this,e=t._self._c;return e("div",{staticClass:"notifications-all"},[e("router-view",{on:{saved:t.backToList}})],1)},lu=[],pu={name:"notificationsAll",data(){return{}},methods:{backToList(){this.$router.push("/ssa/settings/notifications/list")}}},du=pu,cu=(0,K.Z)(du,ru,lu,!1,null,null,null),mu=cu.exports,uu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"notifications-settings"},[e("settings-header"),t.settings.notifications.enabled?[e("md-toolbar",{staticClass:"md-transparent"},[e("div",{staticStyle:{flex:"1"}},[e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.notifications.title))])]),e("md-button",{staticClass:"md-primary",on:{click:t.addNotification}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.notifications.actions.addNew)+" ")],1)],1),t.smsModule.installed?e("md-card",{staticClass:"settings",class:{disabled:!t.sms_enabled},attrs:{"md-with-hover":t.sms_enabled},nativeOn:{click:function(e){return t.maybeEdit.apply(null,arguments)}}},[e("md-card-header",[e("md-card-media",[e("img",{attrs:{src:t.api.admin_static_url+"/images/settings-sms.svg",alt:"SMS"}})]),e("md-card-header-text",[e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.sms.title))]),t.smsModule.enabled&&!t.smsModule.active?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.sms.noConnection)+" ")]):t.smsModule.enabled&&t.settings.sms.twilio_test_mode_enabled?e("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.sms.testModeWarning)+" ")]):t._e()],1)],1),e("md-card-actions",{staticClass:"split-actions"},[e("md-switch",{attrs:{id:"sms","md-theme":"reverse"},nativeOn:{click:function(e){return e.stopPropagation(),t.doNothing.apply(null,arguments)}},model:{value:t.sms_enabled,callback:function(e){t.sms_enabled=e},expression:"sms_enabled"}},[e("span",{staticClass:"screen-reader-text"},[t._v(t._s(t.translations.settings.enable)+" "+t._s(t.translations.settings.sms.title))])]),e("span",{staticStyle:{flex:"1"}}),e("md-button",{on:{click:t.editSms}},[t._v(" "+t._s(t.translations.actions.edit)+" "),e("div",{staticClass:"screen-reader-text"},[t._v(t._s(t.translations.settings.sms.title))])])],1)],1):t._e(),t.smsModule.installed?t._e():e("md-card",{staticClass:"settings disabled",attrs:{"md-with-hover":t.sms_enabled},nativeOn:{click:function(e){return t.showUpgrade.apply(null,arguments)}}},[e("md-card-header",[e("md-card-media",[e("img",{attrs:{src:t.api.admin_static_url+"/images/settings-sms.svg",alt:"SMS"}})]),e("md-card-header-text",[e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.sms.title))])])],1),e("md-card-actions",{staticClass:"split-actions"},[e("md-switch",{attrs:{disabled:""}}),e("span",{staticStyle:{flex:"1"}}),e("md-button",{on:{click:t.showUpgrade}},[t._v(" "+t._s(t.translations.actions.edit)+" "),e("div",{staticClass:"screen-reader-text"},[t._v(t._s(t.translations.settings.sms.title))])])],1)],1),e("md-dialog",{ref:"upgradeSMS"},[e("promo-sms",{attrs:{"upgrade-url-params":t.smsUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialog}})],1),t.settings.notifications.notifications.length?[e("notification-filter"),t.filteredNotifications.length?e("md-list",{staticClass:"md-double-line notification-list"},t._l(t.filteredNotifications,(function(s){return e("list-item",{key:s.id,attrs:{notification:s},on:{edit:t.editNotification,clone:t.cloneNotification,delete:t.confirmDelete}})})),1):e("empty",{attrs:{label:t.translations.settings.notifications.filter.empty_label,description:t.translations.settings.notifications.filter.empty_desc}})]:e("empty",{attrs:{label:t.translations.settings.notifications.empty}},[e("md-button",{staticClass:"md-primary md-raised",on:{click:t.addNotification}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.notifications.actions.addNew)+" ")],1)],1),e("md-dialog",{ref:"confirmDelete"},[e("md-dialog-title",[t._v(t._s(t.translations.settings.notifications.confirmDelete))]),t.deletedId||0===t.deletedId?e("md-dialog-content",[t._v(" "+t._s(t.settings.notifications.notifications[t.deletedIndex].title)+" ")]):t._e(),e("md-dialog-actions",[e("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.settings.notifications.confirmDeleteCancel))]),e("md-button",{on:{click:t.deleteNotification}},[t._v(t._s(t.translations.settings.notifications.confirmDeleteOk))])],1)],1),e("md-dialog",{ref:"enableSetting"},[e("md-dialog-title",[t._v(t._s(t.translations.settings.sms.title))]),e("md-dialog-content",[e("p",[t._v(t._s(t.translations.settings.disabledWarning))])]),e("md-dialog-actions",[e("md-button",{on:{click:t.closeDialogs}},[t._v(t._s(t.translations.general.cancel))]),e("md-button",{staticClass:"md-primary",on:{click:t.enableThis}},[t._v(t._s(t.translations.settings.enable))])],1)],1)]:e("setting-not-enabled")],2)},hu=[],gu=function(){var t=this,e=t._self._c;return e("md-list-item",{class:{"foxy-saving":t.saving}},[e("md-switch",{attrs:{id:"notification-"+t.notification.id,"md-theme":"reverse",disabled:t.saving},model:{value:t.notificationActive,callback:function(e){t.notificationActive=e},expression:"notificationActive"}},[e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.displayTitle(t.notification))+" "+t._s(t.translations.settings.notifications.triggers[t.notification.trigger]))])]),e("div",{staticClass:"md-list-text-container",on:{click:t.edit}},[e("span",[t._v(" "+t._s(t.displayTitle(t.notification))+" "),t.smsModule.active?["email"===t.notification.type?e("md-icon",{staticClass:"small md-primary"},[t._v(" email ")]):"sms"===t.notification.type?e("md-icon",{staticClass:"small md-primary"},[t._v(" sms ")]):t._e()]:t._e()],2),e("span",[t.remindersInstalled&&t.notification.duration>0?[t._v(" "+t._s(t.displayDuration(t.notification.duration)+" "+t.translations.settings.notifications.when[t.notification.when].toLowerCase()+" ")+" ")]:t._e(),t._v(" "+t._s(t.translations.settings.notifications.triggers[t.notification.trigger])+" ")],2)]),e("md-menu",{attrs:{"md-direction":"bottom left"}},[e("md-button",{staticClass:"md-icon-button md-list-action md-primary",attrs:{"md-menu-trigger":""}},[e("md-icon",{staticClass:"md-primary"},[t._v(" settings ")])],1),e("md-menu-content",[e("md-menu-item",{on:{click:t.edit}},[e("md-icon",{staticClass:"md-primary"},[t._v("edit")]),e("span",[t._v(t._s(t.translations.actions.edit))])],1),e("md-menu-item",{on:{click:t.clone}},[e("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),e("span",[t._v(t._s(t.translations.actions.clone))])],1),e("md-menu-item",{on:{click:t.deleteThis}},[e("md-icon",{staticClass:"md-primary"},[t._v("delete")]),e("span",[t._v(t._s(t.translations.actions.delete))])],1)],1)],1)],1)},_u=[],fu={name:"notificationListItem",props:["notification"],data(){return{saving:!1}},computed:{notificationActive:{get(){return!Object.prototype.hasOwnProperty.call(this.notification,"active")||this.notification.active},set(t){let e=Ye().cloneDeep(this.notification);e.active=t,this.setSingleNotification({id:this.notification.id,notification:e,settings:this.settings,timestampFormat:this.timestampFormat}),this.saving=!0,this.saveNotificationSingle(this.notification.id).then((()=>{this.saving=!1}))}},...(0,o.rn)(["settings","timestampFormat"]),...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["displayDuration"]),...(0,o.Se)("notifications",["remindersInstalled","smsModule"])},methods:{clone(){this.$emit("clone",this.notification.id)},deleteThis(){console.log("list item is emitting delete",this.notification.id),this.$emit("delete",this.notification.id)},displayTitle(){return this.notification.title?this.notification.title:this.notification.subject},edit(){this.$emit("edit",this.notification.id)},...(0,o.nv)("notifications",["saveNotificationSingle"]),...(0,o.OI)("notifications",["setSingleNotification"])}},yu=fu,vu=(0,K.Z)(yu,gu,_u,!1,null,null,null),bu=vu.exports,ku=function(){var t=this,e=t._self._c;return e("div",{staticClass:"notification-filter"},[e("md-toolbar",{staticClass:"md-transparent"},[e("div",{staticStyle:{flex:"1"}}),e("md-button",{staticClass:"md-primary indicator-button",on:{click:t.toggleFilters}},[e("md-icon",[t._v("filter_list")]),t._v(" "+t._s(t.translations.settings.notifications.filter.filter)+" ")],1)],1),t.openFilters?e("fieldset",{ref:"filterToolbar",staticClass:"appointment-filter-bar"},[e("legend",{staticClass:"md-subheading"},[t._v(" "+t._s(t.translations.settings.notifications.filter.legend)+" ")]),e("div",{staticClass:"clear"}),e("div",{staticClass:"appointment-filter-bar-wrap"},[t.smsModule.enabled?e("div",{staticClass:"filter-field"},[e("md-input-container",[e("label",{attrs:{for:"notification-type"}},[t._v(" "+t._s(t.translations.settings.notifications.filter.fields.type)+" "),t.filter.notification_type.length?[t._v(" ("+t._s(t.filter.notification_type.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),e("md-select",{attrs:{name:"notification-type",id:"notification-type",multiple:""},model:{value:t.filterNotificationType,callback:function(e){t.filterNotificationType=e},expression:"filterNotificationType"}},[e("md-option",{attrs:{value:"email"}},[t._v(t._s(t.translations.settings.notifications.fields.email))]),e("md-option",{attrs:{value:"sms"}},[t._v(t._s(t.translations.settings.notifications.fields.sms))])],1)],1)],1):t._e(),e("div",{staticClass:"filter-field"},[e("md-input-container",[e("label",{attrs:{for:"appointment-type"}},[t._v(" "+t._s(t.translations.settings.notifications.filter.fields.appointment_type)+" "),t.filter.appointment_type.length?[t._v(" ("+t._s(t.filter.appointment_type.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),e("md-select",{attrs:{name:"appointment-type",id:"appointment-type",multiple:""},model:{value:t.filterAppointmentType,callback:function(e){t.filterAppointmentType=e},expression:"filterAppointmentType"}},t._l(t.editableAppointmentTypes,(function(s,i){return e("md-option",{key:i,attrs:{value:s.id}},[t._v(" "+t._s(s.title)+" ")])})),1)],1)],1)]),e("div",{staticClass:"appointment-filter-bar-wrap"},[e("div",{staticClass:"filter-field"},[e("md-input-container",[e("label",{attrs:{for:"trigger"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.trigger)+" "),t.filter.trigger.length?[t._v(" ("+t._s(t.filter.trigger.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),e("md-select",{attrs:{name:"trigger",id:"trigger",multiple:""},model:{value:t.filterTrigger,callback:function(e){t.filterTrigger=e},expression:"filterTrigger"}},t._l(t.notificationTriggers,(function(s,i){return e("md-option",{key:i,attrs:{value:s}},[t._v(" "+t._s(t.translations.settings.notifications.triggers[s])+" ")])})),1)],1)],1),e("div",{staticClass:"filter-field"},[e("md-input-container",[e("label",{attrs:{for:"sent-to"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.sentTo)+" "),t.filter.sent_to.length?[t._v(" ("+t._s(t.filter.sent_to.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),e("md-select",{attrs:{name:"sent-to",id:"sent-to",multiple:""},model:{value:t.filterSentTo,callback:function(e){t.filterSentTo=e},expression:"filterSentTo"}},t._l(t.sentToOptions,(function(s,i){return e("md-option",{key:i,attrs:{value:s}},[t._v(" "+t._s(s)+" ")])})),1)],1)],1),e("div",{staticClass:"filter-button"},[e("md-button",{staticClass:"md-primary",attrs:{disabled:!t.filterApplied},on:{click:t.resetFilter}},[e("md-icon",[t._v("delete_sweep")]),t._v(" "+t._s(t.translations.settings.notifications.filter.reset)+" ")],1)],1)])]):t._e()],1)},Cu=[],Su={name:"filterNotifications",data(){return{openFilters:!1,notificationTriggers:u}},beforeMount(){this.remindersInstalled&&(this.notificationTriggers=h)},mounted(){},computed:{filterAppointmentType:{get(){return this.filter.appointment_type},set(t){this.setFilter({key:"appointment_type",value:t})}},filterNotificationType:{get(){return this.filter.notification_type},set(t){this.setFilter({key:"notification_type",value:t})}},filterSentTo:{get(){return this.filter.sent_to},set(t){this.setFilter({key:"sent_to",value:t})}},filterTrigger:{get(){return this.filter.trigger},set(t){this.setFilter({key:"trigger",value:t})}},...(0,o.rn)("notifications",["filter"]),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("notifications",["filterApplied","remindersInstalled","sentToOptions","smsModule"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"])},methods:{resetFilter(){this.setFilter(y),this.openFilters=!1},toggleFilters(){this.openFilters=!this.openFilters},...(0,o.OI)("notifications",["setFilter"])}},wu=Su,Tu=(0,K.Z)(wu,ku,Cu,!1,null,null,null),xu=Tu.exports,Au=function(){var t=this,e=t._self._c;return e("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[e("md-card-media",[e("a",{attrs:{href:t.upgradeUrlParsed(t.proUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[e("img",{staticClass:"promo-img promo-plus",attrs:{src:t.api.admin_static_url+"/images/promo-sms.svg",alt:"Simply Schedule Appointments Plus"}})])]),e("md-card-header",[e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.promo.smsUpgrade.title)+" ")])]),e("md-card-content",[e("md-card-area",{attrs:{"md-inset":""}},[e("p",[t._v(" "+t._s(t.translations.promo.smsUpgrade.text)+" ")])]),e("md-card-actions",[e("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed(t.proUpgradeLink,t.upgradeUrlParams),target:"_blank"}},[t._v(" "+t._s(t.translations.promo.smsUpgrade.cta)+" ")])],1)],1)],1)},Pu=[],Du={name:"PromoSms",store:Ek,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default(){return{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"sms",utm_content:"sms-pro-popup"}}}},data(){return{slug:"promo-sms",proUpgradeLink:dt}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api"]),...(0,o.Se)(["upgradeUrlParsed"])},methods:{promoClicked(){this.$emit("promoClicked")}}},Mu=Du,Eu=(0,K.Z)(Mu,Au,Pu,!1,null,null,null),Lu=Eu.exports,Ou={name:"settingsNotifications",components:{SettingsHeader:El,Empty:$e,Notification:Ys,ListItem:bu,SettingNotEnabled:_d,NotificationFilter:xu,PromoSms:Lu},data(){return{deletedId:null,smsUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"sms",utm_content:"sms-settings-card-popup"}}},watch:{sms_enabled(){this.getNotificationGuides()}},mounted(){this.getNotificationGuides()},computed:{deletedIndex(){if(this.deletedId)return this.settings.notifications.notifications.findIndex((t=>t.id===this.deletedId))},sms_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"sms")&&(!!this.settings.sms.enabled&&!!this.settings.installed.sms)},set(t){this.setSmsEnabled({settings:this.settings,payload:t}),this.saveSmsSettings()}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.Se)("notifications",["filteredNotifications","remindersInstalled","smsModule"])},methods:{addNotification(){this.$router.push({name:"notification-single"})},cancelDelete(){this.$refs["confirmDelete"].close()},cloneNotification(t){this.cloneSettingsNotification({settings:this.settings,id:t});let e=this.settings.notifications.notifications[this.settings.notifications.notifications.length-1].id;this.saveNotificationSingle(e),this.$router.push({name:"notification-single",params:{id:e}})},closeDialogs(){this.$refs["enableSetting"].close()},confirmDelete(t){this.deletedId=t,this.$refs["confirmDelete"].open()},deleteNotification(){this.deleteNotificationSingle(this.deletedId),this.deletedId=null,this.$refs["confirmDelete"].close()},displayTitle(t){return t.title?t.title:t.subject},doNothing(){},editNotification(t){this.$router.push({name:"notification-single",params:{id:t}})},editSms(){this.$router.push("/ssa/settings/notifications/sms")},enableThis(){this.sms_enabled=!0,this.editSms()},maybeEdit(){this.sms_enabled?this.editSms():this.$refs["enableSetting"].open()},getNotificationGuides(){let t=[z.notifications.list];this.smsModule.installed&&this.smsModule.enabled&&t.push(z.notifications.sms_enabled),this.getGuides({"ssasc-plugin-screen":t})},closeDialog(){this.$refs["upgradeSMS"].close()},showUpgrade(){this.$refs["upgradeSMS"].open()},...(0,o.OI)("notifications",["cloneSettingsNotification","deleteSettingsNotification","setSmsEnabled"]),...(0,o.nv)("notifications",["deleteNotificationSingle","saveNotificationSingle","saveSmsSettings"]),...(0,o.nv)("guides",["getGuides"])}},$u=Ou,Iu=(0,K.Z)($u,uu,hu,!1,null,null,null),Nu=Iu.exports,ju=function(){var t=this,e=t._self._c;return e("form",{staticClass:"notification-edit"},[e("md-button",{on:{click:t.cancelEdit}},[e("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1),e("md-dialog",{ref:"confirmLeaveDirty"},[e("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.notifications.confirmIgnoreChangesTitle)}}),e("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.notifications.confirmIgnoreChangesContent)}}),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.notifications.confirmIgnoreChangesCancel))]),e("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.notifications.confirmIgnoreChangesOkay))])],1)],1),e("md-dialog",{ref:"noPhoneFields"},[e("md-dialog-title",[t._v(t._s(t.translations.settings.sms.noPhoneFieldsTitle))]),e("md-dialog-content")],1),e("h2",{staticClass:"md-title"},[t.id||0===t.id?[e("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}}),t._v(" "+t._s(t.translations.settings.notifications.actions.edit)+" ")]:[t._v(" "+t._s(t.translations.settings.notifications.actions.addNew)+" ")]],2),e("md-input-container",[e("label",{attrs:{for:"title"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.title)+" ")]),e("md-input",{attrs:{id:"title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t.smsModule.active||!t.smsModule.installed?e("fieldset",{staticClass:"check-list"},[e("legend",[t._v(" "+t._s(t.translations.settings.notifications.fields.type)+" ")]),e("md-radio",{attrs:{id:"type-email",name:"type-email","md-value":"email"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.email)+" ")]),e("md-radio",{attrs:{disabled:!t.smsModule.installed,id:"type-sms",name:"type-sms","md-value":"sms"},nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.sms)+" "),t.smsModule.installed?t._e():e("span",{staticClass:"link-hint"},[t._v(" "+t._s(t.translations.promo.smsUpgrade.radioHint)+" ")])])],1):t._e(),"sms"===t.type?e("fieldset",{staticClass:"md-fieldset check-list",class:{"md-fieldset-invalid":!t.validSmsTo}},[e("legend",[t._v(" "+t._s(t.translations.settings.notifications.fields.smsTo)+" ")]),t.validSmsTo?t._e():e("p",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.notifications.messages.smsToError)+" ")]),e("ul",[e("li",[t.settings.global.admin_phone?e("foxy-checkbox-multi",{staticClass:"mdc-theme-name--light-green",attrs:{id:"admin-phone",value:"{{ admin_phone }}"},model:{value:t.sms_to,callback:function(e){t.sms_to=e},expression:"sms_to"}},[t._v(" "+t._s(t.translations.settings.general.phone)+" ")]):[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),e("span",[t._v(" "+t._s(t.translations.settings.notifications.messages.noAdminPhone)+" "),e("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v("Add phone")])],1)]],2),e("li",[t.settings.installed.staff&&t.settings.staff.enabled?e("foxy-checkbox-multi",{staticClass:"mdc-theme-name--light-green",attrs:{id:"team-member-phone",value:"{{ team_member_phone }}"},model:{value:t.sms_to,callback:function(e){t.sms_to=e},expression:"sms_to"}},[t._v(" "+t._s(t.translations.settings.notifications.team_member_phone)+" ")]):t._e()],1),e("li",[t.noPhone?[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),e("span",[t._v(" "+t._s(t.translations.settings.notifications.messages.noCustomerEmail)+" "),e("router-link",{attrs:{to:"/ssa/appointment-types/edit/customerInfo"}},[t._v(t._s(t.translations.settings.advanced_scheduling.editTypes))])],1)]:e("foxy-checkbox-multi",{staticClass:"mdc-theme-name--light-green",attrs:{id:"customer-phone",value:"{{ customer_phone }}"},model:{value:t.sms_to,callback:function(e){t.sms_to=e},expression:"sms_to"}},[t._v(" "+t._s(t.translations.settings.notifications.customer_phone)+" ")])],2)])]):[e("foxy-chip-set-editable",{attrs:{"error-text":t.translations.settings.notifications.messages.sentToError,label:t.translations.settings.notifications.fields.sentTo,options:t.emailOptions,theme:"light-green",theming:"primary","valid-add":t.validTo,required:!0},on:{validateBeforeAdd:t.validateTo},model:{value:t.sent_to,callback:function(e){t.sent_to=e},expression:"sent_to"}}),e("p",[e("md-button",{staticClass:"md-primary md-link",on:{click:t.toggleShowCc}},[t._v(t._s(t.translations.settings.notifications.ccSent))])],1),t.showCc?[e("foxy-chip-set-editable",{attrs:{"error-text":t.translations.settings.notifications.messages.sentToError,label:t.translations.settings.notifications.fields.cc,options:t.emailOptions,theme:"light-green",theming:"primary","valid-add":t.validCc},on:{validateBeforeAdd:t.validateCc},model:{value:t.cc,callback:function(e){t.cc=e},expression:"cc"}}),e("foxy-chip-set-editable",{attrs:{"error-text":t.translations.settings.notifications.messages.sentToError,label:t.translations.settings.notifications.fields.bcc,options:t.emailOptions,theme:"light-green",theming:"primary","valid-add":t.validBcc},on:{validateBeforeAdd:t.validateBcc},model:{value:t.bcc,callback:function(e){t.bcc=e},expression:"bcc"}})]:t._e()],t.remindersInstalled?e("fieldset",{staticClass:"md-fieldset contains-layout"},[e("legend",[t._v(t._s(t.translations.settings.notifications.fields.triggerLegend))]),e("md-layout",{attrs:{"md-gutter":!0}},[e("md-layout",[e("duration",{attrs:{allowNull:!0,"error-text":t.durationError},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}})],1),e("md-layout",[e("md-input-container",[e("label",{attrs:{for:"when"}},[t._v(t._s(t.translations.settings.notifications.fields.when))]),e("md-select",{attrs:{id:"when",disabled:t.disableWhen},model:{value:t.when,callback:function(e){t.when=e},expression:"when"}},[e("md-option",{attrs:{value:"after"}},[t._v(t._s(t.translations.settings.notifications.when.after))]),e("md-option",{attrs:{value:"before"}},[t._v(t._s(t.translations.settings.notifications.when.before))])],1)],1)],1),e("md-layout",[e("md-input-container",[e("label",{attrs:{for:"trigger"}},[t._v(t._s(t.translations.settings.notifications.fields.trigger))]),e("md-select",{attrs:{id:"trigger",required:!0},model:{value:t.trigger,callback:function(e){t.trigger=e},expression:"trigger"}},t._l(t.notificationTriggers,(function(s){return e("md-option",{key:s,attrs:{value:s}},[t._v(" "+t._s(t.translations.settings.notifications.triggers[s])+" ")])})),1)],1)],1)],1),e("transition",{attrs:{name:"fade"}},[t.showWarning?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(t._s(t.translations.settings.notifications.warnings.cronWarning)+" "),e("a",{attrs:{href:"https://simplyscheduleappointments.com/document/notifications-and-wordpress-cron/",target:"_blank"}},[t._v(t._s(t.translations.settings.notifications.warnings.cronLinkText))])]):t._e()],1)],1):e("md-input-container",{class:{"md-input-invalid":!t.validTrigger}},[e("label",{attrs:{for:"trigger"}},[t._v(t._s(t.translations.settings.notifications.fields.trigger))]),e("md-select",{attrs:{id:"trigger",required:""},model:{value:t.trigger,callback:function(e){t.trigger=e},expression:"trigger"}},t._l(t.notificationTriggers,(function(s){return e("md-option",{key:s,attrs:{value:s}},[t._v(" "+t._s(t.translations.settings.notifications.triggers[s])+" ")])})),1),t.validTrigger?t._e():e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.notifications.messages.triggerError))])],1),e("fieldset",{staticClass:"md-fieldset",class:{"md-fieldset-invalid":!t.validAppointmentTypes}},[e("legend",[t._v(t._s(t.translations.settings.appointmentTypesTitle))]),t.validAppointmentTypes?t._e():e("p",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.notifications.messages.appointmentTypesError))]),t.noPhone?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.sms.noPhoneFields)+" ")]):t.notAllPhone?e("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.sms.onlyPhoneFields)+" ")]):t._e(),e("md-list",[t.notAllPhone?t._e():e("md-list-item",[e("md-checkbox",{on:{change:t.toggleAll},model:{value:t.all,callback:function(e){t.all=e},expression:"all"}},[t._v(t._s(t.translations.settings.appointmentTypeAll))])],1),t.all?t._e():t._l(t.appointmentTypeOptions,(function(s){return e("md-list-item",{key:s.id},[e("md-checkbox",{staticClass:"md-primary",attrs:{id:"type-"+s.id,name:"appointment-types","md-value":s.id},model:{value:t.appointment_types,callback:function(e){t.appointment_types=e},expression:"appointment_types"}},[t._v(" "+t._s(s.title)+" ")])],1)}))],2)],1),"email"===t.type?e("fieldset",{staticClass:"md-fieldset has-top-menu required",class:{"md-fieldset-invalid":!t.validSubject}},[e("legend",[t._v(" "+t._s(t.translations.settings.notifications.fields.subject)+" ")]),e("token-text",{attrs:{options:t.notificationTokens,required:!0},on:{validate:t.validateSubject},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1):t._e(),e("fieldset",{staticClass:"md-fieldset has-top-menu required",class:{"md-fieldset-invalid":!t.validMessage}},[e("legend",[t._v(t._s(t.translations.settings.notifications.fields.message))]),e("token-text",{attrs:{options:t.notificationTokens,required:!0,showPreview:!1},on:{validate:t.validateMessage},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),e("fieldset",{staticClass:"md-fieldset has-top-menu required"},[e("preview",{attrs:{message:t.message,selectedAppointmentTypes:t.appointment_types}})],1),e("div",{staticClass:"button-bar"},[e("md-button",{staticClass:"md-raised",on:{click:t.cancelEdit}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.isValid},on:{click:t.saveNotification}},[t._v(" "+t._s(t.translations.general.save)+" ")]),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),e("notification-details",{attrs:{title:t.translations.settings.notifications.tokenDetailsTitle,description:t.translations.settings.notifications.tokenDetails}}),e("md-dialog",{ref:"upgradeSms"},[e("promo-sms",{attrs:{dismissable:!1},on:{promoClicked:t.closeDialog}})],1)],2)},zu=[],Uu=function(){var t=this,e=t._self._c;return e("span",{staticClass:"mdc-evolution-chip mdc-theme-name--light-green",class:{"mdc-ripple-upgraded--background-focused":t.focused},attrs:{role:"presentation",id:t.id}},[e("span",{staticClass:"mdc-evolution-chip__cell mdc-evolution-chip__cell--primary",attrs:{role:"gridcell"}},[e("button",{staticClass:"mdc-evolution-chip__action mdc-evolution-chip__action--primary",attrs:{type:"button",tabindex:"0","data-mdc-deletable":"true","aria-label":"Press backspace or delete to remove"}},[e("span",{staticClass:"mdc-evolution-chip__ripple mdc-evolution-chip__ripple--primary"}),e("span",{staticClass:"mdc-evolution-chip__text-label"},[t._v(t._s(t.value))])])]),t.trailingIcon?e("button",{staticClass:"mdc-evolution-chip__action mdc-evolution-chip__action--trailing",attrs:{type:"button",tabindex:"-1","data-mdc-deletable":"true","aria-hidden":"true"},on:{click:function(e){return t.$emit("remove",t.id)}}},[e("span",{staticClass:"mdc-evolution-chip__ripple mdc-evolution-chip__ripple--trailing"}),e("span",{staticClass:"mdc-evolution-chip__icon mdc-evolution-chip__icon--trailing material-icons"},[t._v(t._s(t.trailingIcon))])]):t._e()])},Bu=[],Fu={name:"mdc-chp",mixins:[jd,Id],props:{value:[String],focused:[Boolean],leadingIcon:[String],trailingIcon:[String]},data(){return{}},computed:{id(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}},Gu=Fu,Wu=(0,K.Z)(Gu,Uu,Bu,!1,null,null,null),Ru=Wu.exports,Hu=function(){var t=this,e=t._self._c;return e("div",{class:t.classes,attrs:{role:"listbox","aria-orientation":"horizontal","aria-multiselectable":"true"}},[e("span",{ref:"chips",staticClass:"mdc-evolution-chip-set__chips",attrs:{role:"presentation"}},t._l(t.chips,(function(s,i){return e("foxy-chip",{key:i,attrs:{theming:t.theming,theme:t.theme,"trailing-icon":t.trailingIcon,"leading-icon":t.leadingIcon,value:s,focused:t.focused===s},on:{remove:t.handleRemove}})})),1)])},qu=[],Zu=s(8736),Ku={name:"mdc-chip-set",props:{chips:[Array],focused:[String],input:[Boolean],newChip:[Object],trailingIcon:[String],leadingIcon:[String]},mixins:[jd,Id],components:{FoxyChip:Ru},data(){return{mdcChipSet:void 0,classes:{"mdc-evolution-chip-set":!0,"mdc-evolution-chip-set--input":this.input}}},watch:{newChip(t){this.handleAdd(t)}},mounted(){this.mdcChipSet=new Zu.Q(this.$el),this.mdcChipSet.listen("MDCChipSet:removal",this.handleRemove)},beforeDestroy(){this.mdcChipSet.unlisten("MDCChipSet:removal",this.handleRemove),this.mdcChipSet.destroy()},methods:{handleAdd(t){this.$emit("addChip",t.text)},handleRemove(t){const e=this.$el.querySelector('.mdc-evolution-chip[id="'+t+'"] .mdc-evolution-chip__text-label').innerHTML.trim();this.$emit("removeChip",e)}}},Vu=Ku,Yu=(0,K.Z)(Vu,Hu,qu,!1,null,null,null),Ju=Yu.exports,Xu=function(){var t=this,e=t._self._c;return e("fieldset",{class:t.containerClasses},[e("legend",[t._v(" "+t._s(t.label)+" ")]),e("div",{class:t.chipContainerClasses,on:{click:t.focusInput}},[e("foxy-chip-set",{ref:"chipSet",attrs:{chips:t.componentValue,focused:t.focused,input:!0,"new-chip":t.addedChip,theme:t.theme,theming:t.theming,"trailing-icon":"close"},on:{removeChip:t.removeChip,addChip:t.addChip},nativeOn:{keydown:function(e){return t.backspaceRemoveChip.apply(null,arguments)}}}),e("label",[e("span",{staticClass:"screen-reader-text"}),e("input",{ref:"chipInput",attrs:{type:"text"},on:{focus:function(e){return t.setFocus(!0,e)},blur:function(e){return t.setFocus(!1,e)},keydown:t.handleInput}})]),t.displayOptions.length?e("foxy-menu",{attrs:{options:t.displayOptions,icon:"email"},on:{selection:t.handleTokenSelection}}):t._e()],1),e("div",{staticClass:"helper-text"},[t.validAdd&&t.helpText?[t._v(" "+t._s(t.helpText)+" ")]:!t.validAdd&&t.errorText?[t._v(" "+t._s(t.errorText)+" ")]:t._e()],2)])},Qu=[],th={name:"mdc-chip-set-editable",props:{errorText:[String],helpText:[String],label:[String],options:[Array],required:[Boolean],value:[Array],validAdd:[Boolean]},mixins:[jd],components:{FoxyChipSet:Ju,FoxyMenu:Yd},data(){return{addedChip:null,componentValue:this.value.slice(0),hasFocus:!1,focused:null}},watch:{value(){this.componentValue=this.value.slice(0)}},computed:{containerClasses(){return{"md-fieldset":!0,"field-wrapper":!0,invalid:!this.validAdd,required:this.required}},chipContainerClasses(){return{"editable-chip-set":!0,"has-focus":this.hasFocus}},displayOptions(){return this.options.filter((t=>this.value.indexOf(t)<0))}},methods:{addChip(t){let e=this.value.slice(0);e.push(t),this.$emit("input",e)},backspaceRemoveChip(t){"Backspace"!==t.key&&8!==t.keyCode||!document.activeElement.classList.contains("mdc-evolution-chip")||this.removeLastChip()},focusInput(){this.$refs.chipInput.focus(),this.focused=null},handleInput(t){let e=!1,s=t.target.value.trim();if(!s.length)return this.$emit("validateBeforeAdd",""),void("keydown"!==t.type||"Backspace"!==t.key&&8!==t.keyCode||this.focusLastChip());"keydown"!==t.type||"Enter"!==t.key&&13!==t.keyCode&&","!==t.key&&188!==t.keyCode||(e=!0,t.preventDefault()),"blur"===t.type&&(e=!0),e&&(this.$emit("validateBeforeAdd",s),this.$nextTick((()=>{this.validAdd&&(this.addedChip={text:s},t.target.value="")})))},removeChip(t){let e=this.value.findIndex((e=>e===t)),s=this.value.slice(0);s.splice(e,1),this.$emit("input",s)},focusLastChip(){if(this.focused)return void this.removeLastChip();let t=this.value[this.value.length-1],e=this.$refs.chipSet.$el,s=e.querySelector(".mdc-evolution-chip:last-child");s&&(this.focused=t,s.focus())},handleTokenSelection(t){this.addedChip={text:t.detail.item.innerText}},removeLastChip(){this.removeChip(this.focused),this.focusInput()},setFocus(t,e){this.hasFocus=t,t||this.handleInput(e)}}},eh=th,sh=(0,K.Z)(eh,Xu,Qu,!1,null,null,null),ih=sh.exports,nh=(zd({FoxyChip:Ru,FoxyChipSet:Ju,FoxyChipSetEditable:ih}),function(){var t=this,e=t._self._c;return e("foxy-form-field",[e("div",{ref:"checkbox",staticClass:"mdc-checkbox"},[e("input",t._b({staticClass:"mdc-checkbox__native-control",attrs:{type:"checkbox",id:t.id},domProps:{checked:t.shouldBeChecked,value:t.value},on:{change:t.updateInput}},"input",t.$attrs,!1)),e("div",{staticClass:"mdc-checkbox__background"},[e("svg",{staticClass:"mdc-checkbox__checkmark",attrs:{viewBox:"0 0 24 24"}},[e("path",{staticClass:"mdc-checkbox__checkmark-path",attrs:{fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}})]),e("div",{staticClass:"mdc-checkbox__mixedmark"})])]),e("label",{attrs:{for:t.id}},[t._t("default")],2)])}),ah=[],oh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mdc-form-field",class:t.classes},[t._t("default")],2)},rh=[],lh=s(901),ph={props:{alignEnd:{type:Boolean,default:!1}},data(){return{mdcFormField:void 0}},mounted(){this.mdcFormField=new lh.b(this.$el)},beforeDestroy(){this.mdcFormField.destroy()},computed:{classes(){return{"mdc-form-field--align-end":this.alignEnd}}}},dh=ph,ch=(0,K.Z)(dh,oh,rh,!1,null,null,null),mh=ch.exports,uh=s(3272),hh={name:"foxy-checkbox-multi",components:{FoxyFormField:mh},mixins:[Id,jd],model:{prop:"modelValue",event:"change"},props:{value:{type:String},modelValue:{type:Array,default:()=>[]},id:{type:String,required:!0}},data(){return{mdcCheckbox:void 0}},mounted(){this.mdcCheckbox=new uh.B(this.$refs.checkbox)},beforeDestroy(){this.mdcCheckbox.destroy()},computed:{shouldBeChecked(){return this.modelValue.includes(this.value)}},methods:{updateInput(t){let e=t.target.checked,s=[...this.modelValue];e?s.push(this.value):s.splice(s.indexOf(this.value),1),this.$emit("change",s)}}},gh=hh,_h=(0,K.Z)(gh,nh,ah,!1,null,null,null),fh=_h.exports,yh=(zd({FoxyCheckboxMulti:fh}),function(){var t=this,e=t._self._c;return e("form",{staticClass:"preview"},[t.loading?e("loading",{attrs:{message:t.translations.settings.notifications.preview.gettingAppointments}}):[e("div",{staticClass:"preview-wrapper"},[e("div",{staticClass:"preview-description"},[e("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.notifications.preview.title))]),t.matchingAppointments.length?e("md-input-container",[e("label",{attrs:{for:"appointment"}},[t._v(t._s(t.translations.settings.notifications.preview.selectAppointment))]),e("select2",{attrs:{name:"appointment",id:"appointment",disabled:t.fetching},on:{input:t.previewAppointment},model:{value:t.viewAppointment,callback:function(e){t.viewAppointment=e},expression:"viewAppointment"}},t._l(t.matchingAppointments,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(" "+t._s(s.customer_information.Name)+" ")])})),0)],1):e("md-input-container",[e("label",{attrs:{for:"appointmentType"}},[t._v(t._s(t.translations.settings.notifications.preview.selectAppointmentType))]),e("select2",{attrs:{name:"appointmentType",id:"appointmentType",disabled:t.fetching},on:{input:t.previewAppointmentType},model:{value:t.viewAppointmentType,callback:function(e){t.viewAppointmentType=e},expression:"viewAppointmentType"}},t._l(t.appointmentTypes,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(" "+t._s(s.title)+" ")])})),0)],1),e("p",[t._v(t._s(t.translations.settings.notifications.preview.description))])],1),e("md-card",{staticClass:"preview-container"},[t.fetching?e("loading",{attrs:{size:"title",message:t.translations.settings.notifications.preview.formattingPreview}}):e("div",{staticClass:"preview",domProps:{innerHTML:t._s(t.settings.notifications.preview)}})],1)],1)]],2)}),vh=[],bh={name:"NotificationPreview",props:["message","selectedAppointmentTypes"],components:{Loading:nt,select2:Ga},data(){return{fetching:!1,loading:!0,now:H().utc().locale("en").format("YYYY-MM-DD"),moment:H(),viewAppointment:null,viewAppointmentType:null,debouncePreview:null}},mounted(){if(this.upcomingAppointments&&this.upcomingAppointments.length)return this.loading=!1,this.selectDefaultAppointment(),void this.setDebouncePreview();this.fetchAppointments({end_date_min:this.now,order:"ASC",status:["booked"]}).then((()=>{this.loading=!1,this.selectDefaultAppointment(),this.setDebouncePreview()}))},watch:{message(){"function"===typeof this.debouncePreview&&this.debouncePreview()}},computed:{matchingAppointments(){let t=this.upcomingAppointments;return this.selectedAppointmentTypes.length&&(t=t.filter((t=>this.selectedAppointmentTypes.indexOf(t.appointment_type_id)>-1))),Ye().sortBy(t,(t=>t.date_created))},appointmentTypes(){let t=this.editableAppointmentTypes;return this.selectedAppointmentTypes.length&&(t=t.filter((t=>this.selectedAppointmentTypes.indexOf(t.id)>-1))),t},showTz(){let t=this.detectedTimezone;return t!==this.settings.global.timezone_string},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)(["detectedTimezone"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("appointments",["upcomingAppointments"])},methods:{previewAppointment(){this.viewAppointment?(this.fetching=!0,this.fetchNotificationPreview({template:this.message,appointment_id:this.viewAppointment}).then((()=>{this.fetching=!1}))):this.selectDefaultAppointment()},previewAppointmentType(){this.viewAppointmentType?(this.fetching=!0,this.fetchNotificationPreview({template:this.message,appointment_type_id:this.viewAppointmentType}).then((()=>{this.fetching=!1}))):this.selectDefaultAppointment()},selectDefaultAppointment(){this.matchingAppointments.length?(this.viewAppointment=this.matchingAppointments[0].id,this.previewAppointment()):this.selectedAppointmentTypes.length?(this.viewAppointmentType=this.selectedAppointmentTypes[0],this.previewAppointmentType()):(this.viewAppointmentType=this.appointmentTypes[0].id,this.previewAppointmentType())},setDebouncePreview(){this.debouncePreview=Ye().debounce((()=>{this.matchingAppointments.length?this.previewAppointment():this.previewAppointmentType()}),2e3)},...(0,o.nv)("notifications",["fetchNotificationPreview"]),...(0,o.nv)("appointments",["fetchAppointments"])}},kh=bh,Ch=(0,K.Z)(kh,yh,vh,!1,null,null,null),Sh=Ch.exports,wh={name:"notificationEdit",props:["id"],components:{duration:zn,FoxyChipSetEditable:ih,FoxyCheckboxMulti:fh,Notification:Ys,NotificationDetails:Pd,Preview:Sh,PromoSms:Lu,TokenText:rc},data(){return{all:!0,dirty:!1,emailOptions:[],saving:!1,showCc:!1,notification:{type:"email"},notificationTriggers:u,notificationEmailOptions:g,notificationStaffEmailOptions:_,notificationTokens:f,validAppointmentTypes:!0,validBcc:!0,validCc:!0,validMessage:!0,validSubject:!0,validTo:!0,validSmsTo:!0,validTrigger:!0,validDuration:!0,leaveWithoutSaving:!1}},beforeMount(){if(this.id||0===this.id){let t=this.settings.notifications.notifications.find((t=>t.id===this.id));this.notification=Ye().cloneDeep(t)}if(!Object.prototype.hasOwnProperty.call(this.notification,"id")||!this.notification.id){let t=new Date;this.$set(this.notification,"id",t.getTime())}Object.prototype.hasOwnProperty.call(this.notification,"appointment_types")||this.$set(this.notification,"appointment_types",[]),Object.prototype.hasOwnProperty.call(this.notification,"appointment_types")&&this.notification.appointment_types.length&&(this.all=!1),(this.notification.cc||this.notification.bcc)&&(this.showCc=!0),Object.prototype.hasOwnProperty.call(this.notification,"schema")||(this.notification.schema="2019-04-02"),this.remindersInstalled&&(this.notificationTriggers=h),this.emailOptions.length||(this.settings.installed.staff&&this.settings.staff.enabled?this.emailOptions=this.notificationStaffEmailOptions:this.emailOptions=this.notificationEmailOptions)},mounted(){document.execCommand("defaultParagraphSeparator",!1,"p"),this.getGuides({"ssasc-plugin-screen":this.guidesList})},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{notification:{handler:function(t,e){this.dirty=!Ye().isEmpty(e)},deep:!0},all(t){t&&(this.validAppointmentTypes=!0)}},computed:{active:{get(){return!Object.prototype.hasOwnProperty.call(this.notification,"active")||this.notification.active},set(t){this.$set(this.notification,"active",t)}},title:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"title")?this.notification.title:""},set(t){this.$set(this.notification,"title",t)}},type:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"type")?this.notification.type:"email"},set(t){this.$set(this.notification,"type",t),this.appointment_types=[],this.all=!this.notAllPhone}},sent_to:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"sent_to")?this.notification.sent_to:[]},set(t){this.$set(this.notification,"sent_to",t)}},sms_to:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"sms_to")?this.notification.sms_to:[]},set(t){this.$set(this.notification,"sms_to",t)}},cc:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"cc")?this.notification.cc:[]},set(t){this.$set(this.notification,"cc",t)}},bcc:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"bcc")?this.notification.bcc:[]},set(t){this.$set(this.notification,"bcc",t)}},trigger:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"trigger")?this.notification.trigger:"appointment_booked"},set(t){this.$set(this.notification,"trigger",t),"appointment_start_date"!==t&&this.$set(this.notification,"when","after"),t&&(this.validTrigger=!0)}},when:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"when")?this.notification.when:"after"},set(t){this.$set(this.notification,"when",t)}},duration:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"duration")?this.notification.duration:0},set(t){this.$set(this.notification,"duration",t)}},appointment_types:{get(){return this.notification.appointment_types},set(t){this.$set(this.notification,"appointment_types",t),(t.length||this.all)&&(this.validAppointmentTypes=!0)}},subject:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"subject")?this.notification.subject:""},set(t){this.$set(this.notification,"subject",t),(t||"sms"===this.notification.type)&&(this.validSubject=!0)}},message:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"message")?this.notification.message:""},set(t){this.$set(this.notification,"message",t),t&&(this.validMessage=!0)}},disableWhen(){return"appointment_start_date"!==this.trigger},notAllPhone(){return this.smsModule.active&&"sms"===this.type&&this.phoneAppointmentTypes.length<this.editableAppointmentTypes.length},noPhone(){return this.smsModule.active&&"sms"===this.type&&!this.phoneAppointmentTypes.length},appointmentTypeOptions(){return"sms"===this.type?this.phoneAppointmentTypes:this.editableAppointmentTypes},showWarning(){let t=1440,e=parseInt(this.duration,10);return this.duration<0||("appointment_start_date"===this.trigger&&e<t||"appointment_start_date"!==this.trigger&&e>0&&e<t)},durationError(){return this.duration<0?this.translations.appointmentTypes.negativeDuration:null},isValid(){let t;return"email"==this.type?t=this.validTrigger&&this.validAppointmentTypes&&this.validSubject&&this.validMessage:"sms"==this.type&&(t=this.validTrigger&&this.validAppointmentTypes&&this.validMessage),t},guidesList(){let t=[z.notifications.edit];return this.smsModule.installed&&this.smsModule.enabled&&t.push(z.notifications.sms_enabled),this.settings.installed.staff&&this.settings.staff.enabled&&t.push(z.notifications.staff_enabled),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("notifications",["phoneAppointmentTypes","smsModule","remindersInstalled","validateEmail"])},methods:{cancelEdit(){this.$router.push("/ssa/settings/notifications/list")},closeDialog(){this.$refs["upgradeSms"].close()},saveNotification(){this.validationCheck()&&(this.saving=!0,this.stripSubject(),this.id||0===this.id?this.setSingleNotification({id:this.id,notification:this.notification,settings:this.settings,timestampFormat:this.timestampFormat}):this.addSettingsNotification({settings:this.settings,timestampFormat:this.timestampFormat,notification:this.notification}),this.saveNotificationSingle(this.notification.id).then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})))},maybeShowUpgrade(){this.smsModule.installed||this.$refs["upgradeSms"].open()},stripSubject(){if(!Object.prototype.hasOwnProperty.call(this.notification,"subject"))return;let t=this.notification.subject,e=t.replace(/&nbsp;/g," ");this.$set(this.notification,"subject",e)},toggleAll(t){if(t)return void this.$set(this.notification,"appointment_types",[]);let e=this.editableAppointmentTypes.map((t=>t.id));this.$set(this.notification,"appointment_types",e)},toggleShowCc(){this.showCc=!this.showCc},validateBcc(t){t.length?0===t.indexOf("{{")&&t.indexOf("}}")>-1?this.validBcc=!0:this.validBcc=this.validateEmail(t):this.validBcc=!0},validateCc(t){t.length?0===t.indexOf("{{")&&t.indexOf("}}")>-1?this.validCc=!0:this.validCc=this.validateEmail(t):this.validCc=!0},validateTo(t){t.length?0===t.indexOf("{{")&&t.indexOf("}}")>-1?this.validTo=!0:this.validTo=this.validateEmail(t):this.validTo=!0},validateSubject(t){this.validSubject=t},validateMessage(t){this.validMessage=t},validationCheck(){return this.validTo="email"!==this.notification.type||Object.prototype.hasOwnProperty.call(this.notification,"sent_to")&&this.notification.sent_to.length>0,this.validSmsTo="sms"!==this.notification.type||Object.prototype.hasOwnProperty.call(this.notification,"sms_to")&&this.notification.sms_to.length>0,this.validTrigger=!!this.notification.trigger,this.validSubject="email"!==this.notification.type||Object.prototype.hasOwnProperty.call(this.notification,"subject")&&this.notification.subject.length,this.validMessage=Object.prototype.hasOwnProperty.call(this.notification,"message")&&this.notification.message.length,this.validAppointmentTypes=Object.prototype.hasOwnProperty.call(this.notification,"appointment_types")&&this.notification.appointment_types.length||this.all,this.validDuration=parseInt(this.duration)>=0,this.validTo&&this.validSmsTo&&this.validTrigger&&this.validSubject&&this.validMessage&&this.validAppointmentTypes&&this.validDuration},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.OI)("notifications",["addSettingsNotification","setNotificationPreview","setSingleNotification"]),...(0,o.nv)("notifications",["saveNotificationSingle"]),...(0,o.nv)("guides",["getGuides"])}},Th=wh,xh=(0,K.Z)(Th,ju,zu,!1,null,null,null),Ah=xh.exports,Ph=function(){var t=this,e=t._self._c;return e("form",{class:{saving:t.saving},attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveSms.apply(null,arguments)}}},[e("md-dialog",{ref:"confirmLeaveDirty"},[e("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.sms.confirmIgnoreChangesTitle)}}),e("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.sms.confirmIgnoreChangesContent)}}),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.sms.confirmIgnoreChangesCancel))]),e("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.sms.confirmIgnoreChangesOkay))])],1)],1),e("md-snackbar",{ref:"errorSaving",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.errors.troubleSaving))]),e("md-button",{staticClass:"md-accent",on:{click:t.retrySave}},[t._v(t._s(t.translations.actions.retry))])],1),e("md-snackbar",{ref:"twilioError",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.errorMessage))])]),e("md-snackbar",{ref:"testMessageSent",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.testMessageStatus))])]),e("div",{staticClass:"settings-header"},[e("router-link",{attrs:{tag:"md-button",to:"/ssa/settings/notifications"}},[e("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.settings.notifications.returnToNotifications)+" ")],1),e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.sms.title))])],1),t.settings.sms.enabled?[t.twilio_test_mode_enabled?e("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.sms.testModeWarning)+" ")]):t._e(),e("accordion",[e("accordion-item",{attrs:{label:t.translations.settings.sms.basics,message:t.translations.settings.sms.basicsMessage,index:"0",open:t.section},on:{updateActive:t.updateSection}},[e("md-input-container",{class:{"md-input-invalid":t.$v.twilio_account_sid.$invalid&&t.$v.twilio_account_sid.$dirty}},[e("label",{attrs:{for:"twilio_account_sid"}},[t._v(t._s(t.translations.settings.sms.twilioAccountSid))]),e("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.twilio_account_sid.$model,callback:function(e){t.$set(t.$v.twilio_account_sid,"$model","string"===typeof e?e.trim():e)},expression:"$v.twilio_account_sid.$model"}}),t.$v.twilio_account_sid.$invalid&&t.$v.twilio_account_sid.$dirty?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.sms.twilioAccountSidError)+" - "),e("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAccountSidHelp)+" ")])]):e("span",{staticClass:"md-helper-text"},[e("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAccountSidHelp)+" ")])])],1),e("md-input-container",{class:{"md-input-invalid":t.$v.twilio_auth_token.$invalid&&t.$v.twilio_auth_token.$dirty}},[e("label",{attrs:{for:"twilio_auth_token"}},[t._v(t._s(t.translations.settings.sms.twilioAuthToken))]),e("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.twilio_auth_token.$model,callback:function(e){t.$set(t.$v.twilio_auth_token,"$model","string"===typeof e?e.trim():e)},expression:"$v.twilio_auth_token.$model"}}),t.$v.twilio_auth_token.$invalid&&t.$v.twilio_auth_token.$dirty?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.sms.twilioAuthTokenError)+" - "),e("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAuthTokenHelp)+" ")])]):e("span",{staticClass:"md-helper-text"},[e("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAuthTokenHelp)+" ")])])],1),e("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validPhone}},[e("label",{attrs:{for:"twilio_send_from_phone"}},[t._v(t._s(t.translations.settings.sms.twilioSendFromPhone))]),e("telephone",{attrs:{required:"",placeholder:"",disabled:t.saving,"input-options":{"aria-describedby":"twilio_send_from_phone_error twilio_send_from_phone_helper",id:"twilio_send_from_phone"}},on:{validate:t.validatePhone},model:{value:t.twilio_send_from_phone,callback:function(e){t.twilio_send_from_phone="string"===typeof e?e.trim():e},expression:"twilio_send_from_phone"}}),t.validPhone?e("span",{staticClass:"md-helper-text",attrs:{id:"twilio_send_from_phone_helper"}},[e("a",{attrs:{href:"https://www.twilio.com/console/sms/services",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioSendFromPhoneHelp)+" ")])]):e("span",{staticClass:"md-error",attrs:{id:"twilio_send_from_phone_error"}},[t._v(" "+t._s(t.translations.settings.sms.twilioSendFromPhoneError)+" - "),e("a",{attrs:{href:"https://www.twilio.com/console/sms/services",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioSendFromPhoneHelp)+" ")])])],1)],1),e("accordion-item",{attrs:{label:t.translations.settings.sms.sendTest,message:t.translations.settings.sms.sendTestMessage,index:"2",open:t.section},on:{updateActive:t.updateSection}},[t.dirty||t.missing?e("empty",{attrs:{label:"Settings not saved",description:"Save your settings before attempting to send a test message"}}):[e("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validTestPhone}},[e("label",{attrs:{for:"twilio_test_phone"}},[t._v(t._s(t.translations.settings.sms.sendTestTo))]),e("telephone",{attrs:{required:"",placeholder:"",disabled:t.sendingTest,"input-options":{"aria-describedby":"twilio_test_phone_error twilio_test_phone_helper",id:"twilio_test_phone"}},on:{validate:t.validateTestPhone},model:{value:t.testPhone,callback:function(e){t.testPhone="string"===typeof e?e.trim():e},expression:"testPhone"}}),t.validTestPhone?e("span",{staticClass:"md-helper-text",attrs:{id:"twilio_test_phone_helper"}},[t._v(" "+t._s(t.translations.settings.sms.sendTestToHelp)+" ")]):e("span",{staticClass:"md-error",attrs:{id:"twilio_test_phone_error"}},[t._v(" "+t._s(t.translations.settings.sms.sendTestToError)+" ")])],1),e("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:t.sendingTest},on:{click:t.sendTest}},[t._v(" "+t._s(t.translations.settings.sms.sendTest)+" ")])]],2)],1),e("div",{staticClass:"button-bar"},[e("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",to:"/ssa/settings/notifications",disabled:t.saving}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSms}},[t._v(" "+t._s(t.translations.general.save)+" ")]),e("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}})],1)]:e("setting-not-enabled")],2)},Dh=[],Mh={name:"notifications-sms",mixins:[Un.oE],components:{Accordion:wn,AccordionItem:Mn,Notification:Ys,Telephone:Tl,Empty:$e,SettingNotEnabled:_d},data(){return{dirty:!1,errorMessage:"",saving:!1,section:"0",sendingTest:!1,testMessageStatus:"",testPhone:null,validPhone:!0,validTestPhone:!0,leaveWithoutSaving:!1}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{sms:{handler:function(t,e){this.dirty=e},deep:!0}},validations:{twilio_account_sid:{required:Bn.C1},twilio_auth_token:{required:Bn.C1},twilio_send_from_phone:{required:Bn.C1},twilio_test_account_sid:{required:(0,Bn.CF)("twilio_test_mode_enabled")},twilio_test_auth_token:{required:(0,Bn.CF)("twilio_test_mode_enabled")}},mounted(){this.getGuides({"ssasc-plugin-screen":z.notifications.sms})},computed:{twilio_account_sid:{get(){return this.settings.sms.twilio_account_sid},set(t){this.updateTwilioAccountSid(t)}},twilio_auth_token:{get(){return this.settings.sms.twilio_auth_token},set(t){this.updateTwilioAuthToken(t)}},twilio_send_from_phone:{get(){return this.settings.sms.twilio_send_from_phone},set(t){this.updateTwilioSendFromPhone(t)}},twilio_test_mode_enabled:{get(){return!!this.settings.sms.twilio_test_mode_enabled},set(t){this.updateTwilioTestModeEnabled(t)}},twilio_test_account_sid:{get(){return this.settings.sms.twilio_test_account_sid},set(t){this.updateTwilioTestAccountSid(t)}},twilio_test_auth_token:{get(){return this.settings.sms.twilio_test_auth_token},set(t){this.updateTwilioTestAuthToken(t)}},missing(){return this.twilio_test_mode_enabled?!this.twilio_test_account_sid||!this.twilio_test_auth_token||!this.twilio_send_from_phone:!this.twilio_send_from_phone||!this.twilio_account_sid||!this.twilio_auth_token},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("notifications",["sms","smsModule"])},methods:{retrySave(){this.$refs.errorSaving.close(),this.saveSmsSettings()},saveSms(){this.validatePhone(),this.$v.$touch(),this.$v.$invalid||!this.validPhone?this.section="0":(this.saving=!0,this.saveSmsSettings().then((()=>{this.authorizeTwilio().then((()=>{this.dirty=!1,this.saving=!1,this.$router.push("/ssa/settings/notifications")})).catch((t=>{this.saving=!1;let e=t.response_code,s=t.error.errors;this.errorMessage=s[e][0],this.$refs["twilioError"].open()}))})).catch(((t,e)=>{console.log("failed to save",e),this.saving=!1,this.$refs.errorSaving.open()})))},sendTest(){this.testPhone?(this.sendingTest=!0,this.sendTestMessage(this.testPhone).then((()=>{this.sendingTest=!1,this.testMessageStatus=this.translations.settings.sms.sendTestSuccess,this.$refs["testMessageSent"].open()})).catch((t=>{this.sendingTest=!1,console.log(t),this.testMessageStatus=this.translations.settings.sms.sendTestFailure,this.$refs["testMessageSent"].open()}))):this.validTestPhone=!1},updateSection(t){this.section=t||null},validatePhone(t=!0){this.twilio_send_from_phone?this.validPhone=t:this.validPhone=!1},validateTestPhone(t){this.validTestPhone=t},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)("notifications",["authorizeTwilio","saveSmsSettings","sendTestMessage","updateTwilioAccountSid","updateTwilioAuthToken","updateTwilioSendFromPhone","updateTwilioTestModeEnabled","updateTwilioTestAccountSid","updateTwilioTestAuthToken"]),...(0,o.nv)("guides",["getGuides"])}},Eh=Mh,Lh=(0,K.Z)(Eh,Ph,Dh,!1,null,null,null),Oh=Lh.exports,$h=[{path:"notifications",component:mu,redirect:"/ssa/settings/notifications/list",meta:{ssa_manage_site_settings:!0},children:[{path:"list",name:"notifications-list",component:Nu},{path:"notification/:id?",name:"notification-single",component:Ah,props:!0},{path:"sms",name:"notifications-sms",component:Oh}]}],Ih=function(){var t=this,e=t._self._c;return e("div",{staticClass:"payments-settings"},["payments-all"===t.$route.name?e("settings-header"):e("payments-header"),e("router-view")],1)},Nh=[],jh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"payments-header"},[e("router-link",{attrs:{tag:"md-button",to:"/ssa/settings/payments/all"}},[e("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.settings.payments.returnToPayments)+" ")],1),t.headline?e("h2",{staticClass:"md-title"},[t._v(t._s(t.headline))]):t._e()],1)},zh=[],Uh={name:"payments-header",data(){return{}},computed:{headline(){let t;switch(this.$route.name){case"payments-paypal":t="PayPal";break;case"payments-stripe":t="Stripe";break}return t},...(0,o.rn)("translations",["translations"])}},Bh=Uh,Fh=(0,K.Z)(Bh,jh,zh,!1,null,null,null),Gh=Fh.exports,Wh={name:"settingsPayments",components:{SettingsHeader:El,PaymentsHeader:Gh},data(){return{}}},Rh=Wh,Hh=(0,K.Z)(Rh,Ih,Nh,!1,null,null,null),qh=Hh.exports,Zh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"payments-settings settings-list"},[t.settings.payments.enabled?[e("md-input-container",[e("label",{attrs:{for:"default_currency"}},[t._v(t._s(t.translations.settings.payments.defaultCurrency))]),e("select2",{attrs:{name:"default_currency",id:"default_currency"},model:{value:t.default_currency,callback:function(e){t.default_currency=e},expression:"default_currency"}},t._l(t.currencies,(function(s){return e("option",{key:s.number,domProps:{value:s.code}},[t._v(t._s(s.currency)+" ("+t._s(s.code)+")")])})),0)],1),e("md-layout",{staticClass:"settings-list-container",attrs:{"md-gutter":!0}},[e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/logo-stripe.svg",title:"Stripe","card-style":"payments-settings"},on:{edit:function(e){return t.editPayments("stripe")}},model:{value:t.stripe_enabled,callback:function(e){t.stripe_enabled=e},expression:"stripe_enabled"}},[t.stripeModule.enabled&&!t.stripeModule.active?e("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.settings.payments.stripe.noConnection)+" ")]):t.stripeModule.test_mode?e("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.stripe.testModeWarning)+" ")]):t._e()],1),e("settings-card",{attrs:{image:t.api.admin_static_url+"/images/logo-paypal.svg",title:"PayPal","card-style":"payments-settings"},on:{edit:function(e){return t.editPayments("paypal")}},model:{value:t.paypal_enabled,callback:function(e){t.paypal_enabled=e},expression:"paypal_enabled"}},[t.paypalModule.enabled&&!t.paypalModule.active?e("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.noConnection)+" ")]):t.paypalModule.sandbox?e("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.sandboxMode)+" ")]):t._e()],1),e("router-view")],1)]:e("setting-not-enabled")],2)},Kh=[],Vh={name:"settingsPaymentsAll",components:{SettingsCard:rl,Select2:Ga,Notification:Ys,SettingNotEnabled:_d},data(){return{currencies:P}},watch:{guidesList(){this.getGuides({"ssasc-plugin-screen":this.guidesList})}},mounted(){this.getGuides({"ssasc-plugin-screen":this.guidesList})},computed:{default_currency:{get(){return this.settings.payments.default_currency},set(t){this.updateDefaultCurrency(t)}},stripe_enabled:{get(){return!!this.settings.stripe.enabled},set(t){this.updateStripeEnabled(t)}},paypal_enabled:{get(){return!!this.settings.paypal.enabled},set(t){this.updatePaypalEnabled(t)}},woocommerce_enabled(){return!1},guidesList(){let t=[z.payments.all];return this.stripe_enabled&&t.push(z.payments.stripe_enabled),this.paypal_enabled&&t.push(z.payments.paypal_enabled),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.Se)("payments",["paypalModule","stripeModule"])},methods:{editPayments(t){this.$router.push(`/ssa/settings/payments/${t}`)},...(0,o.nv)("payments",["updatePaypalEnabled","updateStripeEnabled","updateDefaultCurrency"]),...(0,o.nv)("guides",["getGuides"])}},Yh=Vh,Jh=(0,K.Z)(Yh,Zh,Kh,!1,null,null,null),Xh=Jh.exports,Qh=function(){var t=this,e=t._self._c;return e("form",{class:{saving:t.saving},attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.savePaypal.apply(null,arguments)}}},[t.settings.paypal.enabled?[e("md-dialog",{ref:"confirmLeaveDirty"},[e("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.payments.confirmIgnoreChangesTitle)}}),e("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.payments.confirmIgnoreChangesContent)}}),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesCancel))]),e("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesOkay))])],1)],1),e("md-snackbar",{ref:"errorSaving",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.errors.troubleSaving))]),e("md-button",{staticClass:"md-accent",on:{click:t.retrySave}},[t._v(t._s(t.translations.actions.retry))])],1),t.showSslWarning?e("notification",{attrs:{icon:"error",theme:"red"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.sslWarning)+" ")]):t.paypalModule.sandbox?e("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.sandboxMode)+" ")]):t._e(),e("accordion",[e("accordion-item",{attrs:{label:t.translations.settings.payments.basics,message:t.translations.settings.payments.basicsMessage,index:"0",open:t.section},on:{updateActive:t.updateSection}},[e("md-input-container",{class:{"md-input-invalid":t.$v.paypal_display_title.$invalid&&t.$v.paypal_display_title.$dirty}},[e("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.displayTitle))]),e("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.paypal_display_title.$model,callback:function(e){t.$set(t.$v.paypal_display_title,"$model",e)},expression:"$v.paypal_display_title.$model"}}),t.$v.paypal_display_title.$invalid&&t.$v.paypal_display_title.$dirty?e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.displayTitleError))]):e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.displayTitleHelp))])],1),e("md-input-container",[e("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.description))]),e("md-input",{attrs:{disabled:t.saving},model:{value:t.paypal_description,callback:function(e){t.paypal_description=e},expression:"paypal_description"}}),e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.descriptionHelp))])],1),e("md-input-container",{class:{"md-input-invalid":t.$v.paypal_email.$invalid&&t.$v.paypal_email.$dirty}},[e("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.paypal.email))]),e("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.paypal_email.$model,callback:function(e){t.$set(t.$v.paypal_email,"$model","string"===typeof e?e.trim():e)},expression:"$v.paypal_email.$model"}}),t.$v.paypal_email.$invalid&&t.$v.paypal_email.$dirty?e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.paypal.emailError))]):e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.paypal.emailHelp))])],1),e("md-input-container",{staticClass:"md-copyable"},[e("label",{attrs:{for:"ipn_url"}},[t._v(t._s(t.translations.settings.payments.paypal.ipn_url))]),e("md-input",{ref:"ipnUrlValue",attrs:{readonly:"",disabled:t.saving},nativeOn:{click:function(e){return t.copyIpnUrl.apply(null,arguments)}},model:{value:t.ipn_url,callback:function(e){t.ipn_url=e},expression:"ipn_url"}}),e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.paypal.ipnHelpPrefix)+" "),e("a",{attrs:{href:"https://simplyscheduleappointments.com/document/paypal-ipn-settings/",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.paypal.ipnHelp))])]),e("md-button",{staticClass:"md-icon-button md-copy-input",on:{click:t.copyIpnUrl}},[e("md-icon",[t._v("file_copy")])],1),e("md-snackbar",{ref:"ipnNotice",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.settings.payments.paypal.ipnCopied))])])],1)],1),e("accordion-item",{attrs:{label:t.translations.settings.payments.advanced,message:t.translations.settings.payments.advancedMessage,index:"1",open:t.section},on:{updateActive:t.updateSection}},[e("p",[t._v(t._s(t.translations.settings.payments.paypal.sandboxHelp1)+" "),e("a",{attrs:{href:"https://developer.paypal.com/",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.paypal.sandboxHelp2))])]),e("md-list",[e("md-list-item",[e("md-checkbox",{attrs:{disabled:t.saving},model:{value:t.paypal_sandbox_enabled,callback:function(e){t.paypal_sandbox_enabled=e},expression:"paypal_sandbox_enabled"}},[t._v(t._s(t.translations.settings.payments.paypal.enableSandbox))])],1)],1)],1)],1),e("div",{staticClass:"button-bar"},[e("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",to:"/ssa/settings/payments",disabled:t.saving}},[t._v(t._s(t.translations.general.cancel))]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.savePaypal}},[t._v(t._s(t.translations.general.save))]),e("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}})],1)]:e("setting-not-enabled")],2)},tg=[],eg={name:"payments-paypal",mixins:[Un.oE],components:{Accordion:wn,AccordionItem:Mn,Notification:Ys,SettingNotEnabled:_d},data(){return{section:"0",dirty:!1,saving:!1,showSslWarning:!1,leaveWithoutSaving:!1}},mounted(){this.getGuides({"ssasc-plugin-screen":z.paypal}),Ye().isEmpty(this.support)?this.fetchSupportDetails().then((()=>{this.maybeShowSslWarning()})):this.maybeShowSslWarning()},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{paypal:{handler:function(t,e){this.dirty=e},deep:!0}},validations:{paypal_display_title:{required:Bn.C1},paypal_email:{required:Bn.C1,email:Bn.Do}},computed:{ipn_url(){return this.settings.paypal.ipn_url},paypal_description:{get(){return this.settings.paypal.description},set(t){this.updatePaypalDescription(t)}},paypal_display_title:{get(){return this.settings.paypal.title},set(t){this.updatePaypalTitle(t)}},paypal_email:{get(){return this.settings.paypal.email},set(t){this.updatePaypalEmail(t)}},paypal_identity_token:{get(){return this.settings.paypal.identity_token},set(t){this.updatePaypalIdentityToken(t)}},paypal_sandbox_enabled:{get(){return this.settings.paypal.sandbox_enabled},set(t){this.updatePaypalSandbox(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("support",["support"]),...(0,o.Se)("payments",["paypalModule"])},methods:{copyIpnUrl(){let t=this.$refs["ipnUrlValue"].$el,e=t.value.trim();e&&(t.select(),document.execCommand("copy"),this.$refs["ipnNotice"].open())},maybeShowSslWarning(){"good"!==this.support.site_status.https_status.status&&(this.showSslWarning=!0)},savePaypal(){this.$v.$touch(),this.$v.$invalid?this.section="0":(this.saving=!0,this.savePaypalSettings().then((()=>{this.dirty=!1,this.saving=!1,this.$router.push("/ssa/settings/payments")})).catch((()=>{this.saving=!1,this.$refs.errorSaving.open()})))},retrySave(){this.$refs.errorSaving.close(),this.savePaypal()},updateSection(t){this.section=t||null},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)("support",["fetchSupportDetails"]),...(0,o.nv)("payments",["savePaypalSettings","updatePaypalDescription","updatePaypalEmail","updatePaypalIdentityToken","updatePaypalSandbox","updatePaypalTitle"]),...(0,o.nv)("guides",["getGuides"])}},sg=eg,ig=(0,K.Z)(sg,Qh,tg,!1,null,null,null),ng=ig.exports,ag=function(){var t=this,e=t._self._c;return e("form",{class:{saving:t.saving},attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveStripe.apply(null,arguments)}}},[t.settings.stripe.enabled?[e("md-dialog",{ref:"confirmLeaveDirty"},[e("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.payments.confirmIgnoreChangesTitle)}}),e("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.payments.confirmIgnoreChangesContent)}}),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesCancel))]),e("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesOkay))])],1)],1),e("md-snackbar",{ref:"errorSaving",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.errors.troubleSaving))]),e("md-button",{staticClass:"md-accent",on:{click:t.retrySave}},[t._v(t._s(t.translations.actions.retry))])],1),t.stripeModule.test_mode?e("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.stripe.testModeWarning)+" ")]):t._e(),e("accordion",[e("accordion-item",{attrs:{label:t.translations.settings.payments.basics,message:t.translations.settings.payments.basicsMessage,index:"0",open:t.section},on:{updateActive:t.updateSection}},[e("md-input-container",{class:{"md-input-invalid":t.$v.stripe_display_title.$invalid&&t.$v.stripe_display_title.$dirty}},[e("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.displayTitle))]),e("md-input",{attrs:{"aria-describedby":"title-helper",id:"title",required:"",disabled:t.saving},model:{value:t.$v.stripe_display_title.$model,callback:function(e){t.$set(t.$v.stripe_display_title,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_display_title.$model"}}),t.$v.stripe_display_title.$invalid&&t.$v.stripe_display_title.$dirty?e("span",{staticClass:"md-error",attrs:{id:"title-helper"}},[t._v(t._s(t.translations.settings.payments.displayTitleError))]):e("span",{staticClass:"md-helper-text",attrs:{id:"title-helper"}},[t._v(t._s(t.translations.settings.payments.displayTitleHelp))])],1),e("md-input-container",[e("label",{attrs:{for:"description"}},[t._v(t._s(t.translations.settings.payments.description))]),e("md-input",{attrs:{"aria-describedby":"description-helper",id:"description",disabled:t.saving},model:{value:t.stripe_description,callback:function(e){t.stripe_description="string"===typeof e?e.trim():e},expression:"stripe_description"}}),e("span",{staticClass:"md-helper-text",attrs:{id:"description-helper"}},[t._v(t._s(t.translations.settings.payments.descriptionHelp))])],1),e("md-input-container",{class:{"md-input-invalid":t.$v.stripe_statement_descriptor.$invalid&&t.$v.stripe_statement_descriptor.$dirty}},[e("label",{attrs:{for:"descriptor"}},[t._v(t._s(t.translations.settings.payments.statementDescriptor))]),e("md-input",{attrs:{"aria-describedby":"descriptor-helper",id:"descriptor",disabled:t.saving},model:{value:t.$v.stripe_statement_descriptor.$model,callback:function(e){t.$set(t.$v.stripe_statement_descriptor,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_statement_descriptor.$model"}}),t.$v.stripe_statement_descriptor.$invalid&&t.$v.stripe_statement_descriptor.$dirty?e("span",{staticClass:"md-error",attrs:{id:"descriptor-helper"}},[t._v(t._s(t.translations.settings.payments.statementDescriptorError))]):e("span",{staticClass:"md-helper-text",attrs:{id:"descriptor-helper"}},[t._v(t._s(t.translations.settings.payments.statementDescriptorHelp))])],1),e("md-input-container",{class:{"md-input-invalid":t.$v.stripe_publishable_key.$invalid&&t.$v.stripe_publishable_key.$dirty}},[e("label",{attrs:{for:"publishable-key"}},[t._v(t._s(t.translations.settings.payments.stripe.publishableKey))]),e("md-input",{attrs:{"aria-describedby":"publishable-key-helper",id:"publishable-key",required:"",disabled:t.saving},model:{value:t.$v.stripe_publishable_key.$model,callback:function(e){t.$set(t.$v.stripe_publishable_key,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_publishable_key.$model"}}),t.$v.stripe_publishable_key.$invalid?e("span",{staticClass:"md-error",attrs:{id:"publishable-key-helper"}},[t._v(t._s(t.fieldErrors("publishable_key")?.["message"])),t.fieldErrors("publishable_key")?.["help_link"]?e("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(" – "+t._s(t.translations.settings.payments.stripe.publishableKeyHelp))]):t._e()]):e("span",{staticClass:"md-helper-text",attrs:{id:"publishable-key-helper"}},[e("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.publishableKeyHelp))])])],1),e("md-input-container",{class:{"md-input-invalid":t.$v.stripe_secret_key.$invalid&&t.$v.stripe_secret_key.$dirty}},[e("label",{attrs:{for:"secret-key"}},[t._v(t._s(t.translations.settings.payments.stripe.secretKey))]),e("md-input",{attrs:{"aria-describedby":"",id:"secret-key",required:"",disabled:t.saving},on:{change:function(e){return t.clearfieldBackendErrors("secret_key")}},model:{value:t.$v.stripe_secret_key.$model,callback:function(e){t.$set(t.$v.stripe_secret_key,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_secret_key.$model"}}),t.$v.stripe_secret_key.$invalid?e("span",{staticClass:"md-error",attrs:{id:"secret-key-helper"}},[t._v(t._s(t.fieldErrors("secret_key")?.["message"])),t.fieldErrors("secret_key")?.["help_link"]?e("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(" – "+t._s(t.translations.settings.payments.stripe.secretKeyHelp))]):t._e()]):e("span",{staticClass:"md-helper-text",attrs:{id:"secret-key-helper"}},[e("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.secretKeyHelp))])])],1),e("md-input-container",{staticClass:"md-copyable"},[e("label",{attrs:{for:"webhook"}},[t._v(t._s(t.translations.settings.payments.stripe.webhook))]),e("md-input",{ref:"webhookValue",attrs:{"aria-describedby":"webhook-helper",id:"webhook",readonly:"",disabled:t.saving},nativeOn:{click:function(e){return t.copyWebhook.apply(null,arguments)}},model:{value:t.stripe_webhook,callback:function(e){t.stripe_webhook=e},expression:"stripe_webhook"}}),e("span",{staticClass:"md-helper-text",attrs:{id:"webhook-helper"}},[t._v(t._s(t.translations.settings.payments.stripe.webhookHelpPrefix)+" "),e("a",{attrs:{href:"https://dashboard.stripe.com/account/webhooks",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.webhookHelpTarget))])]),e("md-button",{staticClass:"md-icon-button md-copy-input",on:{click:t.copyWebhook}},[e("md-icon",[t._v("file_copy")])],1)],1),e("md-snackbar",{ref:"webhookNotice",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.settings.payments.stripe.webhookCopied))])]),e("md-input-container",{class:{"md-input-invalid":t.$v.stripe_webhook_secret.$invalid&&t.$v.stripe_webhook_secret.$dirty}},[e("label",{attrs:{for:"webhook_secret"}},[t._v(t._s(t.translations.settings.payments.stripe.webhookSecret))]),e("md-input",{attrs:{"aria-describedby":"webhook-secret-helper",id:"webhook_secret",disabled:t.saving},model:{value:t.$v.stripe_webhook_secret.$model,callback:function(e){t.$set(t.$v.stripe_webhook_secret,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_webhook_secret.$model"}}),t.$v.stripe_webhook_secret.$invalid?e("span",{staticClass:"md-error",attrs:{id:"webhook-secret-helper"}},[t._v(t._s(t.fieldErrors("webhook_secret")?.["message"])),t.fieldErrors("webhook_secret")?.["help_link"]?e("a",{attrs:{href:"https://dashboard.stripe.com/webhooks",target:"_blank"}},[t._v(" – "+t._s(t.translations.settings.payments.stripe.webhookSecretHelpPrefix)+" "+t._s(t.translations.settings.payments.stripe.webhookHelpTarget))]):t._e()]):e("span",{staticClass:"md-helper-text",attrs:{id:"webhook-secret-helper"}},[e("a",{attrs:{href:"https://dashboard.stripe.com/webhooks",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.webhookSecretHelpPrefix)+" "+t._s(t.translations.settings.payments.stripe.webhookHelpTarget))])])],1)],1),e("accordion-item",{attrs:{label:t.translations.settings.payments.advanced,message:t.translations.settings.payments.advancedMessage,index:"1",open:t.section},on:{updateActive:t.updateSection}},[e("p",[t._v(t._s(t.translations.settings.payments.stripe.testModeHelp))]),e("md-list",[e("md-list-item",[e("md-checkbox",{attrs:{disabled:t.saving},model:{value:t.stripe_test_mode_enabled,callback:function(e){t.stripe_test_mode_enabled=e},expression:"stripe_test_mode_enabled"}},[t._v(t._s(t.translations.settings.payments.stripe.testMode))])],1)],1),e("md-input-container",{class:{"md-input-invalid":t.$v.stripe_test_publishable_key.$invalid&&t.$v.stripe_test_publishable_key.$dirty}},[e("label",{attrs:{for:"test-publishable-key"}},[t._v(t._s(t.translations.settings.payments.stripe.testPublishableKey))]),e("md-input",{attrs:{"aria-describedby":"test-publishable-key-helper",id:"test-publishable-key",disabled:t.saving},model:{value:t.$v.stripe_test_publishable_key.$model,callback:function(e){t.$set(t.$v.stripe_test_publishable_key,"$model",e)},expression:"$v.stripe_test_publishable_key.$model"}}),t.$v.stripe_test_publishable_key.$invalid?e("span",{staticClass:"md-error",attrs:{id:"test-publishable-key-helper"}},[t._v(t._s(t.fieldErrors("test_publishable_key")?.["message"])),t.fieldErrors("test_publishable_key")?.["help_link"]?e("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(" – "+t._s(t.translations.settings.payments.stripe.testPublishableKeyHelp))]):t._e()]):e("span",{staticClass:"md-helper-text",attrs:{id:"test-publishable-key-helper"}},[e("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testPublishableKeyHelp))])])],1),e("md-input-container",{class:{"md-input-invalid":t.$v.stripe_test_secret_key.$invalid&&t.$v.stripe_test_secret_key.$dirty}},[e("label",{attrs:{for:"test-secret-key"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKey))]),e("md-input",{attrs:{"aria-describedby":"test-secret-key-helper",id:"test-secret-key",disabled:t.saving},model:{value:t.$v.stripe_test_secret_key.$model,callback:function(e){t.$set(t.$v.stripe_test_secret_key,"$model",e)},expression:"$v.stripe_test_secret_key.$model"}}),t.$v.stripe_test_secret_key.$invalid?e("span",{staticClass:"md-error",attrs:{id:"test-secret-key-helper"}},[t._v(t._s(t.fieldErrors("test_secret_key")?.["message"])),t.fieldErrors("test_secret_key")?.["help_link"]?e("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(" – "+t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))]):t._e()]):e("span",{staticClass:"md-helper-text",attrs:{id:"test-secret-key-helper"}},[e("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])])],1),e("md-input-container",{class:{"md-input-invalid":t.$v.stripe_test_webhook_secret.$invalid&&t.$v.stripe_test_webhook_secret.$dirty}},[e("label",{attrs:{for:"test-webhook-secret"}},[t._v(t._s(t.translations.settings.payments.stripe.testWebhookSecret))]),e("md-input",{attrs:{"aria-describedby":"test-webhook-secret-helper",id:"test-webhook-secret",disabled:t.saving},model:{value:t.$v.stripe_test_webhook_secret.$model,callback:function(e){t.$set(t.$v.stripe_test_webhook_secret,"$model",e)},expression:"$v.stripe_test_webhook_secret.$model"}}),t.$v.stripe_test_webhook_secret.$invalid?e("span",{staticClass:"md-error",attrs:{id:"test-webhook-secret-helper"}},[t._v(t._s(t.fieldErrors("test_webhook_secret")?.["message"])),t.fieldErrors("test_webhook_secret")?.["help_link"]?e("a",{attrs:{href:"https://dashboard.stripe.com/test/webhooks",target:"_blank"}},[t._v(" – "+t._s(t.translations.settings.payments.stripe.webhookSecretHelpPrefix)+" "+t._s(t.translations.settings.payments.stripe.webhookHelpTarget)+" ")]):t._e()]):e("span",{staticClass:"md-helper-text",attrs:{id:"test-webhook-secret-helper"}},[e("a",{attrs:{href:"https://dashboard.stripe.com/test/webhooks",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.webhookSecretHelpPrefix)+" "+t._s(t.translations.settings.payments.stripe.webhookHelpTarget))])])],1)],1)],1),e("div",{staticClass:"button-bar"},[e("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",to:"/ssa/settings/payments",disabled:t.saving}},[t._v(t._s(t.translations.general.cancel))]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveStripe}},[t._v(t._s(t.translations.general.save))]),e("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}})],1)]:e("setting-not-enabled")],2)},og=[];const rg=Bn.BM.regex("statementValidator",/^(?=[^a-z]*[a-z])(?:(?![<>\\'"])[ -~]){1,11}$/i),lg=Bn.BM.regex("stripePublishableKeyValidator",/^pk_live_[a-zA-Z0-9]+/i),pg=Bn.BM.regex("stripeSecretKeyValidator",/^sk_live_[a-zA-Z0-9]+/i),dg=Bn.BM.regex("stripeWebhookSecretValidator",/^whsec_[a-zA-Z0-9]+/i),cg=Bn.BM.regex("stripeTestPublishableKeyValidator",/^pk_test_[a-zA-Z0-9]+/i),mg=Bn.BM.regex("stripeTestSecretKeyValidator",/^sk_test_[a-zA-Z0-9]+/i);function ug(t){return function(){return!this.fieldBackendErrors?.[t]?.length}}var hg={name:"payments-stripe",mixins:[Un.oE],components:{Accordion:wn,AccordionItem:Mn,Notification:Ys,SettingNotEnabled:_d},data(){return{section:"0",dirty:!1,saving:!1,leaveWithoutSaving:!1,fieldBackendErrors:{}}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{stripe:{handler:function(t,e){this.dirty=e},deep:!0}},validations:{stripe_display_title:{required:Bn.C1},stripe_publishable_key:{required:(0,Bn.Nf)("stripe_test_mode_enabled"),regexValidator:lg,fieldBackendErrorsEmpty:ug("publishable_key")},stripe_secret_key:{required:(0,Bn.Nf)("stripe_test_mode_enabled"),regexValidator:pg,fieldBackendErrorsEmpty:ug("secret_key")},stripe_webhook_secret:{regexValidator:dg,fieldBackendErrorsEmpty:ug("webhook_secret")},stripe_test_publishable_key:{required:(0,Bn.CF)("stripe_test_mode_enabled"),regexValidator:cg,fieldBackendErrorsEmpty:ug("test_publishable_key")},stripe_test_secret_key:{required:(0,Bn.CF)("stripe_test_mode_enabled"),regexValidator:mg,fieldBackendErrorsEmpty:ug("test_secret_key")},stripe_test_webhook_secret:{regexValidator:dg,fieldBackendErrorsEmpty:ug("test_webhook_secret")},stripe_statement_descriptor:{statementValidator:rg}},mounted(){this.getGuides({"ssasc-plugin-screen":z.stripe})},computed:{stripe_description:{get(){return this.settings.stripe.description},set(t){this.updateStripeDescription(t)}},stripe_statement_descriptor:{get(){return this.settings.stripe.statement_descriptor},set(t){this.updateStripeStatementDescriptor(t)}},stripe_display_title:{get(){return this.settings.stripe.title},set(t){this.updateStripeTitle(t)}},stripe_publishable_key:{get(){return this.settings.stripe.publishable_key},set(t){this.updateStripePublishableKey(t)}},stripe_secret_key:{get(){return this.settings.stripe.secret_key},set(t){this.updateStripeSecretKey(t)}},fieldErrors(){return function(t){if(this.fieldBackendErrors?.[t]?.length)return{message:this.fieldBackendErrors[t].join(", ")};if(this.$v?.[`stripe_${t}`]?.$dirty){if(!1===this.$v?.[`stripe_${t}`]?.required)return{message:this.translations.settings.payments.stripe.validation_errors?.[t]?.required,help_link:!0};if(0==this.$v?.[`stripe_${t}`]?.regexValidator)return{message:this.translations.settings.payments.stripe.validation_errors?.[t].regexValidator}}}},stripe_webhook(){return this.settings.stripe.webhook},stripe_webhook_secret:{get(){return this.settings.stripe.webhook_secret},set(t){this.updateStripeWebhookSecret(t)}},stripe_test_mode_enabled:{get(){return this.settings.stripe.test_mode_enabled},set(t){this.updateStripeTestMode(t)}},stripe_test_publishable_key:{get(){return this.settings.stripe.test_publishable_key},set(t){this.updateStripeTestPublishableKey(t)}},stripe_test_secret_key:{get(){return this.settings.stripe.test_secret_key},set(t){this.updateStripeTestSecretKey(t)}},stripe_test_webhook_secret:{get(){return this.settings.stripe.test_webhook_secret},set(t){this.updateStripeTestWebhookSecret(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("payments",["stripe","stripeModule"])},methods:{clearfieldBackendErrors:function(t){delete this.fieldBackendErrors[t]},saveStripe(){this.$v.$touch(),this.$v.$invalid?this.section="0":(this.saving=!0,this.saveStripeSettings().then((()=>{this.fieldBackendErrors={},this.dirty=!1,this.saving=!1,this.$router.push("/ssa/settings/payments")})).catch((t=>{this.fieldBackendErrors={},t.responseJSON.additional_errors?.forEach((t=>{this.fieldBackendErrors[t.message[0]]=this.fieldBackendErrors[t.message[0]]??[],this.fieldBackendErrors[t.message[0]].push(t.message[1])})),this.saving=!1,this.$refs.errorSaving.open(),this.$v.$touch()})))},retrySave(){this.$refs.errorSaving.close(),this.saveStripe()},copyWebhook(){let t=this.$refs["webhookValue"].$el,e=t.value.trim();e&&(t.select(),document.execCommand("copy"),this.$refs["webhookNotice"].open())},updateSection(t){this.section=t||null},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)("payments",["saveStripeSettings","updateStripeDescription","updateStripeStatementDescriptor","updateStripeTitle","updateStripePublishableKey","updateStripeSecretKey","updateStripeWebhookSecret","updateStripeTestMode","updateStripeTestPublishableKey","updateStripeTestSecretKey","updateStripeTestWebhookSecret"]),...(0,o.nv)("guides",["getGuides"])}},gg=hg,_g=(0,K.Z)(gg,ag,og,!1,null,null,null),fg=_g.exports,yg=[{path:"payments",component:qh,redirect:"/ssa/settings/payments/all",meta:{ssa_manage_site_settings:!0},children:[{path:"all",name:"payments-all",component:Xh},{path:"paypal",name:"payments-paypal",component:ng},{path:"stripe",name:"payments-stripe",component:fg}]}],vg=function(){var t=this,e=t._self._c;return e("div",{staticClass:"webhooks-all"},[e("router-view",{on:{saved:t.backToList}})],1)},bg=[],kg={name:"webhooksAll",store:Ek,data(){return{}},mounted(){this.getGuides({"ssasc-plugin-screen":z.webhooks})},methods:{backToList(){this.$router.push("/ssa/settings/webhooks/list")},...(0,o.nv)("guides",["getGuides"])}},Cg=kg,Sg=(0,K.Z)(Cg,vg,bg,!1,null,null,null),wg=Sg.exports,Tg=function(){var t=this,e=t._self._c;return e("div",{staticClass:"webhooks-settings"},[e("settings-header"),t.settings.webhooks.enabled?[e("md-toolbar",{staticClass:"md-transparent"},[e("div",{staticStyle:{flex:"1"}},[e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.webhooks.title))])]),e("md-button",{staticClass:"md-primary",on:{click:t.addWebhook}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.webhooks.actions.addNew)+" ")],1)],1),t.settings.webhooks.webhooks.length?e("md-list",{staticClass:"md-double-line webhook-list"},t._l(t.settings.webhooks.webhooks,(function(s,i){return e("md-list-item",{key:i},[e("div",{staticClass:"md-list-item-container"},[e("div",{staticClass:"md-list-text-container",on:{click:function(e){return t.editWebhook(i)}}},[e("span",[t._v(t._s(s.title))]),e("span",[1===s.triggers.length?[t._v(t._s(t.translations.settings.webhooks.fields.trigger_single))]:[t._v(t._s(t.translations.settings.webhooks.fields.trigger_plural))],t._l(s.triggers,(function(e,i){return[t._v(t._s(t.translations.settings.webhooks.fields.triggerNames[e])),i<s.triggers.length-1?[t._v(", ")]:t._e()]}))],2)]),e("md-menu",[e("md-button",{staticClass:"md-icon-button md-list-action md-primary",attrs:{"md-menu-trigger":""}},[e("md-icon",{staticClass:"md-primary"},[t._v("settings")])],1),e("md-menu-content",[e("md-menu-item",{on:{click:function(e){return t.editWebhook(i)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("edit")]),e("span",[t._v(t._s(t.translations.actions.edit))])],1),e("md-menu-item",{on:{click:function(e){return t.cloneWebhook(i)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),e("span",[t._v(t._s(t.translations.actions.clone))])],1),e("md-menu-item",{on:{click:function(e){return t.confirmDelete(i)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("delete")]),e("span",[t._v(t._s(t.translations.actions.delete))])],1)],1)],1),e("md-divider")],1)])})),1):e("empty",{attrs:{label:t.translations.settings.webhooks.empty}},[e("md-button",{staticClass:"md-primary md-raised",on:{click:t.addWebhook}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.webhooks.actions.addNew)+" ")],1)],1),e("md-dialog",{ref:"confirmDelete"},[e("md-dialog-title",[t._v(t._s(t.translations.settings.webhooks.confirmDelete))]),t.deletedIndex||0===t.deletedIndex?e("md-dialog-content",[t._v(" "+t._s(t.settings.webhooks.webhooks[t.deletedIndex].title)+" ")]):t._e(),e("md-dialog-actions",[e("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.settings.webhooks.confirmDeleteCancel))]),e("md-button",{on:{click:t.deleteWebhook}},[t._v(t._s(t.translations.settings.webhooks.confirmDeleteOk))])],1)],1)]:e("setting-not-enabled")],2)},xg=[],Ag={name:"settingsWebhooksList",components:{SettingsHeader:El,Empty:$e,SettingNotEnabled:_d},data(){return{deletedIndex:null}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{addWebhook(){this.$router.push({name:"webhook-single"})},editWebhook(t){this.$router.push({name:"webhook-single",params:{index:t}})},cloneWebhook(t){this.cloneSettingsWebhook({index:t,settings:this.settings}),this.updateWebhooksSettings(),this.$router.push({name:"webhook-single",params:{index:this.settings.webhooks.webhooks.length-1}})},deleteWebhook(){this.deleteSettingsWebhook({index:this.deletedIndex,settings:this.settings}),this.deletedIndex=null,this.$refs["confirmDelete"].close(),this.updateWebhooksSettings()},confirmDelete(t){this.deletedIndex=t,this.$refs["confirmDelete"].open()},cancelDelete(){this.$refs["confirmDelete"].close()},...(0,o.OI)("webhooks",["deleteSettingsWebhook","cloneSettingsWebhook"]),...(0,o.nv)("webhooks",["updateWebhooksSettings"])}},Pg=Ag,Dg=(0,K.Z)(Pg,Tg,xg,!1,null,null,null),Mg=Dg.exports,Eg=function(){var t=this,e=t._self._c;return e("form",{staticClass:"webhook-edit"},[e("md-button",{on:{click:t.cancelEdit}},[e("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1),e("md-dialog",{ref:"confirmLeaveDirty"},[e("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.webhooks.confirmIgnoreChangesTitle)}}),e("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.webhooks.confirmIgnoreChangesContent)}}),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.webhooks.confirmIgnoreChangesCancel))]),e("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.webhooks.confirmIgnoreChangesOkay))])],1)],1),e("h2",{staticClass:"md-title"},[t.index||0===t.index?[t._v(t._s(t.translations.settings.webhooks.actions.edit))]:[t._v(t._s(t.translations.settings.webhooks.actions.addNew))]],2),e("md-input-container",[e("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.webhooks.fields.title))]),e("md-input",{attrs:{id:"title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),e("md-input-container",{staticClass:"md-refreshable",class:{"md-input-invalid":!t.validToken}},[e("label",{attrs:{for:"token"}},[t._v(t._s(t.translations.settings.webhooks.fields.token))]),e("md-input",{attrs:{id:"token",required:""},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}}),e("md-button",{staticClass:"md-icon-button md-refresh-input",on:{click:t.refreshToken}},[e("md-icon",[t._v("refresh")])],1),t.validToken?e("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.webhooks.fields.token_help))]):e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.webhooks.fields.token_error))])],1),e("md-snackbar",{ref:"tokenNotice",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.settings.webhooks.fields.token_copied))])]),e("fieldset",{staticClass:"md-fieldset"},[e("legend",[t._v(t._s(t.translations.settings.webhooks.fields.triggers)+" *")]),e("p",{directives:[{name:"show",rawName:"v-show",value:!t.validTriggers,expression:"!validTriggers"}],staticClass:"error-message"},[t._v(t._s(t.translations.settings.webhooks.errors.requiredTriggers))]),t.webhookTriggers.length?e("md-list",t._l(t.webhookTriggers,(function(s,i){return e("md-list-item",{key:i},[e("md-checkbox",{staticClass:"md-primary",attrs:{id:"trigger-"+i,name:"triggers","md-value":s},model:{value:t.triggers,callback:function(e){t.triggers=e},expression:"triggers"}},[t._v(" "+t._s(t.translations.settings.webhooks.fields.triggerNames[s])+" ")])],1)})),1):t._e()],1),e("fieldset",{staticClass:"md-fieldset"},[e("legend",[t._v(t._s(t.translations.settings.webhooks.fields.urls)+" *")]),e("p",{directives:[{name:"show",rawName:"v-show",value:!t.validUrls,expression:"!validUrls"}],staticClass:"error-message"},[t._v(t._s(t.translations.settings.webhooks.errors.requiredUrls))]),e("md-list",[Object.prototype.hasOwnProperty.call(t.webhook,"urls")&&t.webhook.urls.length?t._l(t.webhook.urls,(function(s,i){return e("md-list-item",{key:i},[e("span",[e("md-icon",[t._v("link")]),t._v(" "+t._s(s)+" ")],1),e("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(e){return t.removeUrl(i)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("clear")])],1)],1)})):t._e(),e("md-list-item",[e("md-input-container",{class:{"md-input-invalid":!t.validUrls||t.urlExists||!t.validUrl}},[e("label",{attrs:{for:"url"}},[t._v("Add URL")]),e("md-input",{attrs:{placeholder:"https://",id:"label"},nativeOn:{keyup:function(e){return t.addUrl.apply(null,arguments)},blur:function(e){return t.addUrl.apply(null,arguments)}},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t.urlExists?e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.webhooks.fields.url_exists))]):t.validUrl?t._e():e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.webhooks.fields.url_invalid))])],1)],1)],2)],1),e("fieldset",{staticClass:"md-fieldset"},[e("legend",[t._v(t._s(t.translations.settings.appointmentTypesTitle)+" *")]),e("p",{directives:[{name:"show",rawName:"v-show",value:!t.validAppointmentTypes,expression:"!validAppointmentTypes"}],staticClass:"error-message"},[t._v(t._s(t.translations.settings.webhooks.errors.requiredAppointmentTypes))]),e("md-list",[e("md-list-item",[e("md-checkbox",{on:{change:t.toggleAll},model:{value:t.all,callback:function(e){t.all=e},expression:"all"}},[t._v(t._s(t.translations.settings.appointmentTypeAll))])],1),t.all?t._e():t._l(t.editableAppointmentTypes,(function(s){return e("md-list-item",{key:s.id},[e("md-checkbox",{staticClass:"md-primary",attrs:{id:"type-"+s.id,name:"appointment-types","md-value":s.id},model:{value:t.appointment_types,callback:function(e){t.appointment_types=e},expression:"appointment_types"}},[t._v(" "+t._s(s.title)+" ")])],1)}))],2)],1),e("div",{staticClass:"button-bar"},[e("md-button",{staticClass:"md-raised",on:{click:t.cancelEdit}},[t._v(t._s(t.translations.general.cancel))]),e("md-button",{staticClass:"md-raised md-primary",on:{click:t.saveWebhook}},[t._v(t._s(t.translations.general.save))]),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),e("webhook-details",{attrs:{index:this.index}})],1)},Lg=[],Og=(s(8675),s(3462),s(7380),s(1118),function(){var t=this,e=t._self._c;return e("div",{staticClass:"webhook-details"},[e("md-divider"),e("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.webhooks.details.deliveryHeaders))]),e("p",[t._v(t._s(t.translations.settings.webhooks.details.deliveryDetails))]),e("md-table",[e("md-table-header",[e("md-table-row",[e("md-table-head",[t._v(t._s(t.translations.settings.webhooks.details.deliveryDetailHeader))]),e("md-table-head",[t._v(t._s(t.translations.settings.webhooks.details.deliveryDetailDescription))])],1)],1),e("md-table-body",[e("md-table-row",[e("md-table-cell",[e("code",[t._v("Content-Type")])]),e("md-table-cell",[t._v("application/json; charset=utf-8")])],1)],1)],1),e("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.webhooks.details.deliveryExample))]),t._m(0)],1)}),$g=[function(){var t=this,e=t._self._c;return e("pre",[e("code",[t._v('{\n  "action": "appointment_booked", // possible values of `appointment_booked`, `appointment_edited`, `appointment_canceled`\n  "action_noun": "appointment",\n  "action_verb": "booked", // possible values of `booked`, `edited`, `canceled`\n  "signature": {\n    "token": "1a2b3c4d5e6f..."  // so you can verify that the delivered webhook originated from this site\n    "site_name": "This WordPress Site"  // in case you have multiple sites sharing the same webhook\n    "site_url": "https://thissite.com"  //  in case you have multiple sites sharing the same webhook\n    "network_site_url": "1a2b3c4d5e6f..."  // only different than `site_url` if using multisite\n  },\n  "appointment": {\n    "id": "123", // Unique ID to reference this appointment\n    "appointment_type_id": "36", // Unique value that is consistent even if the type\'s name/slug changes\n    "appointment_type_slug": "2hr-call",\n    "customer_id": "1",\n    "customer_information": {\n      "Name": "Nathan Tyler",\n      "Email": "nathan@tylerdigital.com"\n      // values from your custom fields will also be included here\n    },\n    "start_date": "2018-09-20 16:15:00", // all dates are stored in the UTC timezone\n    "end_date": "2018-09-20 18:15:00",\n    "status": "booked", // possible values of `booked` or `canceled`\n    "date_created": "2018-09-19 01:00:44",\n    "date_modified": "2018-09-19 01:00:44",\n    "public_edit_url": "http://yoursite.com/appointments/change/e7b9a0a37d18e86ef11b2da12345678900",\n    "payment_method": "stripe",\n    "web_meeting_url": "https://your-web-meeting-url.com/url/j.php?MTID=m89e2d3199fc229a01732c0964bf48c03",\n    "web_meeting_password": "your-meeting-password",\n    "appointment_type_title": "2hr Call",\n    "local_time_for": {\n      "appointment_type": {\n        // dates and times shifted (from UTC) to the appointment type\'s timezone\n        "raw": {\n          "start_date": "2018-09-20 16:15:00",\n          "end_date": "2018-09-20 18:15:00",\n          "date_created": "2018-09-19 01:00:44",\n          "date_modified": "2018-09-19 01:00:44"\n        },\n        "formatted": {\n          "start_date": "September 20, 2018 4:15 pm PDT",\n          "end_date": "September 20, 2018 6:15 pm PDT",\n          "date_created": "September 19, 2018 1:00 am PDT",\n          "date_modified": "September 19, 2018 1:00 am PDT"\n        }\n      }\n    }\n  },\n  "team_members": [{     // Displays all/any team member if assigned (Business edition)\n    "id": 1,\n    "wp_user_id" : 0,  //  "0" if not a WP user\n    "name": "John Doe", \n    "display_name": "John Doe",\n    "email": "john@gmail.com"\n  },\n  {\n    "id": 2,\n    "wp_user_id" : 2,\n    "name": "Jane Doe",\n    "display_name": "Jane Doe",\n    "email": "jane@gmail.com"\n  }]\n}\n')])])}],Ig={name:"webhookDetails",props:["index"],data(){return{}},computed:{...(0,o.rn)("translations",["translations"])}},Ng=Ig,jg=(0,K.Z)(Ng,Og,$g,!1,null,null,null),zg=jg.exports,Ug={name:"webhookEdit",props:["index"],components:{WebhookDetails:zg},data(){return{all:!0,dirty:!1,saving:!1,webhook:{},webhookTriggers:A,url:"",urlExists:!1,validAppointmentTypes:!0,validToken:!0,validTriggers:!0,validUrl:!0,validUrls:!0,leaveWithoutSaving:!1}},beforeMount(){if(this.index||0===this.index){let t=Ye().cloneDeep(this.settings.webhooks.webhooks[this.index]);this.webhook=t}Object.prototype.hasOwnProperty.call(this.webhook,"token")&&this.webhook.token||this.refreshToken(),Object.prototype.hasOwnProperty.call(this.webhook,"triggers")||this.$set(this.webhook,"triggers",[]),Object.prototype.hasOwnProperty.call(this.webhook,"urls")||this.$set(this.webhook,"urls",[]),Object.prototype.hasOwnProperty.call(this.webhook,"appointment_types")||this.$set(this.webhook,"appointment_types",[]),Object.prototype.hasOwnProperty.call(this.webhook,"appointment_types")&&this.webhook.appointment_types.length&&(this.all=!1),Object.prototype.hasOwnProperty.call(this.webhook,"schema")||(this.webhook.schema="2018-09-20")},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{webhook:{handler:function(t,e){this.dirty=!Ye().isEmpty(e)},deep:!0}},computed:{title:{get(){return Object.prototype.hasOwnProperty.call(this.webhook,"title")?this.webhook.title:""},set(t){this.$set(this.webhook,"title",t)}},token:{get(){return Object.prototype.hasOwnProperty.call(this.webhook,"token")?this.webhook.token:""},set(t){this.$set(this.webhook,"token",t)}},triggers:{get(){return this.webhook.triggers},set(t){this.$set(this.webhook,"triggers",t)}},appointment_types:{get(){return this.webhook.appointment_types},set(t){this.$set(this.webhook,"appointment_types",t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"])},methods:{cancelEdit(){this.$router.push("/ssa/settings/webhooks/list")},generateToken(){let t=new Uint8Array(12);return window.crypto.getRandomValues(t),Array.from(t,(t=>("0"+t.toString(16)).substr(-2))).join("")},refreshToken(){let t=this.generateToken();this.$set(this.webhook,"token",t)},isValidUrl(t){try{let e=t;return e.toLowerCase(),e=new URL(t),!0}catch(e){return!1}},addUrl(t){if(this.validUrl=!0,"keyup"===t.type&&13!==t.keyCode)return;if(!this.url)return;if(!this.isValidUrl(this.url))return void(this.validUrl=!1);let e=Object.prototype.hasOwnProperty.call(this.webhook,"urls")?this.webhook.urls.slice(0):[],s=e.findIndex((t=>t===this.url));s>-1?this.urlExists=!0:(this.urlExists=!1,e.push(this.url),this.$set(this.webhook,"urls",e),this.validateRequiredFields(),this.url="")},removeUrl(t){let e=this.webhook.urls.slice(0);e.splice(t,1),this.$set(this.webhook,"urls",e)},validateRequiredFields(){this.validTriggers=this.webhook.triggers.length,this.validUrls=this.webhook.urls.length,this.validAppointmentTypes=this.webhook.appointment_types.length||this.all,this.validToken=this.webhook.token.length},saveWebhook(){this.validateRequiredFields(),this.validUrls&&this.validTriggers&&this.validAppointmentTypes&&this.validToken&&(this.saving=!0,this.index||0===this.index?this.updateSingleWebhook({index:this.index,webhook:this.webhook,settings:this.settings}):this.addSettingsWebhook({webhook:this.webhook,settings:this.settings}),this.updateWebhooksSettings().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})))},toggleAll(t){if(t)return void this.$set(this.webhook,"appointment_types",[]);let e=this.editableAppointmentTypes.map((t=>t.id));this.$set(this.webhook,"appointment_types",e)},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.OI)("webhooks",["updateSingleWebhook","addSettingsWebhook"]),...(0,o.nv)("webhooks",["updateWebhooksSettings"])}},Bg=Ug,Fg=(0,K.Z)(Bg,Eg,Lg,!1,null,null,null),Gg=Fg.exports,Wg=[{path:"webhooks",component:wg,redirect:"/ssa/settings/webhooks/list",meta:{ssa_manage_site_settings:!0},children:[{path:"list",name:"webhooks-list",component:Mg},{path:"webhook/:index?",name:"webhook-single",component:Gg,props:!0}]}],Rg=function(){var t=this,e=t._self._c;return e("div",{staticClass:"staff-all"},[t.loading?e("loading",{attrs:{message:t.translations.settings.staff.loading}}):e("router-view")],1)},Hg=[],qg={name:"staffAll",components:{Loading:nt},data(){return{loading:!0}},mounted(){this.init()},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["staff","users"])},methods:{init(){return"undefined"===typeof this.staff?(this.loading=!0,void this.fetchStaff().then((()=>this.init())).catch((t=>{console.log("Error loading staff",t)}))):this.users?("staff-all"===this.$route.name&&this.syncStaffFromUsers(),void(this.loading=!1)):(this.loading=!0,void this.fetchUsers().then((()=>this.init())).catch((t=>{console.log("Error loading WP users",t)})))},...(0,o.nv)("staff",["fetchStaff","fetchUsers","syncStaffFromUsers"])}},Zg=qg,Kg=(0,K.Z)(Zg,Rg,Hg,!1,null,null,null),Vg=Kg.exports,Yg=function(){var t=this,e=t._self._c;return e("div",{staticClass:"staff-listing"},[e("settings-header"),e("md-toolbar",{staticClass:"md-transparent"},[e("md-input-container",{staticClass:"title"},[e("label",{attrs:{for:"staff-view"}},[e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.staff.selectStaff)+" ")])]),e("md-select",{attrs:{name:"staff-view",id:"staff-view"},model:{value:t.staffView,callback:function(e){t.staffView=e},expression:"staffView"}},[e("md-option",{attrs:{value:"publish"}},[t._v(t._s(t.translations.settings.staff.title))]),e("md-option",{attrs:{value:"draft"}},[t._v(t._s(t.translations.settings.staff.status.inactive))])],1)],1),e("div",{staticStyle:{flex:"1"}}),t.searching?e("div",{staticClass:"search"},[e("button",{on:{click:function(e){return t.closeSearch()}}},[e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.staff.search.closeSearch)+" ")]),e("md-icon",[t._v("keyboard_arrow_left")])],1),e("label",{staticClass:"screen-reader-text",attrs:{for:"searchLabel"}},[t._v(t._s(t.translations.settings.staff.search.searchLabel))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],ref:"searchInput",attrs:{id:"searchLabel",type:"text",placeholder:"Search"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),e("button",{on:{click:function(e){t.searchString=""}}},[e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.staff.search.clearSearch)+" ")]),e("md-icon",[t._v("close")])],1)]):t._e(),t.searching?t._e():e("md-button",{staticClass:"md-primary indicator-button",on:{click:function(e){return t.openSearch()}}},[e("md-icon",[t._v("search")]),t._v(" "+t._s(t.translations.appointments.filter.search)+" "),""!=t.searchString?e("span",{staticClass:"indicator"}):t._e()],1),e("md-button",{staticClass:"md-primary",on:{click:t.addStaff}},[e("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.staff.actions.addNew)+" ")],1)],1),e("md-dialog",{ref:"confirmDelete"},[e("md-dialog-title",[t._v(" "+t._s(t.translations.settings.staff.confirmDelete)+" ")]),t.pendingStaff?e("md-dialog-content"):t._e(),e("md-dialog-actions",[e("md-button",{on:{click:t.cancelDelete}},[t._v(" "+t._s(t.translations.settings.staff.confirmDeleteCancel)+" ")]),e("md-button",{on:{click:t.deleteSelectedStaff}},[t._v(" "+t._s(t.translations.settings.staff.confirmDeleteOk)+" ")])],1)],1),t.displayStaff.length?e("md-list",{staticClass:"staff-list md-triple-line"},t._l(t.displayStaff,(function(s){return e("md-list-item",{key:s.id,class:{"status-deleting":s.id===t.pendingId},on:{click:function(e){return t.editStaff(s.id)}}},[e("md-avatar",{staticClass:"border-theme",attrs:{"md-theme":"light-green"}},[0!==parseInt(s.user_id,10)?e("img",{attrs:{src:t.userGravatar(s.user_id),alt:""}}):e("md-icon",{staticClass:"md-size-2x md-primary"},[t._v(" account_circle ")])],1),e("div",{staticClass:"md-list-text-container"},[e("span",[t._v(" "+t._s(s.name?s.name:s.display_name)+" "),0!==parseInt(s.user_id,10)?[e("a",{staticClass:"staff-wp-indicator",attrs:{href:t.wpUserLink(s.user_id)}},[t._v(" WP "),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.staff.connectedUserEdit)+" ")])])]:t._e()],2),e("span",[t._v(t._s(s.email))]),t.smsModule.enabled?e("span",[t._v(t._s(s.phone))]):t._e()]),e("md-menu",[e("md-button",{staticClass:"md-icon-button md-list-action md-primary",attrs:{"md-menu-trigger":"",disabled:t.saving}},[e("md-icon",{staticClass:"md-primary"},[t._v("settings")])],1),e("md-menu-content",["publish"===s.status?[e("md-menu-item",{on:{click:function(e){return t.editStaff(s.id)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("edit")]),e("span",[t._v(t._s(t.translations.actions.edit))])],1),e("md-menu-item",{on:{click:function(e){return t.toggleStaff(s.id)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("block")]),e("span",[t._v(t._s(t.translations.actions.deactivate))])],1)]:[e("md-menu-item",{on:{click:function(e){return t.toggleStaff(s.id)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("how_to_reg")]),e("span",[t._v(t._s(t.translations.actions.activate))])],1),e("md-menu-item",{on:{click:function(e){return t.confirmDelete(s.id)}}},[e("md-icon",{staticClass:"md-primary"},[t._v("delete")]),e("span",[t._v(t._s(t.translations.actions.delete))])],1)]],2)],1)],1)})),1):e("empty",{attrs:{label:t.emptyLabel,description:t.emptyDescription}},["publish"===t.staffView?e("md-button",{staticClass:"md-raised md-primary",on:{click:t.addStaff}},[t._v(" "+t._s(t.translations.settings.staff.actions.addNew)+" ")]):t._e()],1)],1)},Jg=[],Xg={name:"settingsStaff",components:{SettingsHeader:El,Empty:$e},data(){return{pendingId:null,saving:!1,staffView:"publish",searching:!1,filteredStaff:[]}},watch:{searchString(t,e){if(t!==e){var s=[];s="publish"===this.staffView?[...this.staffStatusPublish]:[...this.staffStatusDraft];var i=[];for(let e=0;e<s.length;e++){const n=s[e].display_name+s[e].email;n.toLowerCase().includes(t.toLowerCase())&&i.push(s[e])}this.filteredStaff=i}}},mounted(){this.getGuides({"ssasc-plugin-screen":z.teams.list})},computed:{displayStaff(){return this.searching&&this.searchString.length?this.filteredStaff:"publish"===this.staffView?this.staffStatusPublish:this.staffStatusDraft},emptyDescription(){return"publish"===this.staffView?this.translations.settings.staff.emptyDescription:this.translations.settings.staff.emptyInactiveDescription},emptyLabel(){return"publish"===this.staffView?this.translations.settings.staff.emptyLabel:this.translations.settings.staff.emptyInactiveLabel},pendingStaff(){if(this.pendingId)return this.staff.find((t=>t.id.toString()===this.pendingId.toString()))},searchString:{get(){return this.search},set(t){this.setSearch(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.rn)("staff",["staff","search"]),...(0,o.Se)("appointments",["wpUserLink"]),...(0,o.Se)("staff",["staffStatusDraft","staffStatusPublish","userGravatar"]),...(0,o.Se)("notifications",["smsModule"])},methods:{addStaff(){this.defineNewStaffMember(),this.$router.push({name:"staff-single"})},cancelDelete(){this.$refs["confirmDelete"].close()},confirmDelete(t){this.$refs["confirmDelete"].open(),this.pendingId=t},deleteSelectedStaff(){let t=this.pendingId;this.$refs["confirmDelete"].close(),this.deleteStaff(t).then((()=>{})).catch((t=>{console.log(t)}))},editStaff(t){if(this.saving)return;let e=this.staff.find((e=>e.id===t));this.setCurrentStaff(e),this.$router.push({name:"staff-single",params:{id:t}})},toggleStaff(t){if(this.saving)return;this.saving=!0,this.pendingId=t;let e=this.staff.find((e=>e.id===t));this.setCurrentStaff(e);let s="publish"===e.status?"draft":"publish";this.setCurrentStaff({key:"status",value:s}),this.saveStaff().then((()=>{this.saving=!1,this.pendingId=null})).catch((t=>{console.log(t)}))},openSearch(){this.searching=1,this.$nextTick((()=>this.$refs.searchInput.focus())),document.addEventListener("keydown",this.keyPressEsc)},keyPressEsc(t){"Escape"===t.key&&(this.closeSearch(),document.removeEventListener("keydown",this.keyPressEsc))},closeSearch(){this.searchString="",this.searching=0},...(0,o.nv)("staff",["deleteStaff","saveStaff"]),...(0,o.OI)("staff",["defineNewStaffMember","setCurrentStaff","setSearch"]),...(0,o.nv)("guides",["getGuides"])}},Qg=Xg,t_=(0,K.Z)(Qg,Yg,Jg,!1,null,null,null),e_=t_.exports,s_=function(){var t=this,e=t._self._c;return e("form",{staticClass:"staff-edit",class:{saving:t.saving},attrs:{novalidate:""}},[t.currentUserCan("ssa_manage_staff")?e("md-button",{on:{click:t.cancelEdit}},[e("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1):t._e(),e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.pageTitle)+" ")]),e("md-dialog",{ref:"confirmLeaveDirty"},[e("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.staff.confirmIgnoreChangesTitle)}}),e("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.staff.confirmIgnoreChangesContent)}}),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.staff.confirmIgnoreChangesCancel))]),e("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.staff.confirmIgnoreChangesOkay))])],1)],1),e("md-dialog-confirm",{ref:"confirmLeaveIncomplete",attrs:{"md-title":t.translations.settings.staff.confirmDelete,"md-content-html":t.translations.settings.staff.confirmImcompleteContent,"md-ok-text":t.translations.settings.staff.confirmDeleteOk,"md-cancel-text":t.translations.settings.staff.confirmIncompleteCancel}}),e("md-dialog-confirm",{ref:"existingStaff",attrs:{"md-title":t.editExistingText["title"],"md-content-html":t.editExistingText["content-html"],"md-ok-text":t.editExistingText["ok-text"],"md-cancel-text":t.editExistingText["cancel-text"]}}),e("md-dialog-confirm",{ref:"linkToUser",attrs:{"md-title":t.translations.settings.staff.linkUser.title,"md-content-html":"<p>"+t.translations.settings.staff.linkUser.htmlIntro+"</p><p><strong>"+t.translations.settings.staff.fields.name.label+": </strong>"+t.currentUser.name+"<br/><strong>"+t.translations.settings.staff.fields.email.label+": </strong>"+t.currentUser.email+"</p><p>"+t.translations.settings.staff.linkUser.htmlExplanation+"</p>","md-ok-text":t.translations.settings.staff.linkUser.okText,"md-cancel-text":t.translations.settings.staff.linkUser.cancelText}}),e("md-dialog-alert",{ref:"emailTaken",attrs:{"md-title":t.translations.settings.staff.emailTaken.title,"md-content-html":t.translations.settings.staff.emailTaken["content-html"]}}),e("md-snackbar",{ref:"saveStatus",attrs:{"md-position":"top center"}},[e("span",[t._v(" "+t._s(t.translations.settings.staff.actions.saved)+" ")])]),t.loading?e("loading",{attrs:{message:t.translations.settings.staff.loading}}):t.id?[e("md-tabs",{ref:"staffTabs",staticClass:"md-transparent"},[e("md-tab",{ref:"contactTab",attrs:{id:"contact","md-active":"contact"===t.activeTab,"md-label":t.translations.settings.staff.editProfile.contact},nativeOn:{focusin:function(e){return t.updateTab("contact")}}},[e("edit-contact",{attrs:{"available-email":t.availableEmail,"user-id":t.userId,saving:t.saving},on:{validationCheck:t.validateContact}})],1),t.currentUserCan("ssa_manage_staff")?e("md-tab",{attrs:{"md-active":"permissions"===t.activeTab,id:"permissions","md-label":t.translations.settings.staff.editProfile.permissions},nativeOn:{focusin:function(e){return t.updateTab("permissions")}}},[0!==t.userId?e("edit-permissions",{attrs:{id:t.id,"user-id":t.userId,saving:t.saving}}):e("empty",{attrs:{label:t.translations.settings.staff.not_connected.title,description:t.translations.settings.staff.not_connected.desc}},[e("p",[t._v(" "+t._s(t.currentStaff.email)+" ")]),e("md-button",{staticClass:"md-raised md-primary",attrs:{href:t.api.admin_url+"user-new.php"}},[t._v(" "+t._s(t.translations.settings.staff.not_connected.addNew)+" ")])],1)],1):t._e(),e("md-tab",{attrs:{"md-active":"availability"===t.activeTab,id:"availability","md-label":t.translations.settings.staff.editProfile.availability},nativeOn:{focusin:function(e){return t.updateTab("availability")}}},[e("edit-availability",{attrs:{"all-appointment-types":t.allAppointmentTypes,id:t.id},on:{toggleAll:t.toggleAllAppointmentTypes}})],1),e("md-tab",{attrs:{"md-active":"web_meetings"===t.activeTab,id:"web_meetings","md-label":t.translations.settings.staff.editProfile.web_meetings},nativeOn:{focusin:function(e){return t.updateTab("web_meetings")}}},[e("edit-web-meetings")],1)],1),e("div",{staticClass:"button-bar"},[e("md-button",{staticClass:"md-raised",attrs:{disabled:t.saving},on:{click:t.cancelEdit}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveStaffForm}},[t._v(" "+t._s(t.translations.general.save)+" ")]),t.saving?e("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)]:[e("user-selector",{attrs:{disabled:t.saving,label:t.translations.settings.staff.fields.email.label,help:t.translations.settings.staff.fields.email.help},on:{input:t.createStaffFromEmail}})]],2)},i_=[],n_=function(){var t=this,e=t._self._c;return e("md-layout",{attrs:{"md-vertical-align":"center","md-gutter":16}},[e("md-layout",[e("md-input-container",{class:{"md-input-invalid":t.error}},[e("label",{attrs:{for:"selectUser"}},[t._v(" "+t._s(t.label)+" ")]),t.unattachedUsers.length?e("md-autocomplete",{attrs:{disabled:t.disabled,list:t.unattachedUsers,"print-attribute":"email","filter-list":t.userFilter,"min-chars":0,"max-height":6,debounce:300},on:{change:t.userCallback,selected:t.userCallback},model:{value:t.selectedEmail,callback:function(e){t.selectedEmail=e},expression:"selectedEmail"}}):e("md-input",{attrs:{disabled:t.disabled},on:{change:t.userCallback},model:{value:t.selectedEmail,callback:function(e){t.selectedEmail=e},expression:"selectedEmail"}}),t.error?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.error)+" ")]):t.help?e("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.help)+" ")]):t._e()],1)],1),e("md-layout",{attrs:{"md-flex":"none"}},[e("div",[e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.disabled},on:{click:t.handleCreate}},[t._v(" "+t._s(t.translations.settings.staff.actions.create)+" ")])],1)])],1)},a_=[],o_={name:"userSelector",components:{},props:{disabled:{type:Boolean},help:{type:String},label:{type:String},value:{type:String}},data(){return{error:!1,selectedDisplayName:null,selectedEmail:null,selectedUser:null}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["users"]),...(0,o.Se)("notifications",["validateEmail"]),...(0,o.Se)("staff",["unattachedUsers"])},methods:{handleCreate(){this.selectedEmail&&this.validateEmail(this.selectedEmail)?(this.error=!1,this.$emit("input",{user_id:this.selectedUser,email:this.selectedEmail,display_name:this.selectedDisplayName})):this.error=!0},userCallback(t){if("object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"email"))return this.selectedEmail=t.email.toLowerCase(),this.selectedUser=t.id,void(this.selectedDisplayName=t.display_name);if(!this.validateEmail(t))return;this.error=!1,this.selectedEmail=t;let e=this.users.find((t=>t.email.toLowerCase()===this.selectedEmail));this.selectedUser=e?e.id:0,this.selectedDisplayName=e?e.display_name:""},userFilter(t,e){return t.filter((t=>-1!==t.email.toLowerCase().indexOf(e.toLowerCase()))).slice(0,5)},...(0,o.nv)("staff",["fetchUsers"])}},r_=o_,l_=(0,K.Z)(r_,n_,a_,!1,null,null,null),p_=l_.exports,d_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"edit-staff-contact"},[0===t.userId?e("md-input-container",{class:{"md-input-invalid":t.$v.name.$error}},[e("label",{attrs:{for:"name"}},[t._v(" "+t._s(t.translations.settings.staff.fields.name.label)+" ")]),e("md-input",{attrs:{disabled:t.saving,id:"name",required:""},model:{value:t.$v.name.$model,callback:function(e){t.$set(t.$v.name,"$model",e)},expression:"$v.name.$model"}}),t.$v.name.$error?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.name.error)+" ")]):t._e()],1):t._e(),0!==t.userId?e("md-toolbar",{staticClass:"md-transparent"},[e("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(" "+t._s(t.translations.settings.staff.connectedUser)+" ")])]):t._e(),e("md-input-container",{class:{"md-input-invalid":t.$v.display_name.$error}},[e("label",{attrs:{for:"display_name"}},[t._v(" "+t._s(t.translations.settings.staff.fields.display_name.label)+" ")]),e("md-input",{attrs:{disabled:t.saving,id:"display_name",required:""},model:{value:t.$v.display_name.$model,callback:function(e){t.$set(t.$v.display_name,"$model",e)},expression:"$v.display_name.$model"}}),t.$v.display_name.$error?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.display_name.error)+" ")]):e("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.settings.staff.fields.display_name.help)+" ")])],1),e("md-input-container",{class:{"md-input-invalid":t.$v.email.$error||!t.availableEmail}},[e("label",{attrs:{for:"email"}},[t._v(" "+t._s(t.translations.settings.staff.fields.email.label)+" ")]),e("md-input",{attrs:{id:"email",disabled:t.saving||0!==t.userId,required:""},model:{value:t.$v.email.$model,callback:function(e){t.$set(t.$v.email,"$model",e)},expression:"$v.email.$model"}}),t.availableEmail?t.$v.email.$error?e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.error)+" ")]):t._e():e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.errorTaken)+" ")])],1),t.smsModule.active?e("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validPhone}},[e("label",{attrs:{for:"phone"}},[t._v(" "+t._s(t.translations.settings.staff.fields.phone.label)+" ")]),e("telephone",{attrs:{placeholder:"",disabled:t.saving,"input-options":{id:"phone"}},on:{validate:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t.validPhone?t._e():e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.general.phone_error)+" ")])],1):t._e(),e("md-checkbox",{attrs:{disabled:t.currentStaff.can_manage_appointments,name:"wpUser"},model:{value:t.canLogin,callback:function(e){t.canLogin=e},expression:"canLogin"}},[t._v(" "+t._s(t.translations.settings.staff.creatUser)+" ")])],1)},c_=[],m_={name:"settingsContactStaffEdit",components:{Telephone:Tl},mixins:[Un.oE],props:["userId","saving","availableEmail"],data(){return{validPhone:!0}},validations:{name:{required:Bn.C1},display_name:{required:Bn.C1},email:{required:Bn.C1,email:Bn.Do}},computed:{display_name:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"display_name")?this.currentStaff.display_name:""},set(t){this.setCurrentStaff({key:"display_name",value:t}),this.validationCheck()}},email:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"email")?this.currentStaff.email.toLowerCase():""},set(t){this.setCurrentStaff({key:"email",value:t.toLowerCase()}),this.validationCheck()}},name:{get(){let t="";return t=0===this.userId?this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"name")?this.currentStaff.name:"":this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"display_name")?this.currentStaff.display_name:"",t},set(t){this.setCurrentStaff({key:"name",value:t}),this.validationCheck()}},phone:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"phone")?this.currentStaff.phone:""},set(t){this.setCurrentStaff({key:"phone",value:t})}},canLogin:{get(){return this.castToBoolean(this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"can_login")?this.currentStaff.can_login:"")},set(t){this.setCurrentStaff({key:"can_login",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["currentStaff"]),...(0,o.Se)("appointments",["wpUserLink"]),...(0,o.Se)("notifications",["smsModule"]),...(0,o.Se)(["castToBoolean"])},methods:{checkPhone(t){this.validPhone=t,this.validationCheck()},validationCheck(){this.$v.$touch(),this.$emit("validationCheck",!this.$v.name.$invalid&&!this.$v.display_name.$invalid&&!this.$v.email.$invalid&&this.validPhone)},...(0,o.OI)("staff",["setCurrentStaff"])}},u_=m_,h_=(0,K.Z)(u_,d_,c_,!1,null,null,null),g_=h_.exports,__=function(){var t=this,e=t._self._c;return e("div",{staticClass:"edit-staff-permissions"},[t.settings.blackout_dates.enabled&&0!==t.userId&&t.currentUserCan("ssa_manage_staff")?e("div",{staticClass:"md-checkbox-with-note"},[e("md-checkbox",{attrs:{id:"blackout",name:"blackout",disabled:t.saving||t.adminManagingSelf},model:{value:t.manages_blackout_dates,callback:function(e){t.manages_blackout_dates=e},expression:"manages_blackout_dates"}},[t._v(" "+t._s(t.translations.settings.staff.fields.blackout.label)+" ")])],1):t._e(),0!==t.userId&&t.currentUserCan("ssa_manage_staff")?e("div",{staticClass:"md-checkbox-with-note"},[e("md-checkbox",{attrs:{id:"working-hour-access",name:"working-hour-access",disabled:t.saving||t.adminManagingSelf},model:{value:t.manages_working_hours,callback:function(e){t.manages_working_hours=e},expression:"manages_working_hours"}},[t._v(" "+t._s(t.translations.settings.staff.fields.manages_working_hours.label)+" ")])],1):t._e(),t.settings.google_calendar.enabled&&0!==t.userId?e("div",{staticClass:"md-checkbox-with-note"},[e("md-checkbox",{attrs:{id:"google-calendar",name:"google-calendar",disabled:t.saving||t.adminManagingSelf},model:{value:t.manages_google,callback:function(e){t.manages_google=e},expression:"manages_google"}},[t._v(" "+t._s(t.translations.settings.staff.fields.gcalendar.label)+" ")])],1):t._e()])},f_=[],y_={name:"settingsPermissionsStaffEdit",props:["userId","saving","id"],data(){return{}},computed:{adminManagingSelf(){return this.currentUserIsSelf&&this.currentUserCan("ssa_manage_staff")},manages_blackout_dates:{get(){return!!this.adminManagingSelf||!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_blackout_dates"))&&!!parseInt(this.currentStaff.manages_blackout_dates,10)},set(t){this.setCurrentStaff({key:"manages_blackout_dates",value:t})}},manages_google:{get(){return!!this.adminManagingSelf||!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_google"))&&!!parseInt(this.currentStaff.manages_google,10)},set(t){this.setCurrentStaff({key:"manages_google",value:t})}},manages_working_hours:{get(){return!!this.adminManagingSelf||!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_working_hours"))&&!!parseInt(this.currentStaff.manages_working_hours,10)},set(t){this.setCurrentStaff({key:"manages_working_hours",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("staff",["currentStaff"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsSelf"])},methods:{...(0,o.OI)("staff",["setCurrentStaff"])}},v_=y_,b_=(0,K.Z)(v_,__,f_,!1,null,null,null),k_=b_.exports,C_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"edit-staff-availability"},[t.currentUserCan("ssa_manage_staff")?e("fieldset",{staticClass:"md-fieldset",class:{"md-fieldset-invalid":!t.validAppointmentTypes}},[e("legend",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")]),t.validAppointmentTypes?t._e():e("p",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.appointment_types.error)+" ")]),t.editableAppointmentTypes.length?t.staffAppointmentTypes.length?t.notAllStaff?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.staff.notices.someStaffAppointmentTypes)+" ")]):t._e():e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.staff.notices.noStaffAppointmentTypes)+" ")]):e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.staff.notices.noAppointmentTypes)+" ")]),e("md-list",[t.notAllStaff?t._e():e("md-list-item",[e("md-checkbox",{model:{value:t.allTypes,callback:function(e){t.allTypes=e},expression:"allTypes"}},[t._v(" "+t._s(t.translations.settings.staff.fields.appointment_types.all)+" ")])],1),t.allTypes?t._e():t._l(t.staffAppointmentTypes,(function(s){return e("md-list-item",{key:s.id},[e("md-checkbox",{staticClass:"md-primary",attrs:{id:"type-"+s.id,name:"appointment-types","md-value":s.id},model:{value:t.appointment_types,callback:function(e){t.appointment_types=e},expression:"appointment_types"}},[t._v(" "+t._s(s.title)+" ")])],1)}))],2)],1):[e("div",{staticClass:"md-heading-group"},[e("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")])]),t.appointment_types.length?e("ul",t._l(t.appointment_types,(function(t){return e("appointment-type-read-only",{key:t.id,attrs:{id:t}})})),1):e("p",[t._v(" "+t._s(t.translations.settings.staff.fields.appointment_types.error_staff)+" ")])],t.settings.blackout_dates.enabled&&(t.canEditOwnBlackoutDates||t.currentUserCan("ssa_manage_staff"))?[e("div",{staticClass:"md-heading-group"},[e("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.blackout.title)+" ")]),e("p",[t._v(" "+t._s(t.translations.settings.blackout.description)+" ")])]),e("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/blackout/"+t.id}},[t._v(" "+t._s(t.translations.settings.staff.fields.blackout.editText)+" ")])]:t._e(),t.currentUserCan("ssa_manage_staff")||t.canEditOwnWorkingHours?[e("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.staff.fields.working_hours.label)+" ")]),e("fieldset",{staticClass:"md-fieldset field-wrapper"},[e("legend",[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.legend)+" ")]),e("md-radio",{attrs:{id:"custom_working_hours_off",name:"custom_working_hours","md-value":!1,"aria-described-by":"custom-working-hours-help"},model:{value:t.custom_working_hours,callback:function(e){t.custom_working_hours=e},expression:"custom_working_hours"}},[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.labelOff)+" ")]),e("md-radio",{attrs:{id:"custom_working_hours_on",name:"custom_working_hours","md-value":!0,"aria-described-by":"custom-working-hours-help"},model:{value:t.custom_working_hours,callback:function(e){t.custom_working_hours=e},expression:"custom_working_hours"}},[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.labelOn)+" ")]),e("div",{staticClass:"custom-working-hours-help",attrs:{"aria-live":"polite"}},[e("p",[t.custom_working_hours?[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.helpOn)+" ")]:[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.helpOff)+" ")]],2)])],1),t.custom_working_hours?e("p",[e("strong",[t._v(t._s(t.translations.settings.staff.fields.working_hours.timezone_label))]),t._v(" "+t._s(t.formatTimezone(t.settings.global.timezone_string))),e("br"),e("strong",[t._v(t._s(t.translations.settings.staff.fields.working_hours.current_time_label))]),t._v(" "+t._s(t.moment.tz(t.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment))+" ")]):t._e(),t.custom_working_hours?e("availability-picker",{attrs:{increment:30},model:{value:t.working_hours,callback:function(e){t.working_hours=e},expression:"working_hours"}}):t._e()]:t._e(),t.managesGoogle?[e("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.wizard.appointmentType.googleCalendar)+" ")]),0!==t.userId&&t.currentUserCan("ssa_manage_staff")&&!t.currentUserIsSelf?e("p",[t.googleCalendarConnected?[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_connected)+" "),t.calendarsConnected?[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_calendars)+" "),e("br"),e("strong",[t._v(" "+t._s(t.translations.settings.staff.google.admin.calendars_connected)+" ")]),t._v(" "+t._s(t.currentStaff.google.excluded_calendars.length)+" ")]:[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_no_calendars)+" ")],e("div",[e("md-button",{staticClass:"md-primary",attrs:{disabled:t.disconnecting},on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1),t.disconnecting?e("md-spinner"):t._e()]:[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_not_connected)+" ")]],2):t._e(),t.canConnectOwnGoogleAccount?[t.googleCalendarConnected?e("google-calendar-list"):e("google-calendar-auth")]:t._e()]:t._e()],2)},S_=[],w_=function(){var t=this,e=t._self._c;return e("li",[t._v(" "+t._s(t.title)+" ("+t._s(t.duration)+") ")])},T_=[],x_={props:["id"],computed:{appointmentType(){let t=this.appointmentTypes.find((t=>parseInt(t.id,10)===parseInt(this.id,10)));return t},title(){return this.appointmentType?this.appointmentType.title:""},duration(){let t=this.appointmentType?this.appointmentType.duration:0;return this.displayDuration(t)},...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.Se)(["displayDuration"])}},A_=x_,P_=(0,K.Z)(A_,w_,T_,!1,null,null,null),D_=P_.exports,M_=function(){var t=this,e=t._self._c;return e("div",[e("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.authorizeGoogle}},[t._v(" "+t._s(t.translations.settings.staff.google.actions.connect)+" ")])],1)},E_=[],L_={name:"staffGoogleCalendarAuth",data(){return{saving:!1}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("google_calendar",["googleAuthUrl"]),...(0,o.rn)("staff",["currentStaff"])},methods:{authorizeGoogle(){this.saving=!0;const t=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.googleCalendarAuth({ssa_redirect:this.$route.path,ssa_base_url:t,staff_id:this.currentStaff.id}).then((()=>{this.saving=!1,window.ssa_is_embed?window.top.location.href=this.googleAuthUrl:window.location.href=this.googleAuthUrl}))},...(0,o.nv)("google_calendar",["googleCalendarAuth"])}},O_=L_,$_=(0,K.Z)(O_,M_,E_,!1,null,null,null),I_=$_.exports,N_=function(){var t=this,e=t._self._c;return e("div",[t.loading?e("loading",{attrs:{size:"body",message:t.loadingMessage}}):t.error?e("empty",{attrs:{label:t.translations.settings.staff.google.check_settings}},[e("md-button",{staticClass:"md-raised",on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1):t.googleCalendarConnected?[e("md-button",{staticClass:"md-raised",on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")]),e("fieldset",{staticClass:"md-fieldset",staticStyle:{"margin-top":"1rem"}},[e("legend",[t._v(" "+t._s(t.translations.wizard.appointmentType.checkCalendars)+" ")]),e("p",[t._v(t._s(t.translations.wizard.appointmentType.checkCalendarsDesc))]),e("md-list",t._l(t.googleCalendars,(function(s){return e("md-list-item",{key:s.gcal_id},[e("md-checkbox",{attrs:{id:s.gcal_id,name:s.gcal_id,"md-value":s.gcal_id},model:{value:t.googleCalendarsAvailability,callback:function(e){t.googleCalendarsAvailability=e},expression:"googleCalendarsAvailability"}},[t._v(" "+t._s(s.summary)+" ")])],1)})),1)],1)]:t._e()],2)},j_=[],z_={name:"staffGoogleCalendarList",components:{Loading:nt,Empty:$e},data(){return{loading:!0,loadingMessage:"",error:!1}},mounted(){this.loadingMessage=this.translations.settings.google_calendar.loadingCalendars,this.setGoogleAccountConnected(),this.googleCalendars.length?this.loading=!1:this.fetchGoogleCalendars({staff_id:this.currentStaff.id}).then((()=>{this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0}))},computed:{googleCalendarConnected(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google_access_token")&&!Ye().isEmpty(this.currentStaff.google_access_token)},googleCalendarsAvailability:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google")&&Object.prototype.hasOwnProperty.call(this.currentStaff.google,"excluded_calendars")?this.currentStaff.google.excluded_calendars:[]},set(t){let e=this.currentStaff.google||{},s=Object.assign({},e,{excluded_calendars:t});this.setCurrentStaff({key:"google",value:s})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["currentStaff","googleCalendars"])},methods:{disconnectAccount(){this.loadingMessage=this.translations.settings.google_calendar.disconnecting,this.loading=!0,this.googleCalendarDeauth({staff_id:this.currentStaff.id}).then((()=>{this.loading=!1,this.saveStaff()}))},setGoogleAccountConnected(){let t=this.currentStaff.google||{},e=Object.assign({},t,{connected:this.googleCalendarConnected}),s=JSON.stringify(t),i=JSON.stringify(e);s!==i&&(this.setCurrentStaff({key:"google",value:e}),this.saveStaff())},...(0,o.nv)("google_calendar",["fetchGoogleCalendars"]),...(0,o.nv)("staff",["googleCalendarDeauth","saveStaff"]),...(0,o.OI)("staff",["setCurrentStaff"])}},U_=z_,B_=(0,K.Z)(U_,N_,j_,!1,null,null,null),F_=B_.exports,G_={name:"settingsAvailabilityStaffEdit",props:["id","allAppointmentTypes"],components:{Notification:Ys,AvailabilityPicker:da,AppointmentTypeReadOnly:D_,GoogleCalendarAuth:I_,GoogleCalendarList:F_},data(){return{defaultStaff:L,disconnecting:!1,moment:H(),validAppointmentTypes:!0}},computed:{allTypes:{get(){return this.allAppointmentTypes},set(t){this.$emit("toggleAll",t);let e=this.staffAppointmentTypes.map((t=>t.id));this.setCurrentStaff({key:"appointment_types",value:e})}},appointment_types:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"appointment_types")?this.currentStaff.appointment_types.map(String):[]},set(t){this.setCurrentStaff({key:"appointment_types",value:t}),this.validAppointmentTypes=t.length}},calendarsConnected(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google")&&Object.prototype.hasOwnProperty.call(this.currentStaff.google,"excluded_calendars")&&this.currentStaff.google.excluded_calendars.length},canConnectOwnGoogleAccount(){return!(!this.settings.google_calendar.enabled||!Object.prototype.hasOwnProperty.call(this.currentStaff,"google_access_token"))&&(!!this.currentUserIsSelf||this.currentUserIsStaff&&this.currentUserStaffId===this.currentStaff.id&&this.managesGoogle)},canEditOwnBlackoutDates(){return this.currentUserIsStaff&&this.currentUserStaffId===this.currentStaff.id&&this.castToBoolean(this.currentStaff.manages_blackout_dates)},canEditOwnWorkingHours(){return this.currentUserIsStaff&&this.currentUserStaffId===this.currentStaff.id&&this.castToBoolean(this.currentStaff.manages_working_hours)},custom_working_hours:{get(){return!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"custom_working_hours"))&&this.castToBoolean(this.currentStaff.custom_working_hours)},set(t){this.setCurrentStaff({key:"custom_working_hours",value:t})}},googleCalendarConnected(){return this.currentUserIsStaff||this.currentUserIsSelf?this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google_access_token")&&!Ye().isEmpty(this.currentStaff.google_access_token):!!(this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google")&&Object.prototype.hasOwnProperty.call(this.currentStaff.google,"connected"))&&this.currentStaff.google.connected},managesGoogle(){return!(!this.settings.google_calendar.enabled||!this.settings.google_calendar.access_token)&&(!("0"===this.currentStaff.user_id||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_google"))&&this.castToBoolean(this.currentStaff.manages_google))},notAllStaff(){return this.editableAppointmentTypes.length&&this.staffAppointmentTypes.length<this.editableAppointmentTypes.length},working_hours:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"working_hours")?this.currentStaff.working_hours:Object.assign({},this.defaultStaff.working_hours)},set(t){this.setCurrentStaff({key:"working_hours",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("staff",["currentStaff"]),...(0,o.Se)(["castToBoolean","formatTimezone"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsSelf","currentUserIsStaff","currentUserStaffId","userId","staffAppointmentTypes"])},methods:{disconnectAccount(){this.disconnecting=!0,this.googleCalendarDeauth({staff_id:this.currentStaff.id}).then((()=>{this.disconnecting=!1,this.saveStaff()}))},...(0,o.OI)("staff",["setCurrentStaff"]),...(0,o.nv)("staff",["googleCalendarDeauth","saveStaff"])}},W_=G_,R_=(0,K.Z)(W_,C_,S_,!1,null,null,null),H_=R_.exports,q_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"edit-staff-web-meetings"},[[e("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.staff.webMeetings.headline)+" ")]),e("fieldset",{staticClass:"md-fieldset field-wrapper"},[e("p",[t._v(t._s(t.translations.settings.staff.webMeetings.web_meetings_url))]),e("md-input-container",[e("md-input",{attrs:{placeholder:"https://",maxlength:"255",id:"web_meetings_url"},model:{value:t.web_meetings_url,callback:function(e){t.web_meetings_url=e},expression:"web_meetings_url"}}),e("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.errorTaken)+" ")])],1)],1)]],2)},Z_=[],K_={name:"settingsWebMeetingsEdit",computed:{web_meetings_url:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"web_meetings_url")?this.currentStaff.web_meetings_url:null},set(t){this.setCurrentStaff({key:"web_meetings_url",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["currentStaff"])},methods:{...(0,o.OI)("staff",["setCurrentStaff"])}},V_=K_,Y_=(0,K.Z)(V_,q_,Z_,!1,null,null,null),J_=Y_.exports,X_={name:"settingsStaffEdit",components:{Loading:nt,UserSelector:p_,EditContact:g_,EditPermissions:k_,EditAvailability:H_,EditWebMeetings:J_,Empty:$e},props:["id"],data(){return{allAppointmentTypes:!0,activeTab:"contact",availableEmail:!0,dirty:!1,currentUser:{name:"",email:""},defaultStaff:L,editExistingText:{title:"","content-html":"Edit","ok-text":"","cancel-text":""},incomplete:!1,loading:!0,linkUser:!1,saving:!1,validContact:!0,leaveWithoutSaving:!1}},mounted(){this.onMountOrUpdate(),this.getGuides({"ssasc-plugin-screen":z.teams.edit})},beforeRouteEnter(t,e,s){s((i=>{i.navigationGuard(t,e,s)}))},beforeRouteUpdate(t,e,s){this.onMountOrUpdate(),this.navigationGuard(t,e,s)},beforeRouteLeave(t,e,s){if(this.incomplete){let t="confirmLeaveIncomplete";return this.$refs[t].open(),void this.$refs[t].$on("close",(t=>{"ok"===t?(this.deleteCurrentStaff(),s()):s(!1)}))}if(this.dirty){let t="confirmLeaveDirty";return this.$refs[t].open(),void this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}s()},watch:{currentStaffString(t,e){this.dirty=e!==t,this.incomplete=t&&0===parseInt(this.currentStaff.user_id,10)&&(!this.currentStaff.name||!this.currentStaff.display_name)}},computed:{currentStaffString(){return JSON.stringify(this.currentStaff)},name(){let t="";return t=0===this.userId?this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"name")?this.currentStaff.name:"":this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"display_name")?this.currentStaff.display_name:"",t},notAllStaff(){return this.editableAppointmentTypes.length&&this.staffAppointmentTypes.length<this.editableAppointmentTypes.length},pageTitle(){let t=this.translations.settings.staff.actions.addNew;return this.id&&(t=this.name?this.name:this.translations.settings.staff.emptyEditTitle),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.rn)("staff",["currentStaff","staff","users"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsSelf","currentUserIsStaff","currentUserStaffId","userId","staffAppointmentTypes"])},methods:{activateContactTab(){let t=this.$refs.staffTabs.$el,e=t.querySelector(".md-tab-header");e.click();let s=this.$refs.contactTab.$el,i=s.querySelector(".md-input-invalid input");setTimeout((()=>{i.focus()}),300)},cancelEdit(){this.currentUserCan("ssa_manage_staff")?this.$router.push("/ssa/settings/staff"):this.$router.push("/ssa/appointments")},checkEmail(){let t=this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"email")?this.currentStaff.email.toLowerCase():"",e=this.staff.find((t=>t.id===this.currentStaff.id)).email.toLowerCase(),s=this.staff.map((t=>t.email?t.email.toLowerCase():"")),i=s.filter((t=>t!==e));if(this.availableEmail=i.indexOf(t)<0,!this.availableEmail){let t="emailTaken";return void this.$refs[t].open()}if(0!==parseInt(this.currentStaff.user_id,10))return;let n=this.users.find((e=>t===e.email.toLowerCase()));if(n&&!this.linkUser){this.availableEmail=!1,this.currentUser={name:n.display_name,email:n.email.toLowerCase()};let e="linkToUser";this.$refs[e].open(),this.$refs[e].$on("close",(e=>{if("ok"===e)this.availableEmail=!0,this.linkUser=!0,this.setCurrentStaff({key:"user_id",value:n.id}),this.saveStaffForm();else{this.availableEmail=!0,this.linkUser=!1;let e=this.staff.find((t=>t.id===this.currentStaff.id)),s=e.email.toLowerCase();t=s}}))}},createStaffFromEmail(t){let e=this.staff.find((e=>e.email.toLowerCase()===t.email.toLowerCase()));e?this.editExisting(e):(this.saving=!0,t=Object.assign({},this.defaultStaff,t),this.setCurrentStaff(t),this.updateAllAppointmentTypes(),this.saveStaff().then((()=>{this.saving=!1,this.$router.push({name:"staff-single",params:{id:this.currentStaff.id}})})))},deleteCurrentStaff(){let t=this.currentStaff.id;console.log("currentStaff ID",t),this.deleteStaff(t).then((()=>{})).catch((t=>{console.log(t)}))},editExisting(t){let e=this.translations.settings.staff.editExisting[t.status];this.editExistingText=e;let s="existingStaff";this.$refs[s].open(),this.$refs[s].$on("close",(e=>{"ok"===e?(this.setCurrentStaff(t),"publish"!==t.status&&this.setCurrentStaff({key:"status",value:"publish"}),this.saving=!0,this.saveStaff().then((()=>{this.saving=!1,this.updateAllAppointmentTypes()})).catch((t=>{console.log(t)})),this.$router.push("/ssa/settings/staff/profile/"+t.id)):this.$router.push("/ssa/settings/staff")}))},loadStaff(){let t=this.staff.find((t=>parseInt(t.id,10)===parseInt(this.id,10)));this.setCurrentStaff(t),this.syncStaffFromUsers()},navigationGuard(t,e,s){this.currentUserCan("ssa_manage_staff")?(t.params.id||this.setCurrentStaff(void 0),s()):this.currentUserIsStaff?this.$router.push("/ssa/settings/staff/profile/"+this.currentUserStaffId):this.$router.push("/ssa")},onMountOrUpdate(){this.id?(this.loadStaff(),Object.prototype.hasOwnProperty.call(this.currentStaff,"appointment_types")&&this.currentStaff.appointment_types.length?(this.loading=!1,this.updateAllAppointmentTypes()):this.fetchSingleStaff(this.id).then((()=>{this.loading=!1,this.updateAllAppointmentTypes()}))):this.loading=!1},saveStaffForm(){if(this.checkEmail(),this.updateAllAppointmentTypes(),!this.validContact||!this.availableEmail)return this.saving=!1,void this.activateContactTab();this.saving=!0,this.saveStaff().then((()=>{this.dirty=!1,this.saving=!1,this.linkUser=!1,this.currentUserCan("ssa_manage_staff")?(this.$router.push("/ssa/settings/staff"),this.fetchUsers(),this.fetchStaff()):this.$refs.saveStatus.open()})).catch((t=>{console.log("failed to save",t),this.saving=!1}))},toggleAllAppointmentTypes(t){this.allAppointmentTypes=t},updateAllAppointmentTypes(){Object.prototype.hasOwnProperty.call(this.currentStaff,"appointment_types")&&(this.allAppointmentTypes=this.currentStaff.appointment_types.length===this.editableAppointmentTypes.length,this.notAllStaff&&(this.allAppointmentTypes=!1))},updateTab(t){this.activeTab=t},validateContact(t){this.validContact=t},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)("staff",["deleteStaff","fetchSingleStaff","saveStaff","syncStaffFromUsers","fetchStaff","fetchUsers"]),...(0,o.OI)("staff",["setCurrentStaff"]),...(0,o.nv)("guides",["getGuides"])}},Q_=X_,tf=(0,K.Z)(Q_,s_,i_,!1,null,null,null),ef=tf.exports,sf=[{path:"staff",component:Vg,redirect:"/ssa/settings/staff/all",children:[{path:"all",name:"staff-all",component:e_,meta:{ssa_manage_staff:!0}},{path:"profile/:id?",name:"staff-single",component:ef,props:!0}]}],nf=[{path:"settings",component:qr,redirect:"/ssa/settings/all",children:[{path:"all",name:"settings-all",component:cl,meta:{ssa_manage_site_settings:!0}},{path:"license",name:"settings-license",component:fl,meta:{ssa_manage_site_settings:!0}},{path:"general",name:"settings-general",component:Il,meta:{ssa_manage_site_settings:!0}},{path:"developer",name:"settings-developer",component:ap,meta:{ssa_manage_site_settings:!0}},{path:"import-export",name:"settings-import-export",component:fp,meta:{ssa_manage_site_settings:!0}},{path:"styles",name:"settings-styles",component:Lp,meta:{ssa_manage_site_settings:!0}},{path:"translations",name:"settings-translations",component:zp,meta:{ssa_manage_site_settings:!0}},{path:"google-calendar",name:"settings-google-calendar",component:bd,meta:{ssa_manage_site_settings:!0}},{path:"calendar-events",name:"settings-calendar-events",component:gc,meta:{ssa_manage_site_settings:!0}},{path:"mailchimp",name:"settings-mailchimp",component:Oc,meta:{ssa_manage_site_settings:!0}},{path:"webex",name:"settings-webex",component:Jc,meta:{ssa_manage_site_settings:!0}},{path:"zoom",name:"settings-zoom",component:gm,meta:{ssa_manage_site_settings:!0}},{path:"advanced-scheduling",name:"settings-advanced-scheduling",component:km,meta:{ssa_manage_site_settings:!0}},{path:"tracking",name:"settings-tracking",component:Am,meta:{ssa_manage_site_settings:!0}},...ou,...$h,...yg,...Wg,...sf]}],af=function(){var t=this,e=t._self._c;return e("div",{staticClass:"support"},[e("router-view")],1)},of=[],rf={name:"supportHome",data(){return{}}},lf=rf,pf=(0,K.Z)(lf,af,of,!1,null,null,null),df=pf.exports,cf=function(){var t=this,e=t._self._c;return e("div",{staticClass:"support"},[!0===t.error?e("empty",{attrs:{label:t.errorLabel,description:t.errorDescription}},[t.error_exit?e("md-button",{staticClass:"md-raised md-primary",on:{click:()=>this.error=!1}},[t._v(" "+t._s(t.translations.support.showDebugging)+" ")]):t._e()],1):!0===t.loading?e("loading",{attrs:{message:t.loadingMessage}}):[e("md-toolbar",{staticClass:"md-transparent"},[e("div",{staticStyle:{flex:"1"}},[e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.support.supportTitle)+" ")])]),e("md-button",{staticClass:"md-primary md-raised",attrs:{id:"contact-team"},on:{click:t.openContactForm}},[e("md-icon",[t._v(" contact_support ")]),t._v(" "+t._s(t.translations.support.contact)+" ")],1)],1),e("p",[t._v(" "+t._s(t.translations.support.supportDetails)+" ")]),e("ul",{staticClass:"icon-list"},t._l(t.siteStatusList,(function(s,i){return e("li",{key:i},[e("div",{staticClass:"icon"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.statusTheme(s.status)}},["error"===s.status?[t._v(" error ")]:"warning"===s.status?[t._v(" warning ")]:[t._v(" check_circle ")]],2)],1),e("div",{staticClass:"details"},[e("h3",{staticClass:"detail-header"},[t._v(" "+t._s(t.translations.support[i])+" ")]),t._l(s.notices,(function(s,i){return e("p",{key:i,domProps:{innerHTML:t._s(s)}})}))],2)])})),0),e("hr"),e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.support.moreDetails)+" ")]),e("support-local",{on:{localUpdate:t.updateEnvironment}}),e("hr"),e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.support.debugger)+" ")]),e("debugger")],e("md-dialog",{ref:"contactForm",attrs:{"md-open-from":"#contact-team","md-close-to":"#contact-team"}},[e("contact-support",{attrs:{messageInfo:t.debuggingInfo},on:{close:t.closeContactForm}})],1)],2)},mf=[],uf=function(){var t=this,e=t._self._c;return e("div",{staticClass:"support-local"},[e("ul",{staticClass:"icon-list"},t._l(t.systemDetails,(function(s,i){return e("li",{key:i},[e("div",{staticClass:"icon"},[e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"light-blue"}},[t._v("info")])],1),e("div",{staticClass:"details"},[e("h2",{staticClass:"detail-header"},[t._v(t._s(t.translations.support[i]))]),e("p",[t._v(t._s(s))])])])})),0)])},hf=[],gf={name:"supportLocal",data(){return{systemDetails:{os:"",screenResolution:"",webBrowser:"",webBrowserSize:"",siteUrl:""}}},mounted(){this.detectOS(),this.detectScreenResolution(),this.detectBrowser(),this.detectBrowserSize(),this.detectSiteUrl(),this.detectHomeUrl()},updated(){this.$emit("localUpdate",this.systemDetails)},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api"])},methods:{detectOS(){let t=navigator.appVersion.toLowerCase(),e=this.translations.support.unknown;-1!==t.indexOf("win")&&(e="Windows"),-1!==t.indexOf("mac")&&(e="MacOS"),-1!==t.indexOf("x11")&&(e="UNIX"),-1!==t.indexOf("linux")&&(e="Linux"),this.$set(this.systemDetails,"os",e)},detectScreenResolution(){let t=this.translations.support.unknown,e=screen.width,s=screen.height;t=e+" x "+s,this.$set(this.systemDetails,"screenResolution",t)},detectBrowser(){let t=this.translations.support.unknown,e=navigator.userAgent,s=navigator.appName,i=parseFloat(navigator.appVersion),n=parseInt(navigator.appVersion,10),a="",o="",r="";-1!==(o=e.indexOf("OPR/"))?(s="Opera",i=e.substring(o+4)):-1!==(o=e.indexOf("opera"))?(s="Opera",i=e.substring(o+6),-1!==(o=e.indexOf("version"))&&(i=e.substring(o+8))):-1!==(o=e.indexOf("MSIE"))?(s="Microsoft Internet Explorer",i=e.substring(o+5)):-1!==(o=e.indexOf("Chrome"))?(s="Chrome",i=e.substring(o+7)):-1!==(o=e.indexOf("Safari"))?(s="Safari",i=e.substring(o+7),-1!==(o=e.indexOf("Version"))&&(i=e.substring(o+8))):-1!==(o=e.indexOf("Firefox"))?(s="Firefox",i=e.substring(o+8)):(a=e.lastIndexOf(" ")+1)<(o=e.lastIndexOf("/"))&&(s=e.substring(a,o),i=e.substring(o+1),s.toLowerCase()===s.toUpperCase()&&(s=navigator.appName)),-1!==(r=i.indexOf(";"))&&(i=i.substring(0,r)),-1!==(r=i.indexOf(" "))&&(i=i.substring(0,r)),n=parseInt(i,10),isNaN(n)&&(i=parseFloat(navigator.appVersion),n=parseInt(navigator.appVersion,10)),t=s+" "+n+" ("+i+")",this.$set(this.systemDetails,"webBrowser",t)},detectBrowserSize(){let t=this.translations.support.unknown,e=0,s=0;document.body&&document.body.offsetWidth&&(e=document.body.offsetWidth,s=document.body.offsetHeight),"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(e=document.documentElement.offsetWidth,s=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(e=window.innerWidth,s=window.innerHeight),t=e+" x "+s,this.$set(this.systemDetails,"webBrowserSize",t)},detectSiteUrl(){let t=this.translations.support.unknown;this.api&&this.api.site_url&&(t=this.api.site_url),this.$set(this.systemDetails,"siteUrl",t)},detectHomeUrl(){let t=this.translations.support.unknown;this.api&&this.api.home_url&&(t=this.api.home_url),this.$set(this.systemDetails,"homeUrl",t)}}},_f=gf,ff=(0,K.Z)(_f,uf,hf,!1,null,null,null),yf=ff.exports,vf=function(){var t=this,e=t._self._c;return e("div",{staticClass:"support-debugger"},[e("md-tabs",{staticClass:"md-transparent"},[e("md-tab",{attrs:{id:"ssa","md-label":t.translations.support.debugLogs}},[e("div",{staticClass:"support-debugger-toolbar"},[e("md-switch",{attrs:{id:"enableDebugLog","md-theme":"reverse"},model:{value:t.ssa_debug_mode,callback:function(e){t.ssa_debug_mode=e},expression:"ssa_debug_mode"}},[e("span",{staticClass:"md-switch-label"},[t._v(t._s(t.translations.support.enableDebugLog))]),t.savingSSADebug?e("md-spinner",{attrs:{"md-size":16,"md-indeterminate":""}}):t._e()],1),t.ssa_debug_mode?e("div",{staticClass:"support-debugger-actions"},[e("md-menu",{attrs:{"md-align-trigger":""}},[e("md-button",{attrs:{"md-menu-trigger":""}},[e("span",[t._v(t._s(t.translations.support.debugLogOptions))]),t._v(" "),e("md-icon",{staticClass:"md-size-1x"},[t._v("expand_more")])],1),e("md-menu-content",[e("md-menu-item",{staticClass:"refresh-debug-log",on:{click:function(e){return t.refreshDebugLog("ssa")}}},[e("span",[t._v(t._s(t.translations.support.debugLogRefresh))]),e("md-icon",[t._v("refresh")])],1),t.logUrls.ssa?e("md-menu-item",{staticClass:"download-debug-log",on:{click:function(e){return t.downloadLog("ssa")}}},[e("span",[t._v(t._s(t.translations.support.debugLogDownload))]),e("md-icon",[t._v("get_app")])],1):t._e(),e("md-menu-item",{staticClass:"clear-debug-log",on:{click:function(e){return t.clearLogFile("ssa")}}},[e("span",[t._v(t._s(t.translations.support.debugLogClear))]),e("md-icon",[t._v("delete")])],1)],1)],1)],1):t._e()],1),t.ssa_debug_mode?e("div",{staticClass:"support-debugger-log-container"},[t.loadClickedSSADebug?t._e():e("div",{staticClass:"support-debugger-loading"},[e("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.loadLog("ssa")}}},[t._v(t._s(t.translations.support.loadDebugLog))])],1),t.loadClickedSSADebug?[t.loadingSSADebug?e("div",{staticClass:"support-debugger-loading"},[e("md-spinner",{attrs:{"md-size":48,"md-indeterminate":""}}),e("div",{staticClass:"support-debugger-loading-label"},[t._v(t._s(t.translations.support.debugLogLoading))])],1):t._e(),t.debugLog&&t.debugLog.ssa&&!t.loadingSSADebug?e("pre",{staticClass:"support-debugger-contents",domProps:{innerHTML:t._s(t.debugLog.ssa)}}):t._e(),t.debugLog&&t.debugLog.ssa||t.loadingSSADebug?t._e():e("div",{staticClass:"support-debugger-log-empty"},[e("md-icon",{staticClass:"icon md-size-3x"},[t._v("check_circle")]),e("h3",[t._v(t._s(t.translations.support.debugLogEmpty))]),e("p",[t._v(t._s(t.translations.support.debugLogEmptyDetails))])],1),t.logUrls.ssa?e("a",{ref:"logSSALink",staticStyle:{display:"none"},attrs:{href:t.logUrls.ssa,download:""}}):t._e()]:t._e()],2):t._e()]),t.ssa_debug_mode?e("md-tab",{attrs:{id:"wp","md-label":t.translations.support.debugLogsWP}},[e("div",{staticClass:"support-debugger-toolbar"},[e("md-switch",{attrs:{id:"enableDebugLogWP","md-theme":"reverse"},model:{value:t.debug_mode,callback:function(e){t.debug_mode=e},expression:"debug_mode"}},[e("span",{staticClass:"md-switch-label"},[t._v(t._s(t.translations.support.enableDebugLogWP))]),t.savingWPDebug?e("md-spinner",{attrs:{"md-size":16,"md-indeterminate":""}}):t._e()],1),t.debug_mode?e("div",{staticClass:"support-debugger-actions"},[e("md-menu",{attrs:{"md-align-trigger":""}},[e("md-button",{attrs:{"md-menu-trigger":""}},[e("span",[t._v(t._s(t.translations.support.debugLogOptions))]),t._v(" "),e("md-icon",{staticClass:"md-size-1x"},[t._v("expand_more")])],1),e("md-menu-content",[e("md-menu-item",{staticClass:"refresh-debug-log",on:{click:function(e){return t.refreshDebugLog("wp")}}},[e("span",[t._v(t._s(t.translations.support.debugLogRefresh))]),e("md-icon",[t._v("refresh")])],1),t.logUrls.wp?e("md-menu-item",{staticClass:"download-debug-log",on:{click:function(e){return t.downloadLog("wp")}}},[e("span",[t._v(t._s(t.translations.support.debugLogDownload))]),e("md-icon",[t._v("get_app")])],1):t._e(),e("md-menu-item",{staticClass:"clear-debug-log",on:{click:function(e){return t.clearLogFile("wp")}}},[e("span",[t._v(t._s(t.translations.support.debugLogClear))]),e("md-icon",[t._v("delete")])],1)],1)],1)],1):t._e()],1),t.debug_mode?e("div",{staticClass:"support-debugger-log-container"},[t.loadClickedWPDebug?t._e():e("div",{staticClass:"support-debugger-loading"},[e("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.loadLog("wp")}}},[t._v(t._s(t.translations.support.loadDebugLog))])],1),t.loadClickedWPDebug?[t.loadingWPDebug?e("div",{staticClass:"support-debugger-loading"},[e("md-spinner",{attrs:{"md-size":48,"md-indeterminate":""}}),e("div",{staticClass:"support-debugger-loading-label"},[t._v(t._s(t.translations.support.debugLogLoadingWP))])],1):t._e(),t.debugLog&&t.debugLog.wp&&!t.loadingWPDebug?e("pre",{staticClass:"support-debugger-contents",domProps:{innerHTML:t._s(t.debugLog.wp)}}):t._e(),t.debugLog&&t.debugLog.wp||t.loadingWPDebug?t._e():e("div",{staticClass:"support-debugger-log-empty"},[e("md-icon",{staticClass:"icon md-size-3x"},[t._v("check_circle")]),e("h3",[t._v(t._s(t.translations.support.debugLogEmpty))]),e("p",[t._v(t._s(t.translations.support.debugLogEmptyDetails))])],1),t.logUrls.wp?e("a",{ref:"logWPLink",staticStyle:{display:"none"},attrs:{href:t.logUrls.wp,download:""}}):t._e()]:t._e()],2):t._e()]):t._e()],1)],1)},bf=[],kf={name:"supportDebugger",data(){return{savingSSADebug:!1,loadingSSADebug:!1,savingWPDebug:!1,loadingWPDebug:!1,savingMap:{ssa:"savingSSADebug",wp:"savingWPDebug"},loadingMap:{ssa:"loadingSSADebug",wp:"loadingWPDebug"},loadClickedSSADebug:!1,loadClickedWPDebug:!1}},computed:{debug_mode:{get(){return this.settings.developer.debug_mode},set(t){this.setWPDebugMode({settings:this.settings,value:t})}},ssa_debug_mode:{get(){return this.settings.developer.ssa_debug_mode},set(t){this.setSSADebugMode({settings:this.settings,value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("support",["debugLog","logUrls"])},methods:{loadLog(t){"ssa"===t&&(this.loadClickedSSADebug=!0,this.ssa_debug_mode&&(this.loadingSSADebug=!0,this.fetchSSADebugLog().then((()=>{this.loadingSSADebug=!1})))),"wp"===t&&(this.loadClickedWPDebug=!0,this.debug_mode&&(this.loadingWPDebug=!0,this.fetchWPDebugLog().then((()=>{this.loadingWPDebug=!1}))))},clearLogFile(t){const e=this.savingMap[t];this[e]=!0,"ssa"===t?this.clearSSADebugLog().then((()=>{this[e]=!1,this.fetchLogUrls()})):this.clearWPDebugLog().then((()=>{this[e]=!1,this.fetchLogUrls()}))},refreshDebugLog(t){const e=this.loadingMap[t];this[e]=!0,"ssa"===t?(this.setSSADebugLog(null),this.fetchSSADebugLog().then((()=>{this[e]=!1}))):(this.setWPDebugLog(null),this.fetchWPDebugLog().then((()=>{this[e]=!1})))},downloadLog(t){"ssa"===t&&this.$refs.logSSALink.click(),"wp"===t&&this.$refs.logWPLink.click()},...(0,o.nv)(["fetchSettings"]),...(0,o.nv)("support",["fetchWPDebugLog","fetchSSADebugLog","clearWPDebugLog","clearSSADebugLog","fetchLogUrls"]),...(0,o.OI)("support",["setWPDebugMode","setSSADebugMode","setSSADebugLog","setWPDebugLog"]),...(0,o.nv)("developer_settings",["updateDeveloperSettings"])},watch:{ssa_debug_mode(){this.savingSSADebug=!0,this.loadingSSADebug=!0,this.ssa_debug_mode||(this.debug_mode=!1),this.updateDeveloperSettings().then((()=>{this.$emit("saved"),this.savingSSADebug=!1,this.ssa_debug_mode?this.debugLog.ssa?this.loadingSSADebug=!1:this.fetchSSADebugLog().then((()=>{this.loadingSSADebug=!1})):this.loadingSSADebug=!1}))},debug_mode(){this.savingWPDebug=!0,this.loadingWPDebug=!0,this.updateDeveloperSettings().then((()=>{this.savingWPDebug=!1,this.$emit("saved"),this.debug_mode?this.debugLog.wp?this.loadingWPDebug=!1:this.fetchWPDebugLog().then((()=>{this.loadingWPDebug=!1})):this.loadingWPDebug=!1}))}},mounted(){this.fetchLogUrls()}},Cf=kf,Sf=(0,K.Z)(Cf,vf,bf,!1,null,null,null),wf=Sf.exports,Tf=function(){var t=this,e=t._self._c;return e("md-layout",{staticClass:"ssa-contact-support"},[t.loading||!t.submitted||t.error?t._e():[e("md-dialog-title",{staticClass:"success-title"},[e("md-icon",{staticClass:"success-icon"},[t._v("check_circle_outline")])],1),e("md-dialog-content",{staticClass:"success-content"},[e("h2",[t._v(t._s(t.translations.support.successMessage))]),e("p",[t._v(" "+t._s(t.translations.support.hearBack)+" "),e("strong",[t._v(t._s(t.nextWorkingDay))]),e("br"),t._v(" "+t._s(t.translations.support.checkSpam)+" ")]),e("p",[t._v(t._s(t.translations.support.successMessageDetails))])]),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.closeForm}},[t._v(t._s(t.translations.general.ok))])],1)],t.loading?e("md-dialog-content",[e("empty",{staticStyle:{"min-width":"720px","min-height":"400px"}},[e("loading",{attrs:{message:t.translations.support.sendingMessage}})],1)],1):t._e(),t.loading||t.submitted&&!t.error?t._e():e("md-layout",{staticClass:"ssa-contact-support"},[e("md-layout",{attrs:{"md-flex":"75"}},[e("div",{staticStyle:{display:"flex","flex-flow":"column"}},[e("md-dialog-title",[t._v(" "+t._s(t.dialogTitle)+" ")]),e("md-dialog-content",[t.submitted?t._e():e("notification",{staticStyle:{"margin-top":"0"},attrs:{icon:"info"}},[Object.prototype.hasOwnProperty.call(t.messageInfo,"time_slot")?[t._v(" "+t._s(t.translations.support.disclosureTime)),e("br"),t._v(" "+t._s(t.messageInfo.time_slot.appointment_type.title)+" "+t._s(t.moment(t.messageInfo.time_slot["time-value-localized"],t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" ")]:[t._v(" "+t._s(t.translations.support.disclosure)+" ")]],2),t.submitted&&t.error?e("notification",{attrs:{theme:"red",icon:"error"}},[e("p",[t._v(t._s(t.translations.support.messageFailedDescription))]),e("md-layout",{attrs:{"md-gutter":"","md-vertical-align":"center"}},[e("md-layout",{attrs:{"md-flex":"50"}},[e("h4",[t._v(t._s(t.translations.support.messageFailedDetails))])]),e("md-layout",{attrs:{"md-flex":"50","md-align":"end"}},[e("md-button",{staticClass:"support-error-copy md-dense",on:{click:t.copyExportCode}},[t._v(t._s(t.translations.settings.import_export.copy)+" "),e("md-icon",{staticClass:"md-primary"},[t._v("file_copy")])],1)],1)],1),t.error?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.error,expression:"error"}],ref:"errorDetails",staticClass:"support-error-raw",attrs:{readonly:""},domProps:{value:t.error},on:{input:function(e){e.target.composing||(t.error=e.target.value)}}}):t._e(),e("md-snackbar",{ref:"errorDetailsNotice",attrs:{"md-position":"top center"}},[e("span",[t._v(t._s(t.translations.support.exportCopied))])])],1):t._e(),e("md-input-container",{class:{"md-input-invalid":!t.isEmailValid}},[e("label",[t._v(" "+t._s(t.translations.support.fromEmail)+" ")]),e("md-input",{attrs:{required:""},model:{value:t.reply_to,callback:function(e){t.reply_to=e},expression:"reply_to"}}),t.isEmailValid?t._e():e("span",{staticClass:"md-error"},[t._v(t._s(t.translations.support.invalidEmail))])],1),e("md-input-container",[e("label",[t._v(" "+t._s(t.translations.support.message)+" ")]),e("md-textarea",{attrs:{required:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),e("div",{staticClass:"md-checkbox-with-note"},[e("md-checkbox",{staticClass:"with-help",attrs:{id:"include_settings",name:"includeSettings"},model:{value:t.include_settings,callback:function(e){t.include_settings=e},expression:"include_settings"}},[t._v(" "+t._s(t.translations.support.includeSettings)+" ")]),e("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.support.includeDescription)+" ")])],1),e("md-checkbox",{staticClass:"with-help",attrs:{id:"include_active_plugins",name:"includeActivePlugins"},model:{value:t.include_active_plugins,callback:function(e){t.include_active_plugins=e},expression:"include_active_plugins"}},[t._v(" "+t._s(t.translations.support.includePlugins)+" ")])],1),e("md-dialog-actions",[e("md-button",{on:{click:t.closeForm}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),e("md-button",{staticClass:"md-primary",attrs:{disabled:!t.message||!t.reply_to},on:{click:t.sendMessage}},[t._v(" "+t._s(this.translations.support.sendMessage)+" ")])],1)],1)]),e("md-layout",[e("support-guides")],1)],1)],2)},xf=[],Af=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ssa-guides contact"},[e("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.support.guides.title_contact))]),t.supportGuidesLoading?e("empty",[e("md-spinner",{attrs:{"md-indeterminate":""}}),e("p",[t._v(t._s(t.translations.support.guides.loading))])],1):t._e(),t.supportGuidesLoading?t._e():[t.currentSupportGuides.length?[e("md-list",t._l(t.dipslayGuides,(function(s){return e("md-list-item",{key:s.id,attrs:{href:s.link,target:"_blank"}},[e("md-avatar",[e("img",{attrs:{src:s.icon,alt:""}})]),e("div",{staticClass:"ssa-guide-label",domProps:{innerHTML:t._s(s.title)}})],1)})),1),t.currentSupportGuides.length>3?e("md-card-actions",[e("md-button",{staticStyle:{width:"100%"},on:{click:function(e){t.showAllGuides=!t.showAllGuides}}},[t._v(t._s(this.showAllGuides?t.translations.support.guides.less:t.translations.support.guides.more))])],1):t._e()]:t._e(),t.currentSupportGuideKey&&0===t.currentSupportGuides.length?[e("md-card-content",[e("p",{staticClass:"md-subhead"},[t._v(t._s(t.translations.support.guides.notFound))])])]:t._e()]],2)},Pf=[],Df={name:"SupportGuides",components:{Empty:$e},data(){return{showAllGuides:!1}},watch:{currentSupportGuides:function(t){t.length&&(this.showAllGuides=!1)}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("guides",["supportGuidesLoading","currentSupportGuideKey"]),...(0,o.Se)("guides",["currentSupportGuides"]),dipslayGuides(){const t=this.showAllGuides?this.currentSupportGuides:this.currentSupportGuides.slice(0,3);return t.map((t=>{let e={...t};const s={utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_content:Ge()(t.title,{lower:!0,strict:!0})};return e.link=`${t.link}?${Ft().stringify(s)}`,e}))}}},Mf=Df,Ef=(0,K.Z)(Mf,Af,Pf,!1,null,null,null),Lf=Ef.exports,Of={name:"contact-support",components:{Notification:Ys,Empty:$e,Loading:nt,SupportGuides:Lf},props:["messageInfo"],data(){return{include_active_plugins:!0,include_settings:!0,messagePayload:{},moment:H(),loading:!1,error:null,submitted:!1}},watch:{message(){this.maybeLoadGuides()}},mounted(){Object.prototype.hasOwnProperty.call(this.messagePayload,"reply_to")&&this.messagePayload.reply_to||(this.$set(this.messagePayload,"reply_to",this.settings.global.admin_email),this.getSupportGuides({"ssasc-plugin-screen":z.support_ticket["default"]}))},computed:{message:{get(){return Object.prototype.hasOwnProperty.call(this.messagePayload,"message")?this.messagePayload.message:""},set(t){this.$set(this.messagePayload,"message",t)}},reply_to:{get(){return Object.prototype.hasOwnProperty.call(this.messagePayload,"reply_to")?this.messagePayload.reply_to:this.settings.global.admin_email},set(t){this.$set(this.messagePayload,"reply_to",t)}},isEmailValid(){return""===this.reply_to||this.validateEmail(this.reply_to)},settings_enabled(){let t={};for(var e in this.settings)Object.prototype.hasOwnProperty.call(this.settings[e],"enabled")&&(t[e]=this.settings[e]["enabled"]);return t},dialogTitle(){return this.loading?null:this.submitted&&!this.error?this.translations.support.successTitle:this.translations.support.contact},nextWorkingDay(){var t=H().tz("America/Los_Angeles").add(1,"day");return 6==t.isoWeekday()?t.add(2,"days"):7==t.isoWeekday()&&t.add(1,"day"),t.hours()>17?(t.add(1,"day"),6==t.isoWeekday()&&t.add(2,"days"),t.hour(9),t.minute(0)):t.hours()<9?(t.hour(9),t.minute(0)):(t.hour(17),t.minute(0)),t.tz(this.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment+" z")},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","timestampFormat"]),...(0,o.rn)("import_export",["exportCode"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("notifications",["validateEmail"]),...(0,o.Se)("guides",["getSupportGuidesTerms"])},methods:{closeForm(){this.$emit("close"),setTimeout((()=>{this.submitted=!1,this.error=null,this.loading=!1}),500)},generateSessionId(){let t=new URL(this.api.home_url).host,e=H().utc().isoWeek();return t+"-week"+e},async sendMessage(){if(this.loading=!0,this.submitted=!1,this.error=null,Object.prototype.hasOwnProperty.call(this.settings,"license")&&this.$set(this.messagePayload,"license",this.settings.license.license),this.$set(this.messagePayload,"session_id",this.generateSessionId()),this.$set(this.messagePayload,"include_active_plugins",this.include_active_plugins),this.include_settings){const t={settings:!0,appointment_types:!0,appointments:!0,anonymize_customer_information:!0,appointments_limit:500,backup:!1};await this.fetchExportCode(t),this.$set(this.messagePayload,"export_code",JSON.stringify(this.exportCode))}this.$set(this.messagePayload,"environment",this.messageInfo.environment),this.$set(this.messagePayload,"home_url",this.messageInfo.home_url),this.$set(this.messagePayload,"real_timezone",this.messageInfo.real_timezone),this.$set(this.messagePayload,"site_status",this.messageInfo.site_status),this.$set(this.messagePayload,"site_url",this.messageInfo.site_url),this.$set(this.messagePayload,"embed_url",this.messageInfo.embed_url),this.sendSupportMessage(this.messagePayload).catch((t=>{this.handleErrorMessage(t)})).then((()=>{this.loading=!1,this.submitted=!0}))},handleErrorMessage(t){this.loading=!1,this.error=t.responseText},maybeLoadGuides:Ye().debounce((function(){if(!this.message||this.message.length<3)return void this.getSupportGuides({"ssasc-plugin-screen":z.support_ticket["default"]});const t=this.getSupportGuidesTerms(this.message);t.length>0&&this.getSupportGuides({"ssasc-plugin-screen":t})}),500),copyExportCode(){this.$refs.errorDetails.select(),document.execCommand("copy"),this.$refs.errorDetailsNotice.open()},...(0,o.nv)("guides",["getSupportGuides"]),...(0,o.nv)("import_export",["fetchExportCode","sendSupportMessage"])}},$f=Of,If=(0,K.Z)($f,Tf,xf,!1,null,null,null),Nf=If.exports,jf={name:"supportDetails",components:{Empty:$e,Loading:nt,SupportLocal:yf,Debugger:wf,ContactSupport:Nf},data(){return{debuggingInfo:{},error:!1,errorDescription:"",errorLabel:"",loading:!0,loadingMessage:"",moment:H()}},beforeMount(){this.loadingMessage=this.translations.support.loadingSupport},mounted(){this.getGuides({"ssasc-plugin-screen":z.support}),this.fetchSupportDetails().then((()=>{this.loading=!1,this.updateDebuggingInfo()})).catch((t=>{this.loading=!1,this.error=!0,this.errorLabel=t}))},computed:{error_exit(){return!Ye().isEmpty(this.support)},siteStatusList(){if(!this.support.site_status)return[];let t={};return Object.keys(this.support.site_status).forEach((e=>{"ssa_version"!==e&&(t[e]=this.support.site_status[e])})),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.rn)("support",["support"]),...(0,o.Se)(["detectedTimezone"])},methods:{statusTheme(t){switch(t){case"good":return"light-green";case"warning":return"amber";case"error":return"red";default:return"light-green"}},updateEnvironment(t){this.$set(this.debuggingInfo,"environment",t)},openContactForm(){this.$refs.contactForm.open()},closeContactForm(){this.$refs.contactForm.close()},updateDebuggingInfo(){let t={appointment_types:[],global_settings:this.settings.global,home_url:this.api.home_url,embed_url:this.api.embed_url,real_timezone:this.detectedTimezone,settings:{},site_status:this.support.site_status,site_url:this.api.site_url};this.debuggingInfo=t},...(0,o.nv)("support",["fetchSupportDetails"]),...(0,o.nv)("guides",["getGuides"])}},zf=jf,Uf=(0,K.Z)(zf,cf,mf,!1,null,null,null),Bf=Uf.exports,Ff=function(){var t=this,e=t._self._c;return e("div",{staticClass:"availability-detective"},[t.currentUserCan("ssa_manage_site_settings")?[e("md-toolbar",{staticClass:"md-transparent"},[e("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])]),e("div",{staticStyle:{padding:"1rem"}},[e("p",[t._v(" "+t._s(t.translations.support.availabilityDetective.intro)+" ")]),e("form",{attrs:{novalidate:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[e("div",{staticStyle:{"padding-bottom":"1rem"}},[e("md-input-container",[e("label",{attrs:{for:"appointment-type"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.appointmentType.label)+" ")]),e("md-select",{attrs:{name:"appointment-type",id:"appointment-type"},model:{value:t.appointmentTypeId,callback:function(e){t.appointmentTypeId=e},expression:"appointmentTypeId"}},t._l(t.availableAppoinmentTypes,(function(s){return e("md-option",{key:s.id,attrs:{value:s.id}},[t._v(" "+t._s(s.title)+" ")])})),1)],1)],1),t.selectedAppointmentType?e("md-layout",{attrs:{"md-gutter":40}},[e("md-layout",{attrs:{"md-flex":60}},[e("div",[e("h3",{staticClass:"md-title",staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.date.title)+" ")]),e("availability-date-picker",{model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}}),t.selectedDate?e("fieldset",{staticStyle:{padding:"0"}},[e("legend",{staticClass:"md-title",staticStyle:{"margin-bottom":"1rem"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.time.title)+" ")]),e("availability-time-picker",{attrs:{date:t.selectedDate,"appointment-type":t.selectedAppointmentType},on:{input:t.handleTimeSelect},model:{value:t.selectedTime,callback:function(e){t.selectedTime=e},expression:"selectedTime"}})],1):t._e()],1)]),e("md-layout",{attrs:{"md-flex":40}},[e("div",[e("h3",{staticClass:"md-title",staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.summary)+" ")]),e("p",[e("strong",[t._v(t._s(t.translations.appointmentTypes.title))]),t._v(" "+t._s(t.selectedAppointmentType.title)+" ")]),e("p",[e("strong",[t._v(t._s(t.translations.appointmentTypes.duration))]),t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.duration))+" ")]),e("hr"),e("display-availability",{attrs:{availability:t.selectedAppointmentType.availability,weekdays:t.weekdays,format:t.settings.global.time_format_moment,"availability-type":t.selectedAppointmentType.availability_type,"highlight-day":t.selectedDay}}),e("hr"),parseInt(t.selectedAppointmentType.buffer_before,10)>0?e("div",{staticClass:"about-appt-type-list"},[e("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_before.title)+" ")]),e("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_before.desc)+" ")]),e("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.buffer_before))+" ")])]):t._e(),parseInt(t.selectedAppointmentType.buffer_after,10)>0?e("div",{staticClass:"about-appt-type-list"},[e("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_after.title)+" ")]),e("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_after.desc)+" ")]),e("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.buffer_after))+" ")])]):t._e(),t.bookingWindowDisplay?e("div",{staticClass:"about-appt-type-list"},[e("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.booking_window.title)+" ")]),e("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.booking_window.desc)+" ")]),e("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.bookingWindowDisplay)+" ")]),t.isOutsideBookingWindow?e("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.booking_window.outsideBookingWindowWarning)+" ")]):t._e()],1):t._e(),t.availabilityWindowDisplay?e("div",{staticClass:"about-appt-type-list"},[e("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.availability_window.title)+" ")]),e("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.availability_window.desc)+" ")]),e("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.availabilityWindowDisplay)+" ")])]):t._e(),parseInt(t.selectedAppointmentType.min_booking_notice,10)>0?e("div",{staticClass:"about-appt-type-list"},[e("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.min_booking_notice.title)+" ")]),e("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.min_booking_notice.desc)+" ")]),e("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.min_booking_notice))+" ")]),e("p",{staticClass:"prop-explanation"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.min_booking_notice.explanation)),e("br"),t._v(" "+t._s(t.minBookingNoticeDisplay)+" ")])]):t._e(),parseInt(t.selectedAppointmentType.max_booking_notice,10)>0?e("div",{staticClass:"about-appt-type-list"},[e("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.max_booking_notice.title)+" ")]),e("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.max_booking_notice.desc)+" ")]),e("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.max_booking_notice))+" ")]),e("p",{staticClass:"prop-explanation"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.max_booking_notice.explanation)),e("br"),t._v(" "+t._s(t.maxBookingNoticeDisplay)+" ")])]):t._e()],1)])],1):t._e()],1)])]:e("no-permission")],2)},Gf=[],Wf=function(){var t=this,e=t._self._c;return e("div",{staticClass:"availability-display"},[e("ul",{staticClass:"availability-list"},t._l(t.displayDays,(function(s){return e("li",{key:s,class:{selected:s===t.highlightDay}},[e("strong",[t._v(t._s(s))]),e("div",{staticClass:"avail"},[t.formattedAvail[s]&&t.formattedAvail[s].length?t._l(t.formattedAvail[s],(function(i){return e("div",{key:`${s}-${i.time_start}`,staticClass:"times"},[t._v(" "+t._s(i.time_start)+" "),"start_times"!==t.availabilityType?[t._v(" - "+t._s(i.time_end)+" ")]:t._e()],2)})):e("div",{staticClass:"times none"},[t._v("None")])],2)])})),0)])},Rf=[],Hf={name:"displayAvailability",props:["availability","weekdays","format","availabilityType","showDay","highlightDay"],computed:{displayDays(){return this.showDay?[this.showDay]:this.weekdays},formattedAvail(){var t=Ye().cloneDeep(this.availability);for(var e in t){var s=t[e];s.map((t=>{t.time_start=this.formatTime(t.time_start),t.time_end=this.formatTime(t.time_end)}))}return t},...(0,o.rn)(["settings"])},methods:{formatTime(t){var e=H()(t,"HH:mm:ss");return e.format(this.settings.global.time_format_moment)}}},qf=Hf,Zf=(0,K.Z)(qf,Wf,Rf,!1,null,null,null),Kf=Zf.exports,Vf=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cov-date-body md-theme-light-green"},[e("div",{staticClass:"cov-date-monthly"},[e("button",{staticClass:"cov-date-previous",on:{click:function(e){return e.preventDefault(),t.prevMonth.apply(null,arguments)}}},[e("md-icon",{staticClass:"md-size-2x"},[t._v(" keyboard_arrow_left ")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.previousMonth)+" ")])],1),e("div",{staticClass:"cov-date-caption"},[e("button",{staticClass:"caption-year"},[t._v(" "+t._s(t.currentYear)+" ")]),e("span",[t._v(" "+t._s(t.displayMonth)+" ")])]),e("button",{staticClass:"cov-date-next",on:{click:function(e){return e.preventDefault(),t.nextMonth.apply(null,arguments)}}},[e("md-icon",{staticClass:"md-size-2x"},[t._v("keyboard_arrow_right")]),e("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.nextMonth)+" ")])],1)]),e("div",{ref:"dayList",staticClass:"cov-date-box",attrs:{tabindex:"-1"}},[e("div",{staticClass:"cov-picker-box"},[e("div",{staticClass:"week"},[e("ul",t._l(t.week,(function(s){return e("li",{key:s},[t._v(" "+t._s(s)+" ")])})),0)]),e("div",{staticClass:"days"},t._l(t.days,(function(s,i){return e("div",{key:i,staticClass:"day",class:{selected:s.selected,readonly:s.readonly,unavailable:s.unavailable,"passive-day":!s.inMonth},on:{click:function(e){return t.checkDay(s)}}},[t._v(" "+t._s(s.value)+" ")])})),0)])])])},Yf=[],Jf={name:"availabilityDatePicker",props:{value:{default:"",type:String,required:!0}},data(){return{currentMoment:null}},mounted(){this.showDay()},computed:{currentMonth(){return this.currentMoment?this.currentMoment.format("MM"):""},currentYear(){return this.currentMoment?this.currentMoment.format("YYYY"):""},days(){if(!this.currentMoment)return;let t=H()(this.currentMoment).date(1).day(),e=this.currentMoment.clone().subtract(1,"month");t=0===t?7:t,t=this.settings.global.start_of_week>t?t+7:t;let s=t-this.settings.global.start_of_week,i=s<7?s:0,n=this.currentMoment.clone().startOf("month").subtract(i,"days"),a=this.currentMoment.month(),o=n.clone().add(7,"days"),r=1;while(o.month()===a)r++,o.add(7,"days");let l=[],p=this.currentMoment.daysInMonth();for(let c=1;c<=p;++c)l.push({value:c,inMonth:!0,unavailable:!1,selected:!1,readonly:!1,moment:H()(this.currentMoment).date(c)}),this.checkSelectedDay(c,l);if(s<7)for(let c=0;c<t-this.settings.global.start_of_week;c++){let t={value:e.daysInMonth()-c,inMonth:!1,action:"previous",unavailable:!1,selected:!1,readonly:!1,moment:H()(this.currentMoment).date(1).subtract(c+1,"days")};l.unshift(t)}let d=7*r-l.length;for(let c=1;c<=d;c++){let t={value:c,inMonth:!1,action:"next",unavailable:!1,selected:!1,readonly:!1,moment:H()(this.currentMoment).add(1,"months").date(c)};l.push(t)}return l},displayMonth(){return this.currentMoment?this.currentMoment.format("MMMM"):""},week(){var t=H().weekdaysMin(!1);if(this.settings.global.start_of_week>0){var e=t.slice(0,this.settings.global.start_of_week),s=t.slice(this.settings.global.start_of_week);t=[...s,...e]}return t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{checkDay(t){if(t.unavailable&&!t.selected||""===t.value||t.readonly)return!1;t.inMonth||("next"===t.action?this.nextMonth():this.prevMonth());let e=H()(this.currentYear+"-"+this.currentMonth+"-"+t.value,$).format($);this.$emit("input",e)},checkSelectedDay(t,e){this.currentYear===H()(this.value).format("YYYY")&&this.currentMonth===H()(this.value).format("MM")&&t===Math.ceil(H()(this.value).format("D"))&&(e[t-1].selected=!0)},nextMonth(){this.currentMoment=this.currentMoment.clone().add(1,"month"),this.showDay()},prevMonth(){var t=this.currentMoment.clone().subtract(1,"month");t.isBefore(H()(),"month")||(this.currentMoment=t,this.showDay())},showDay(){this.currentMoment=this.currentMoment?this.currentMoment:H()()}}},Xf=Jf,Qf=(0,K.Z)(Xf,Vf,Yf,!1,null,null,null),ty=Qf.exports,ey=function(){var t=this,e=t._self._c;return e("div",{staticClass:"time-picker"},[t.availableTimes.length?t._l(t.availableTimes,(function(s,i){return e("availability-time-picker-option",{key:i,attrs:{time:s,"appointment-type-id":t.appointmentTypeId},on:{support:t.handleSupport}})})):t._e(),t.availableTimes.length||t.selectedAvailability.length?t._e():e("empty",{attrs:{label:t.translations.support.availabilityDetective.noAvailability.noSlots.label,description:t.translations.support.availabilityDetective.noAvailability.noSlots.description}},[e("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/appointment-types/type/"+t.appointmentTypeId}},[t._v(" "+t._s(t.translations.support.availabilityDetective.noAvailability.noSlots.action)+" ")])],1),!t.availableTimes.length&&t.selectedAvailability.length?e("empty",{attrs:{label:t.translations.support.availabilityDetective.noAvailability.tooShortSlots.label,description:t.translations.support.availabilityDetective.noAvailability.tooShortSlots.description}},[e("strong",[t._v(t._s(t.translations.appointmentTypes.duration))]),t._v(" "+t._s(t.displayDuration(t.duration))+" "),e("display-availability",{staticStyle:{"min-width":"15rem"},attrs:{availability:t.availability,weekdays:t.daysOfWeek,format:t.settings.global.time_format_moment,availabilityType:t.availabilityType,"show-day":t.selectedDay}}),e("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/appointment-types/type/"+t.appointmentTypeId}},[t._v(" "+t._s(t.translations.support.availabilityDetective.noAvailability.tooShortSlots.action)+" ")])],1):t._e(),e("md-dialog",{ref:"contactForm"},[e("contact-support",{attrs:{messageInfo:t.supportMessage},on:{close:t.closeContactForm,done:t.handleDoneMessage,starting:t.handleStartMessage}})],1),e("md-dialog",{ref:"sending",attrs:{"md-click-outside-to-close":!1,"md-esc-to-close":!1}},[e("md-dialog-content",[e("div",{staticStyle:{"text-align":"center"}},[e("md-spinner",{staticStyle:{margin:"0 auto"},attrs:{"md-indeterminate":""}}),e("div",[t._v(" "+t._s(t.translations.support.sendingMessage)+" ")])],1)])],1),e("md-dialog",{ref:"messageSuccess"},[e("md-dialog-title",[t._v(" "+t._s(t.translations.support.successTitle)+" ")]),e("md-dialog-content",[e("p",{staticStyle:{"margin-bottom":"1em"}},[t._v(" "+t._s(t.translations.support.successMessage)+" ")]),e("p",[t._v(" "+t._s(t.translations.support.successMessageDetails)+" ")])]),e("md-dialog-actions",[e("md-button",{staticClass:"md-primary",on:{click:t.closeMessageSuccess}},[t._v(" "+t._s(t.translations.general.ok)+" ")])],1)],1)],2)},sy=[],iy=function(){var t=this,e=t._self._c;return e("div",{staticClass:"time-picker-option",class:t.status},[e("button",{staticClass:"time-button",attrs:{disabled:"unchecked"!==t.status},on:{click:t.checkAvailability}},[t._v(" "+t._s(t.time.display)+" ")]),e("div",{staticClass:"status-message",attrs:{"aria-live":"polite"}},["checking"===t.status?e("div",{staticClass:"checking"},[e("md-spinner",{attrs:{"md-size":16,"md-indeterminate":""}}),t._v(" "+t._s(t.translations.support.availabilityDetective.status.checking)+" ")],1):t._e(),"available"===t.status||"not-available"===t.status?e("div",{class:t.status},[e("div",{staticClass:"status-tag"},["available"===t.status?[t._v(" "+t._s(t.translations.support.availabilityDetective.status.available)+" ")]:[t._v(" "+t._s(t.translations.support.availabilityDetective.status.not_available)+" ")]],2),e("div",{staticClass:"explanation"},t._l(t.reasons,(function(s,i){return e("div",{key:`reason-${i}`},[e("p",{staticClass:"md-subheading",staticStyle:{margin:"0"}},[t._v(" "+t._s(s.reason_title)+" ")]),e("p",{staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(s.reason_description)+" "),Object.prototype.hasOwnProperty.call(s,"help_center_url")&&s.help_center_url?e("a",{attrs:{href:s.help_center_url}},[t._v(" "+t._s(t.translations.support.availabilityDetective.getMore)+" ")]):t._e(),Object.prototype.hasOwnProperty.call(s,"ssa_path")&&s.ssa_path?e("router-link",{attrs:{to:s.ssa_path}},[t._v(" "+t._s(s.reason_title)+" ")]):t._e()],1),e("div",{staticClass:"availability-support"},[t._v(" "+t._s(t.translations.support.supportRequestIntro)+" "),e("md-button",{staticClass:"md-raised",on:{click:t.handleSupport}},[t._v(" "+t._s(t.translations.support.supportRequestCta)+" ")])],1)])})),0)]):t._e()])])},ny=[],ay={name:"availabilityTimePickerOption",props:["time","appointmentTypeId"],data(){return{reasons:[],status:"unchecked"}},watch:{time:{deep:!0,handler(){this.status="unchecked",this.reasons=[]}}},computed:{...(0,o.rn)("translations",["translations"])},methods:{checkAvailability(){this.status="checking",this.fetchAvailability({start_date:this.time.value,appointment_type_id:this.appointmentTypeId}).then((t=>{this.status=t.is_bookable?"available":"not-available",this.reasons=t.reasons})).catch(((t,e)=>{console.log("Error",e),this.status="errorChecking"}))},handleSupport(){let t={"time-value-utc":this.time.value,"time-value-localized":this.time.valueTz,status:this.status,reasons:this.reasons};this.$emit("support",t)},...(0,o.nv)("support",["fetchAvailability"])}},oy=ay,ry=(0,K.Z)(oy,iy,ny,!1,null,null,null),ly=ry.exports,py={name:"availabilityTimePicker",props:["value","appointmentType","date"],components:{AvailabilityTimePickerOption:ly,Empty:$e,DisplayAvailability:Kf,ContactSupport:Nf},data(){return{selectedTime:"",supportMessage:{}}},computed:{appointmentTypeId(){return this.appointmentType.id},availability(){return this.appointmentType.availability},availabilityType(){return this.appointmentType.availability_type},duration(){return this.appointmentType.duration},increment(){return this.appointmentType.availability_increment},availableTimes(){if("start_times"===this.availabilityType)return this.selectedAvailability.map((t=>{let e=H().tz(this.date+" "+t.time_start,this.timestampFormat,this.settings.global.timezone_string);return{display:e.format(this.settings.global.time_format_moment),value:e.utc().format(this.timestampFormat)}}));if("available_blocks"===this.availabilityType){let t=[];return this.selectedAvailability.map((e=>{let s=H().tz(this.date+" "+e.time_start,this.timestampFormat,this.settings.global.timezone_string),i=H().tz(this.date+" "+e.time_end,this.timestampFormat,this.settings.global.timezone_string),n=s.clone(),a=s.clone().add(this.duration,"minutes");while(a.isSameOrBefore(i))t.push({display:n.format(this.settings.global.time_format_moment),valueTz:n.format(this.timestampFormat),value:n.clone().utc().format(this.timestampFormat)}),n.add(this.increment,"minutes"),a.add(this.increment,"minutes")})),t}return null},daysOfWeek(){return this.weekdays(0)},selectedAvailability(){return this.availability[this.selectedDay]},selectedDay(){let t=H()(this.date),e=t.isoWeekday(),s=7===e?0:e;return this.daysOfWeek[s]},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","timestampFormat"]),...(0,o.Se)(["displayDuration","weekdays"])},methods:{closeContactForm(){this.$refs.contactForm.close()},closeMessageSuccess(){this.$refs.messageSuccess.close()},handleDoneMessage(){this.$refs.sending.close(),this.$refs.messageSuccess.open()},handleStartMessage(){this.$refs.contactForm.close(),this.$refs.sending.open()},handleSupport(t){t.appointment_type=this.appointmentType,this.supportMessage={global_settings:this.settings.global,home_url:this.api.home_url,real_timezone:H().tz.guess(),settings:{},site_url:this.api.site_url,time_slot:t},this.$refs.contactForm.open()}}},dy=py,cy=(0,K.Z)(dy,ey,sy,!1,null,null,null),my=cy.exports,uy={name:"availabilityDetective",components:{NoPermission:ze,DisplayAvailability:Kf,AvailabilityDatePicker:ty,AvailabilityTimePicker:my,Notification:Ys},data(){return{appointmentTypeId:"",selectedDate:"",selectedTime:""}},computed:{availabilityWindowDisplay(){if(!this.selectedAppointmentType)return;let t=H().utc(this.selectedAppointmentType.availability_start_date,this.timestampFormat).tz(this.settings.global.timezone_string),e=H().utc(this.selectedAppointmentType.availability_end_date,this.timestampFormat).tz(this.settings.global.timezone_string);if(t.isValid()||e.isValid()){let s=t.isValid()?t.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.availability_window.no_value;return s+=" - ",s+=e.isValid()?e.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.availability_window.no_value,s}return null},bookingWindowDisplay(){if(!this.selectedAppointmentType)return;let t=H().utc(this.selectedAppointmentType.booking_start_date,this.timestampFormat).tz(this.settings.global.timezone_string),e=H().utc(this.selectedAppointmentType.booking_end_date,this.timestampFormat).tz(this.settings.global.timezone_string);if(t.isValid()||e.isValid()){let s=t.isValid()?t.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.booking_window.no_value;return s+=" - ",s+=e.isValid()?e.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.booking_window.no_value,s}return null},handleTimeSelect(){return null},maxBookingNoticeDisplay(){if(this.selectedAppointmentType&&0!==parseInt(this.selectedAppointmentType.max_booking_notice,10))return H()().add(this.selectedAppointmentType.max_booking_notice,"minutes").format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment)},minBookingNoticeDisplay(){if(this.selectedAppointmentType&&0!==parseInt(this.selectedAppointmentType.min_booking_notice,10))return H()().add(this.selectedAppointmentType.min_booking_notice,"minutes").format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment)},selectedAppointmentType(){if(this.appointmentTypeId)return this.editableAppointmentTypes.find((t=>t.id===this.appointmentTypeId))},availableAppoinmentTypes(){return this.editableAppointmentTypes.filter((t=>"deleted"!==t.status))},selectedDay(){let t=H()(this.selectedDate),e=t.isoWeekday(),s=7===e?0:e;return this.weekdaysIsoOrder[s]},weekdays(){return this.getWeekdays(this.settings.global.start_of_week)},weekdaysIsoOrder(){return this.getWeekdays(0)},isOutsideBookingWindow(){if(!this.bookingWindowDisplay||!this.selectedAppointmentType)return!1;let t=H().utc(this.selectedAppointmentType.booking_start_date).tz(this.settings.global.timezone_string),e=H().utc(this.selectedAppointmentType.booking_end_date).tz(this.settings.global.timezone_string),s=H().utc().tz(this.settings.global.timezone_string);return!(!t.isValid()||!s.isBefore(t))||!(!e.isValid()||!s.isAfter(e))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)({displayDuration:"displayDuration",getWeekdays:"weekdays"}),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{}},hy=uy,gy=(0,K.Z)(hy,Ff,Gf,!1,null,null,null),_y=gy.exports,fy=[{path:"support",component:df,redirect:"/ssa/support/help",children:[{path:"help",name:"support-help",component:Bf,meta:{ssa_manage_site_settings:!0,notAllowed:!!window.ssa_settings?.installed&&!window.ssa_settings.installed.support}},{path:"availability-detective",name:"support-availability-detective",component:_y,meta:{ssa_manage_site_settings:!0}}]}],yy=[{path:"/ssa",name:"Settings",component:ns,children:[...en,...Br,...nf,...fy]}],vy=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wizard view-container"},[e("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.settings.license.heading))]),e("license-key",{on:{validatedLicense:t.nextStep}}),t.validLicense?t._e():e("router-link",{staticClass:"md-raised md-primary ssa-wizard-skip",attrs:{tag:"md-button",to:"/wizard/review"}},[t._v("Skip this for now")])],1)},by=[],ky={name:"wizardLicense",store:Ek,components:{licenseKey:el},data(){return{validLicense:!1}},computed:{...(0,o.rn)("translations",["translations"])},methods:{nextStep(){this.validLicense=!0,cv.push("/wizard/review")}}},Cy=ky,Sy=(0,K.Z)(Cy,vy,by,!1,null,null,null),wy=Sy.exports,Ty=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wizard view-container"},[t.settings.installed.license?e("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.settings.general.heading))]):e("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.settings.general.headingFirst))]),e("md-theme",{attrs:{"md-name":"reverse"}},[e("ul",{staticClass:"settings-list"},[e("li",[e("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.timezone)+" ")]),e("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.formatTimezone(t.detectedTimezone))+" "),e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),e("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.timezone))])],1)],1)]),e("li",[e("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.dateFormat))]),e("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.formatDateDisplay(t.moment()))+" — "),e("code",[t._v(t._s(t.settings.global.date_format))]),e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),e("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.dateFormat))])],1)],1)]),e("li",[e("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.timeFormat))]),e("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.formatTimeDisplay(t.moment()))+" — "),e("code",[t._v(t._s(t.settings.global.time_format))]),e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),e("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.timeFormat))])],1)],1)]),e("li",[e("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.weekStartsOn))]),e("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.startOfWeekDisplay(t.settings.global.start_of_week))+" "),e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),e("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.weekStartsOn))])],1)],1)]),e("li",[e("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.contact))]),e("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.settings.global.staff_name)+" "),e("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),e("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.apptContact))])],1)],1),e("p",{staticClass:"settings-list-content"},[t._v(t._s(t.settings.global.company_name))]),e("p",{staticClass:"settings-list-content"},[t._v(t._s(t.settings.global.admin_email))])])])]),e("div",{staticClass:"button-bar transparent"},[e("router-link",{staticClass:"md-raised md-accent",attrs:{tag:"md-button",to:"/wizard/settings"},nativeOn:{click:function(e){return t.saveTimezone.apply(null,arguments)}}},[t._v(t._s(t.translations.wizard.settings.general.decline))]),e("md-button",{staticClass:"md-raised md-primary ssa-wizard-accept-settings",on:{click:t.nextStep}},[t._v(t._s(t.translations.wizard.settings.general.accept))])],1),e("router-link",{staticClass:"md-fab md-fab-bottom-right md-primary",attrs:{to:"/ssa",tag:"md-button"}},[e("md-icon",[t._v("settings")]),e("md-tooltip",{attrs:{"md-direction":"left"}},[t._v(t._s(t.translations.wizard.settings.general.exit))])],1)],1)},xy=[],Ay={name:"wizardReview",store:Ek,data(){return{moment:H()}},computed:{...(0,o.Se)(["formatDateDisplay","formatTimeDisplay","formatTimezone","startOfWeekDisplay","detectedTimezone"]),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{nextStep(){this.saveTimezone(),this.settings.installed.google_calendar?cv.push("/wizard/google-calendar"):cv.push("/wizard/appt-type")},saveTimezone:function(){this.detectedTimezone!==this.settings.global.timezone_string&&(this.updateTimezoneString({settings:this.settings,value:this.detectedTimezone}),this.updateGlobalSettings())},...(0,o.OI)("global_settings",["updateTimezoneString"]),...(0,o.nv)("global_settings",["updateGlobalSettings"])}},Py=Ay,Dy=(0,K.Z)(Py,Ty,xy,!1,null,"5b0b2ffc",null),My=Dy.exports,Ey=function(){var t=this,e=t._self._c;return t.loading?e("loading",{attrs:{message:t.loadingMessage}}):e("div",{staticClass:"appt-type-wizard view-container"},[e("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.appointmentType.heading))]),e("md-stepper",{attrs:{"md-vertical":"","md-theme":t.currentAppointmentType.label},on:{change:t.saveAppointmentType,completed:t.completeWizard}},[e("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.basics,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-error":!t.validBasics,"md-continue":t.validBasics,"md-message":t.titleMessage,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue}},[e("basics",{on:{titlecheck:t.validateTitle,slugcheck:t.validateSlug}})],1),e("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.availability,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-error":!t.validAvailabilityWindow,"md-continue":t.validAvailabilityWindow,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.availabilityMessage}},[e("availability",{on:{availabilityWindowCheck:t.validateAvailabilityWindow}})],1),e("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.scheduling,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-error":!t.validBookingWindow,"md-continue":t.validBookingWindow,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.schedulingMessage}},[e("scheduling",{on:{bookingWindowCheck:t.validateBookingWindow}})],1),t.settings.installed.google_calendar&&t.settings.google_calendar.enabled&&t.settings.google_calendar.access_token?e("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.googleCalendar,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.translations.wizard.appointmentType.googleCalendarMessage}},[e("google-calendar")],1):t._e(),e("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.customerInfo,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.translations.wizard.appointmentType.customerInfoMessage}},[e("customer-information")],1),e("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.review,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.translations.wizard.appointmentType.reviewMessage}},[e("review")],1)],1)],1)},Ly=[],Oy=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-review",class:t.currentAppointmentType.label},[e("md-layout",{attrs:{"md-row":""}},[e("md-layout",{attrs:{"md-column":""}},[e("h2",{staticClass:"md-display-1"},[t._v(t._s(t.currentAppointmentType.title)+" "),e("span",{staticClass:"md-subheading"},[t._v(t._s(t.displayDuration(t.currentAppointmentType.duration)))])])])],1),e("md-layout",{attrs:{"md-row":"","md-gutter":!0}},[e("md-layout",{attrs:{"md-column":""}},[e("md-card",[e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.availability))]),e("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.availabilityMessage))])]),e("md-card-content",[e("displayavailability",{attrs:{availability:t.currentAppointmentType.availability,weekdays:t.weekdays,format:t.settings.global.time_format_moment,"availability-type":t.currentAppointmentType.availability_type}})],1)],1),t.settings.installed.google_calendar&&t.settings.google_calendar.enabled&&t.settings.google_calendar.access_token?e("md-card",[e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.googleCalendar))]),e("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.googleCalendarMessage))])]),e("md-card-content",[e("ul",[e("li",[e("strong",[t._v(t._s(t.translations.wizard.appointmentType.checkCalendars)+":")]),t._v(" "+t._s(t.displayGoogleCalendarAvailability.join(", ")))]),e("li",[e("strong",[t._v(t._s(t.translations.appointmentTypes.appointmentSync)+":")]),t._v(" "+t._s(t.displayGoogleCalendarBooking))])])])],1):t._e()],1),e("md-layout",{attrs:{"md-column":""}},[e("md-card",[e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.scheduling))]),e("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.schedulingMessage))])]),e("md-card-content",[e("ul",{staticClass:"options-list"},[e("li",[e("strong",[t._v("Buffer Before:")]),t._v(" "+t._s(t.displayDuration(t.currentAppointmentType.buffer_before)))]),e("li",[e("strong",[t._v("Buffer After:")]),t._v(" "+t._s(t.displayDuration(t.currentAppointmentType.buffer_after)))]),e("li",[e("strong",[t._v("Minimum Booking Notice:")]),t._v(" "+t._s(t.displayDuration(t.currentAppointmentType.min_booking_notice)))]),e("li",[e("strong",[t._v("Limit Per Day:")]),t._v(" "+t._s(t.displayMaxEventCount))])])])],1),e("md-card",[e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.customerInfo))]),e("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.customerInfoMessage))])]),e("md-card-content",[e("ul",{staticClass:"options-list"},[t._l(t.currentAppointmentType[t.customerInformationKey],(function(s,i){return[s.display?e("li",{key:i},[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[s.field])+" "),s.required?[t._v("*")]:t._e()],2):t._e()]}))],2)])],1)],1),e("md-layout",{attrs:{"md-column":""}},[e("md-card",[e("md-card-header",[e("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.booking))]),e("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.bookingMessage))])]),e("md-card-content",[e("p",[t._v(t._s(t.translations.wizard.appointmentType.generalBooking))]),e("p",[e("code",[t._v("[ssa_booking]")])]),e("p",[t._v(t._s(t.translations.wizard.appointmentType.specialBooking))]),e("p",[e("code",[t._v("[ssa_booking type="+t._s(t.currentAppointmentType.slug)+"]")])])])],1)],1)],1)],1)},$y=[],Iy={name:"appointmentTypeReview",store:Ek,components:{displayavailability:Kf},data(){return{}},computed:{customerInformationKey(){return this.settings.installed.license?"custom_customer_information":"customer_information"},weekdays(){return this.getWeekdays(this.settings.global.start_of_week)},displayMaxEventCount(){var t=parseInt(this.currentAppointmentType.max_event_count,10);return 0===t?"Unlimited":t},displayGoogleCalendarBooking(){if(!this.currentAppointmentType.google_calendar_booking)return;let t=this.googleCalendars.find((t=>t.gcal_id===this.currentAppointmentType.google_calendar_booking));return t.title},displayGoogleCalendarAvailability(){if(!this.currentAppointmentType.google_calendars_availability)return;let t=this.googleCalendars.filter((t=>this.currentAppointmentType.google_calendars_availability.indexOf(t.gcal_id)>-1));return t.map((t=>t.title))},...(0,o.Se)({displayDuration:"displayDuration",getWeekdays:"weekdays"}),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("google_calendar",["googleCalendars"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{}},Ny=Iy,jy=(0,K.Z)(Ny,Oy,$y,!1,null,null,null),zy=jy.exports,Uy={name:"WizardAppointmentType",store:Ek,components:{availability:xa,basics:Yn,scheduling:La,googleCalendar:no,customerInformation:Qo,review:zy,loading:nt},data(){return{loading:!1,loadingMessage:this.$store.state.translations.translations.wizard.appointmentType.loading,options:B,moment:H(),validTitle:!0,validSlug:!0,validAvailabilityWindow:!0,validBookingWindow:!0,titleMessage:"",availabilityMessage:"",schedulingMessage:""}},beforeMount:function(){var t=Ye().cloneDeep(C);Ek.commit("appointment_types/getAppointmentType",t),this.titleMessage=this.translations.wizard.appointmentType.basicsMessage,this.availabilityMessage=this.translations.wizard.appointmentType.availabilityMessage,this.schedulingMessage=this.translations.wizard.appointmentType.schedulingMessage},computed:{validBasics(){return this.validTitle&&this.validSlug&&this.currentAppointmentType.duration>0},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["timestampFormat","settings"]),...(0,o.rn)("appointment_types",["appointmentTypes","currentAppointmentType"])},mounted:function(){this.createNewAppointmentType()},methods:{validateTitle(t){this.validTitle=t,this.titleMessage=this.validTitle?this.translations.wizard.appointmentType.basicsMessage:this.translations.errors.appointmentTypeTitle},validateSlug(t){this.validSlug=t},validateAvailabilityWindow(t){this.validAvailabilityWindow=t,this.availabilityMessage=this.validAvailabilityWindow?this.translations.wizard.appointmentType.availabilityMessage:this.translations.settings.advanced_scheduling.availability_window_error},validateBookingWindow(t){this.validBookingWindow=t,this.schedulingMessage=this.validBookingWindow?this.translations.wizard.appointmentType.schedulingMessage:this.translations.settings.advanced_scheduling.booking_window_error},saveAppointmentType:function(t){t<1||this.updateAppointmentType()},completeWizard(){this.updateWizardCompleted({settings:this.settings,value:H().utc().format(this.timestampFormat)}),this.updateGlobalSettings(),cv.push("/wizard/complete")},...(0,o.OI)("global_settings",["updateWizardCompleted"]),...(0,o.OI)("appointment_types",["getAppointmentType"]),...(0,o.nv)("global_settings",["updateGlobalSettings"]),...(0,o.nv)("appointment_types",["updateAppointmentType","createNewAppointmentType"])}},By=Uy,Fy=(0,K.Z)(By,Ey,Ly,!1,null,"5f7512a2",null),Gy=Fy.exports,Wy=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-wizard view-container"},[e("settings-global",{attrs:{button:t.translations.general.saveContinue},on:{saved:t.nextStep}})],1)},Ry=[],Hy={name:"wizardSettings",store:Ek,components:{settingsGlobal:Il},data(){return{}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{nextStep(){this.settings.installed.google_calendar?cv.push("/wizard/google-calendar"):cv.push("/wizard/appt-type")}}},qy=Hy,Zy=(0,K.Z)(qy,Wy,Ry,!1,null,null,null),Ky=Zy.exports,Vy=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wizard-complete view-container"},[e("h2",{staticClass:"md-display-2"},[t._v(t._s(t.translations.wizard.complete.headline))]),e("p",[t._v(t._s(t.translations.wizard.complete.shortcodeInstructions))]),t._m(0),e("p",{staticClass:"md-headline"},[t._v(t._s(t.translations.wizard.complete.subhead))]),e("img",{staticStyle:{"max-width":"15rem",height:"auto"},attrs:{src:t.$store.state.api.admin_static_url+"/images/foxes/fox-standing.svg"}}),e("div",{staticClass:"button-bar"},[t.currentUserCan("ssa_manage_others_appointments")?e("md-button",{staticClass:"md-raised md-primary",on:{click:t.loadBookingEmbed}},[t._v(" "+t._s(t.translations.wizard.complete.booking)+" ")]):t._e(),e("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/settings"}},[t._v(" "+t._s(t.translations.wizard.complete.settings)+" ")]),e("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/appointment-types"}},[t._v(" "+t._s(t.translations.wizard.complete.apptType)+" ")])],1),e("md-dialog",{ref:"bookingDialog",staticClass:"ssa-booking-dialog"},[e("button",{staticClass:"close",on:{click:function(e){return t.$refs.bookingDialog.close()}}},[e("md-icon",[t._v("close")])],1),e("md-dialog-content",[e("div",{staticClass:"ssa-booking-iframe-container",domProps:{innerHTML:t._s(t.bookingEmbed)}})]),e("md-dialog-actions",[e("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",theme:"blue",to:"/ssa/support/availability-detective"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])],1)],1)],1)},Yy=[function(){var t=this,e=t._self._c;return e("p",[e("code",[t._v("[ssa_booking]")])])}],Jy={name:"wizardComplete",store:Ek,data(){return{}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("booking_embed",["bookingEmbed"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{loadBookingEmbed(){this.fetchBookingEmbed().then((()=>{this.$refs.bookingDialog.open()}))},...(0,o.nv)("booking_embed",["fetchBookingEmbed"])}},Xy=Jy,Qy=(0,K.Z)(Xy,Vy,Yy,!1,null,null,null),tv=Qy.exports,ev=function(){var t=this,e=t._self._c;return e("div",{staticClass:"appt-type-wizard view-container"},[e("md-whiteframe",[e("h3",{staticClass:"md-display-1"},[t.settings.google_calendar.access_token?[t._v(" "+t._s(t.translations.wizard.googleCalendar.connectSuccess)+" ")]:[t._v(" "+t._s(t.translations.wizard.googleCalendar.wantToConnect)+" ")]],2),e("settings-google-calendar",{attrs:{header:!1,showDisabled:!0}})],1),t.settings.google_calendar.access_token?e("md-button",{staticClass:"md-raised md-primary",on:{click:t.nextStep}},[t._v(t._s(t.translations.wizard.next))]):e("router-link",{staticClass:"md-raised md-primary ssa-wizard-skip",attrs:{tag:"md-button",to:"/wizard/appt-type"}},[t._v(t._s(t.translations.wizard.skip))])],1)},sv=[],iv={name:"wizardGoogleCalendar",store:Ek,components:{settingsGoogleCalendar:bd},data(){return{}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{nextStep(){this.updateGoogleCalendarEnabled({settings:this.settings,value:!0}),this.updateGoogleCalendarSettings(),cv.push("/wizard/appt-type")},...(0,o.nv)("google_calendar",["updateGoogleCalendarSettings"]),...(0,o.OI)("google_calendar",["updateGoogleCalendarEnabled"])}},nv=iv,av=(0,K.Z)(nv,ev,sv,!1,null,"f6f53526",null),ov=av.exports,rv=[{path:"/wizard/license",name:"Wizard License",component:wy,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/review",name:"Wizard Review",component:My,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/settings",name:"Wizard Settings",component:Ky,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/google-calendar",name:"Wizard Google Calendar",component:ov,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/appt-type",name:"Wizard Appointment Type",component:Gy,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/complete",name:"Wizard Complete",component:tv,meta:{ssa_manage_site_settings:!0}}];i["default"].use(F.Z);const lv=[{path:"/",name:"Hello",component:Y}],pv=[...lv,...yy,...rv];let dv=new F.Z({routes:pv,scrollBehavior(t,e,s){return s||{x:0,y:0}}});dv.beforeEach(((t,e,s)=>{t.matched.some((t=>t.meta.notAllowed))&&s("/");let i=!0,n=Ek.state.user?Ek.state.user.capabilities:[];!n.length&&window.ssa&&window.ssa.user&&(n=window.ssa.user.capabilities?window.ssa.user.capabilities:[]);let a={ssa_manage_appointment_types:t.matched.some((t=>t.meta.ssa_manage_appointment_types)),ssa_manage_site_settings:t.matched.some((t=>t.meta.ssa_manage_site_settings)),ssa_manage_appointments:t.matched.some((t=>t.meta.ssa_manage_appointments)),ssa_manage_others_appointments:t.matched.some((t=>t.meta.ssa_manage_others_appointments)),ssa_manage_staff:t.matched.some((t=>t.meta.ssa_manage_staff)),ssa_manage_staff_blackout_dates:t.matched.some((t=>t.meta.ssa_manage_staff_blackout_dates))},o=Object.keys(a),r=o.filter((t=>a[t]));i=!r.length||r.some((t=>-1!==n.indexOf(t))),window.ssa,s(i)}));var cv=dv,mv={castToBoolean:()=>t=>{let e=typeof t;switch(e){case"string":{let e=parseInt(t,10);return isNaN(e)?"true"===t:Boolean(e)}case"number":return Boolean(t);case"boolean":return t;default:return!!t}},displayDuration:t=>e=>{var s=parseInt(e,10),i="minutes",n=s;s%10080===0?(n=s/10080,i="weeks"):s%1440===0?(n=s/1440,i="days"):s%60===0&&(n=s/60,i="hours");let a=1===n?t.translations.translations.time.units[i].single:t.translations.translations.time.units[i].plural;return n+" "+a},formatDateDisplay:t=>e=>e.format(t.settings.global.date_format_moment),formatTimeDisplay:t=>e=>e.format(t.settings.global.time_format_moment),allSupportedTimezones:()=>{let t=H().tz.names();const e=t.filter((t=>!j.includes(t)&&-1===t.indexOf("GMT")));return e},detectedTimezone:()=>{const t=H().tz.guess();return j.includes(t)||-1!==t.indexOf("GMT")?"UTC":t},formatTimezone:()=>t=>{if(!t)return"";let e=t.replace(/_/g," ");return e},getClosest:()=>(t,e)=>{for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},localStorageGet:()=>t=>{const e=localStorage.getItem(t);if(!e)return null;const s=JSON.parse(e),i=new Date;return i.getTime()>s.expiry?(localStorage.removeItem(t),null):s.value},localStorageSet:()=>(t,e,s=0)=>{const i=new Date,n={value:e,expiry:i.getTime()+s};localStorage.setItem(t,JSON.stringify(n))},startOfWeekDisplay:()=>t=>{var e=parseInt(t,10);return H().weekdays(e)},weekdays:()=>t=>{H().locale("en-US");var e=H().weekdays(!1);if(t=t?parseInt(t,10):0,t>0){var s=e.splice(0,t);e=[...e,...s]}return e},webMeetingsProviders:t=>{if(!t.settings||!t.settings.installed)return;let e=[{name:"custom",installed:!0,enabled:!0}],s={name:"google",installed:t.settings.installed.google_calendar,enabled:t.settings.installed.google_calendar&&t.settings.google_calendar.enabled&&t.settings.google_calendar.web_meetings};e.push(s);let i={name:"webex",installed:t.settings.installed.webex,enabled:Object.prototype.hasOwnProperty.call(t.settings,"webex")&&t.settings.webex.enabled};e.push(i);let n={name:"zoom",installed:t.settings.installed.zoom,enabled:Object.prototype.hasOwnProperty.call(t.settings,"zoom")&&t.settings.zoom.enabled};e.push(n);let a={name:"staff",installed:t.settings.installed.zoom,enabled:Object.prototype.hasOwnProperty.call(t.settings,"staff")&&t.settings.staff.enabled&&["any","all"].includes(t.appointment_types.currentAppointmentType.staff.required)};return e.push(a),e},upgradeUrlParsed:()=>(t,e)=>{const s=t.split("?"),i=s[0];let n=s.length>1?Ft().parse(s[1]):{};return!Object.keys(e).length>0?t:(n=Object.assign(n,e),`${i}?${Ft().stringify(n)}`)},allEditionsUrlParsed:()=>t=>{const e=ht.split("?"),s=e[0];let i=e.length>1?Ft().parse(e[1]):{};return!Object.keys(t).length>0?ht:(i=Object.assign(i,t),`${s}?${Ft().stringify(i)}`)}},uv={fetchApi({commit:t}){return new Promise(((e,s)=>{za().ajax({url:"getApi.php",method:"GET",dataType:"json",cache:!1,contentType:"application/json"}).done((s=>{t("defineApi",s.api),t("defineUser",s.user),e()})).fail(((t,e,i)=>{console.log(t,e,i),s({xhr:t,error:i})}))}))},callAsync({state:t}){return new Promise((e=>{za().ajax({url:t.api.root+"/async",method:"POST"}).done((()=>{e()}))}))},fetchTelCountryCode({commit:t,state:e,dispatch:s}){if(!e.settings.global.country_code)return new Promise(((e,i)=>{za().ajax({url:"//ip2c.org/s",method:"GET"}).done((i=>{let n=(i||"").toString();n&&"1"===n[0]?t("setTelCountryCode",n.substr(2,2)):s("fetchTelCountryCodeSecondTry"),e()})).fail((t=>{s("fetchTelCountryCodeSecondTry"),i(t)}))}));t("setTelCountryCode",e.settings.global.country_code)},fetchTelCountryCodeSecondTry({commit:t}){return new Promise(((e,s)=>{za().ajax({url:"//ip-api.com/json/?fields=status,message,countryCode",method:"GET",dataType:"json",contentType:"application/json"}).done((s=>{t("setTelCountryCode",s.countryCode),e()})).fail((t=>{s(t)}))}))},fetchSettings({commit:t,state:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateAllSettings",e.data),s()})).fail(((t,e,s)=>{i({xhr:t,error:s})}))}))},fetchInstalledSettings({commit:t,state:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/installed",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"installed",settings:e.data}),s()})).fail(((t,e,s)=>{i(t,s)}))}))}},hv={defineApi(t,e){t.api=e},defineUser(t,e){t.user=e},setTelCountryCode(t,e){t.telCountryCode=e},updateAllSettings(t,e){t.settings=e},updateSettings(t,e){i["default"].set(t.settings,e.key,e.settings)},resetRefreshMomentSettings(t){t.refreshMomentSettings=H()()}},gv={csvData:(t,e,s,i)=>t=>{let s=new Set;t.map((t=>{let e=Object.keys(t.customer_information);e.map((t=>{s.add(t)}))}));let n=t.map((t=>{const n="canceled"===t.status&&"0"!==t.rescheduled_to_appointment_id.toString()?"rescheduled":t.status;let a={"Appointment ID":t.id,"Appointment start date":e.csvFormatDate(t.start_date),"Appointment start time":e.csvFormatTime(t.start_date),"Appointment end date":e.csvFormatDate(t.end_date),"Appointment end time":e.csvFormatTime(t.end_date),"Appointment type":t.type_title,Status:n,"Customer timezone":t.customer_timezone,"Date created":e.csvFormatDateUtc(t.date_created),"Payment method":t.payment_method,"Payment amount":t.payment_received,"Team member(s)":i["staff/appointmentStaffNames"](t),"Edit link":t.public_edit_url};for(let e of s)a[e]="",Object.prototype.hasOwnProperty.call(t.customer_information,e)&&t.customer_information[e]&&("string"===typeof t.customer_information[e]?a[e]=t.customer_information[e]:Array.isArray(t.customer_information[e])&&(a[e]=t.customer_information[e].join(", ")));return a}));return n},csvExportFile:(t,e)=>t=>{let s=e.csvData(t),i="data:text/csv;charset=utf-8,";i+=['"'+Object.keys(s[0]).join('","')+'"',...s.map((t=>'"'+Object.values(t).join('","')+'"'))].join("\n").replace(/(^\[)|(\]$)/gm,"").replace(/#/g,encodeURIComponent("#"));const n=encodeURI(i);console.log(n);const a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","appointments.csv"),a.click()},csvFormatDate:(t,e,s)=>t=>H().tz(t,s.timestampFormat,s.settings.global.timezone_string).format(s.settings.global.date_format_moment),csvFormatTime:(t,e,s)=>t=>H().tz(t,s.timestampFormat,s.settings.global.timezone_string).format(s.settings.global.time_format_moment+" z"),csvFormatDateUtc:(t,e,s)=>t=>H().utc(t,s.timestampFormat).tz(s.settings.global.timezone_string).format(s.settings.global.date_format_moment),csvFormatTimeUtc:(t,e,s)=>t=>H().utc(t,s.timestampFormat).tz(s.settings.global.timezone_string).format(s.settings.global.time_format_moment+" z"),appointmentCount(t,e,s){if(!t.appointments||!t.appointments.length)return[];let i=[],n=H().utc();return i=t.appointments.filter((e=>{let i=!0;if("range"===t.filter.time)if(t.filter.date_range_min||t.filter.date_range_max){let n=!0,a=!0;if(t.filter.date_range_min){let i=H().utc(t.filter.date_range_min,s.timestampFormat);n=H().utc(e.start_date,s.timestampFormat).isSameOrAfter(i,"minute")}if(t.filter.date_range_max){let i=H().utc(t.filter.date_range_max,s.timestampFormat);a=H().utc(e.end_date,s.timestampFormat).isSameOrBefore(i,"minute")}i=n&&a}else i=!1;else i="upcoming"===t.filter.time?H().utc(e.end_date,s.timestampFormat).isSameOrAfter(n,"day"):H().utc(e.end_date,s.timestampFormat).isBefore(n,"day");let a=!t.filter.status||!t.filter.status.length||t.filter.status.includes(e.status),o=!t.filter.appointment_type_id||!Array.isArray(t.filter.appointment_type_id)||t.filter.appointment_type_id.includes(e.appointment_type_id),r=!(t.filter.appointment_type_label_id&&Array.isArray(t.filter.appointment_type_label_id)&&e.label_id)||t.filter.appointment_type_label_id.includes(e.label_id);Ye().isEmpty(t.filter.appointment_type_id)&&Ye().isEmpty(t.filter.appointment_type_label_id)&&(r=o=!0);let l=r||o,p=!t.filter.staff||!t.filter.staff.length||t.filter.staff.some((t=>e.staff_ids.includes(parseInt(t,10))));if(t.filter.search.length>2){let s=!t.filter.search||JSON.stringify(Object.values(e.customer_information)).toLowerCase().includes(t.filter.search);return i&&a&&p&&s&&l}return i&&a&&p&&l})),i},displayAppointments(t,e,s,i){if(!e.appointmentCount||!e.appointmentCount.length)return[];let n=e.appointmentCount;n=n.map((t=>e.prepAppointment(t)));let a=n.reduce(((t,e)=>{let s="type-"+e.appointment_type_id;return s+="-time-"+e.start_date,i["appointment_types/groupAppointmentTypeIds"].length&&i["appointment_types/groupAppointmentTypeIds"].includes(e.appointment_type_id)&&e.group_id>0?s+="-group-"+e.group_id:s+="-appt-"+e.id,Object.prototype.hasOwnProperty.call(t,s)||(t[s]={start_date:e.start_date,group_id:e.group_id,appointments:[]}),t[s]["appointments"].push(e),t}),{});return n=Object.values(a),n=n.sort(((t,e)=>t.start_date<e.start_date?-1:t.start_date>e.start_date?1:0)),"past"===t.filter.time&&(n=n.reverse()),e.definedRange||(n=n.slice(0,t.perPage*t.page)),n},definedRange(t){return"range"===t.filter.time&&t.filter.date_range_min&&t.filter.date_range_max},filterApplied(t){let e=Ye().cloneDeep(k),s=Ye().cloneDeep(t.filter);return delete e.time,delete s.time,e=JSON.stringify(e),s=JSON.stringify(s),e!==s},groupAppointmentStatus:()=>t=>{let e=t.reduce(((t,e)=>Math.min(v.indexOf(e.status),t)),10);return v[e]},prepAppointment:(t,e,s)=>t=>{if(Object.prototype.hasOwnProperty.call(t,"type_title")&&Object.prototype.hasOwnProperty.call(t,"type_label")&&Object.prototype.hasOwnProperty.call(t,"duration"))return t;var e={},i=H().utc(t.start_date).tz(s.settings.global.timezone_string).format(s.timestampFormat);e.start_date=i;var n=H().utc(t.end_date).tz(s.settings.global.timezone_string).format(s.timestampFormat);e.end_date=n,e.duration=H()(t.end_date).diff(H()(t.start_date),"minutes");var a=s.appointment_types.appointmentTypes.find((e=>e.id===t.appointment_type_id)),o=s.labels.apptTypeLabels.find((t=>t.id==a.label_id));return a&&(e.type_title=a.title,e.type_label=o?o.color:"light-green"),e=Object.assign({},t,e),e},upcomingAppointments(t,e,s){if(!t.appointments||!t.appointments.length)return[];let i=[],n=H().utc();return i=t.appointments.filter((t=>H().utc(t.end_date,s.timestampFormat).isSameOrAfter(n,"day"))),i},isAddressDisplayed:()=>(t,e)=>{let s=Object.keys(t);return!s.includes("Address")&&("City"===e||("State"===e?!s.includes("City"):"Zip"===e?!s.includes("State")&&!s.includes("City"):void 0))},fetchAppointmentsFilteredIcs(t,e,s){let i=new URL(s.api.root+"/appointments"),n=H().utc().locale("en").format("YYYY-MM-DD"),a=t.filter;i.searchParams.append("orderby","start_date");for(let o=0;o<a.status.length;o++)i.searchParams.append("status[]",a.status[o]);for(let o=0;o<a.appointment_type_id.length;o++)i.searchParams.append("appointment_type_id[]",a.appointment_type_id[o]);for(let o=0;o<a.staff.length;o++)i.searchParams.append("staff_ids_any[]",a.staff[o]);if("past"===a.time)i.searchParams.append("start_date_max",n),i.searchParams.append("order","DESC");else if("range"===a.time){const t=a.date_range_min?H()(a.date_range_min).utc().locale("en").format(s.timestampFormat):null,e=a.date_range_max?H()(a.date_range_max).utc().locale("en").format(s.timestampFormat):null;e&&i.searchParams.append("start_date_max",e),t&&i.searchParams.append("start_date_min",t),t&&e&&i.searchParams.append("number",-1),i.searchParams.append("order","ASC")}else i.searchParams.append("start_date_min",n),i.searchParams.append("order","ASC");return i.searchParams.append("format","ics"),i.searchParams.append("token",s.settings.global.public_read_access_token),i},wpUserIds:t=>{if(!t.appointments.length)return;let e=t.appointments.map((t=>t.customer_id)),s=t.appointments.map((t=>t.author_id)),i=[...e,...s],n=new Set(i);return Array.from(n)},wpUserGravatar:t=>e=>{let s=t.wpUsers.find((t=>t.id.toString()===e.toString()));if(s)return s.gravatar_url},wpUserLink:(t,e,s)=>t=>s.api.admin_url+"user-edit.php?user_id="+t,wpUserName:t=>e=>{let s=t.wpUsers.find((t=>t.id.toString()===e.toString()));if(s)return s.name},apptTypesAndLabelsFilterOptions:(t,e,s,i)=>{if(Ye().isEmpty(s.labels.apptTypeLabels))return[];if(Ye().isEmpty(i["appointment_types/editableAppointmentTypes"]))return[];if(Ye().isEmpty(t.filter))return[];let n=s.labels.apptTypeLabels,a=i["appointment_types/editableAppointmentTypes"],o=[];return n.forEach((t=>{let e={};e.label=t.name,e.value=t.id,e.suboptions=[],a.forEach((s=>{if(s.label_id==t.id){let t={};t.label=s.title,t.value=s.id,e.suboptions.push(t)}})),o.push(e)})),o}},_v={cancelGroupAppointment({commit:t,dispatch:e,rootState:s},i){if(i)return new Promise(((n,a)=>{za().ajax({url:s.api.root+"/appointments/groups/"+i+"/cancel",method:"POST",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{s?(t("setGroupCanceled",i),e("callAsync",null,{root:!0}),n()):a()})).fail(((t,e,s)=>{a(s)}))}));console.log("Cannot cancel group without ID")},deleteGroupAppointment({commit:t,dispatch:e,rootState:s},i){if(i)return new Promise(((n,a)=>{za().ajax({url:s.api.root+"/appointments/groups/"+i+"/delete",method:"POST",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{s?(t("removeGroupAppointment",i),e("callAsync",null,{root:!0}),n()):a()})).fail(((t,e,s)=>{a(s)}))}));console.log("Cannot delete group without ID")},fetchAppointments({commit:t,dispatch:e,rootState:s,rootGetters:i},n){if(i["staff/currentUserCan"]("ssa_manage_appointments")||i["staff/currentUserCan"]("ssa_manage_others_appointments"))return new Promise(((i,a)=>{za().ajax({url:s.api.root+"/appointments",method:"GET",dataType:"json",data:n,cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{t("updateAppointments",s.data),e("fetchWPUsers"),i()})).fail(((t,e,s)=>{a(s)}))}))},fetchAppointmentsFiltered({commit:t,state:e,dispatch:s,rootState:i,getters:n}){let a=H().utc().locale("en").format("YYYY-MM-DD"),o=e.filter,r={number:e.perPage,offset:(e.page-1)*e.perPage,orderby:"start_date"};if(r["status"]=o.status,r["search"]=o.search,r["appointment_type_id"]=o.appointment_type_id,r["label_id"]=o.appointment_type_label_id,r["staff_ids_any"]=o.staff,"past"===o.time)r["start_date_max"]=a,r["order"]="DESC";else if("range"===o.time){const t=o.date_range_min?H()(o.date_range_min).utc().locale("en").format(i.timestampFormat):null,e=o.date_range_max?H()(o.date_range_max).utc().locale("en").format(i.timestampFormat):null;e&&(r["start_date_max"]=e),t&&(r["start_date_min"]=t),t&&e&&(r["number"]=-1),r["order"]="ASC"}else r["start_date_min"]=a,r["order"]="ASC";return new Promise(((a,o)=>{za().ajax({url:i.api.root+"/appointments",method:"GET",dataType:"json",data:r,cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((i=>{t("updateAppointments",i.data),n.definedRange?t("setLoadedAll",!0):t("setLoadedAll",i.data.length<e.perPage),s("fetchWPUsers"),a()})).fail(((t,e,s)=>{o(s)}))}))},fetchAppointment({commit:t,dispatch:e,rootState:s},i){return new Promise(((n,a)=>{za().ajax({url:s.api.root+"/appointments/"+i,method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{t("updateAppointments",s.data),e("fetchWPUsers"),n()})).fail(((t,e,s)=>{a(s)}))}))},saveAppointment({commit:t,rootState:e,dispatch:s},i){return new Promise(((n,a)=>{za().ajax({url:e.api.root+"/appointments/"+i.id,method:"POST",dataType:"json",data:JSON.stringify(i),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setAppointmentData",{id:e.data.id,appt:e.data}),s("callAsync",null,{root:!0}),n()})).fail(((t,e,s)=>{a(s)}))}))},deleteAppointment({commit:t,rootState:e,dispatch:s},i){return new Promise(((n,a)=>{za().ajax({url:e.api.root+"/appointments/"+i.id+"/delete",method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("removeAppointment",i.id),s("callAsync",null,{root:!0}),n()})).fail(((t,e,s)=>{a(s)}))}))},fetchAppointmentMeta({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/appointments/"+s.id+"/meta",method:"GET",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{let n={meta:e.data};t("setAppointmentData",{id:s.id,appt:n}),i()})).fail(((t,e,s)=>{n(s)}))}))},saveAppointmentMeta({rootState:t},{id:e,meta:s}){return new Promise(((i,n)=>{za().ajax({url:t.api.root+"/appointments/"+e+"/meta",method:"POST",dataType:"json",data:JSON.stringify(s),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{i()})).fail(((t,e,s)=>{n(s)}))}))},purgeAppointments({commit:t,rootState:e,dispatch:s},i){return new Promise(((n,a)=>{za().ajax({url:e.api.root+"/appointments/purge",method:"GET",dataType:"json",data:i,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setAppointments",[]),s("fetchAppointments"),n(e)})).fail((t=>{a(t.responseJSON)}))}))},fetchAppointmentHistory({commit:t,rootState:e},s){if(!s)return;t("clearAppointmentHistory");let i={appointment_id:s};return new Promise(((s,n)=>{za().ajax({url:e.api.root+"/revisions",method:"GET",dataType:"json",data:i,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setAppointmentHistory",e.data),s()})).fail(((t,e,s)=>{n(s)}))}))},fetchWPUsers({commit:t,rootState:e,getters:s,rootGetters:i}){if(i["staff/currentUserCan"]("ssa_manage_appointments"))return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/customers",method:"GET",data:{ids:JSON.stringify(s.wpUserIds)},dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setWpUsers",e.data),i(e)})).fail(((t,e,s)=>{n(s)}))}))}},fv={removeAppointment(t,e){let s=t.appointments.findIndex((t=>t.id===e));t.appointments.splice(s,1)},removeGroupAppointment(t,e){let s=t.appointments.filter((t=>t.group_id!==e));t.appointments=s},setFilter(t,e){Object.prototype.hasOwnProperty.call(e,"key")?i["default"].set(t.filter,e.key,e.value):t.filter=Ye().cloneDeep(e)},setAppointments(t,e){t.appointments=e},setGroupCanceled(t,e){let s=t.appointments.slice(0);s.forEach((t=>{Object.prototype.hasOwnProperty.call(t,"group_id")&&t.group_id===e&&(t.status="canceled")})),t.appointments=s},setLoadedAll(t,e){t.loadedAll=e},setPage(t,e){t.page=e},setPerPage(t,e){t.perPage=e},updateAppointments(t,e){let s=t.appointments.slice(0),i=e instanceof Array;if(i)s=e.concat(s),s=Ye().uniqBy(s,"id");else{let t=e.id,i=s.findIndex((e=>parseInt(t,10)===parseInt(e.id,10)));i>-1?s.splice(i,1,e):s=s.concat(e)}t.appointments=s},setAppointmentData(t,e){var s=t.appointments.findIndex((t=>t.id===e.id));if(s>-1){var i=Object.assign({},t.appointments[s],e.appt);t.appointments.splice(s,1,i)}},resetRefreshMomentAppts(t){t.refreshMomentAppts=H()()},setAppointmentHistory(t,e){t.appointmentHistory=e},clearAppointmentHistory(t){t.appointmentHistory=null},setWpUsers(t,e){t.wpUsers=e}};const yv={appointments:[],filter:Ye().cloneDeep(k),loadedAll:!1,page:1,perPage:50,wpUsers:[],refreshMomentAppts:null,appointmentHistory:null};var vv={namespaced:!0,state:yv,getters:gv,actions:_v,mutations:fv},bv={stripe:(t,e,s)=>s.settings&&s.settings.stripe?s.settings.stripe:{},paymentsModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.payments,i.upgrade=!s.settings.installed.payments,s.settings.payments?i.enabled=s.settings.payments.enabled&&s.settings.installed.payments:i.enabled=!1,i},activePaymentMethods:(t,e,s)=>{let i=[];return s.settings&&s.settings.stripe?(s.settings.paypal.enabled&&s.settings.paypal.email&&i.push("paypal"),s.settings.stripe.enabled&&s.settings.stripe.publishable_key&&s.settings.stripe.secret_key&&i.push("stripe"),i):i},displayPrice:(t,e,s)=>(t,e)=>{if(!s.settings||!s.settings.global)return;let i=s.settings.global.locale.replace("_","-"),n=parseFloat(t);return n||0===n?new Intl.NumberFormat(i,{style:"currency",currency:e}).format(n):null},displayGateway:()=>t=>{let e="";switch(t){case"stripe":e="Stripe";break;case"paypal":e="PayPal";break;case"woocommerce":e="WooCommerce";break}return e},paypalModule:(t,e,s)=>{if(!e.paymentsModule)return;let i={};return i.installed=s.settings.installed.paypal,s.settings.paypal&&e.paymentsModule.enabled?i.enabled=s.settings.paypal.enabled&&s.settings.installed.paypal:i.enabled=!1,i.active=!Ye().isEmpty(s.settings.paypal.email),i.sandbox=s.settings.paypal.sandbox_enabled,i},stripeModule:(t,e,s)=>{if(!e.paymentsModule)return;let i={};return i.installed=s.settings.installed.stripe,s.settings.stripe&&e.paymentsModule.enabled?i.enabled=s.settings.stripe.enabled&&s.settings.installed.stripe:i.enabled=!1,i.active=!Ye().isEmpty(s.settings.stripe.secret_key)&&!Ye().isEmpty(s.settings.stripe.publishable_key),i.test_mode=s.settings.stripe.test_mode_enabled,i}},kv={updatePaymentsEnabled({rootState:t,commit:e,dispatch:s},i){e("setPaymentsEnabled",{settings:t.settings,payload:i}),s("savePaymentsSettings")},savePaymentsSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/payments",method:"POST",dataType:"json",data:JSON.stringify(e.settings.payments),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("setPaymentsSettings",{settings:e.settings,data:i.data}),s()})).fail((t=>{i(t)}))}))},updateDefaultCurrency({rootState:t,commit:e,dispatch:s},i){e("setDefaultCurrency",{settings:t.settings,payload:i}),s("savePaymentsSettings")},updateStripeEnabled({rootState:t,commit:e,dispatch:s},i){e("setStripeEnabled",{settings:t.settings,payload:i}),s("saveStripeSettings")},updateStripeDescription({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"description",value:s})},updateStripeStatementDescriptor({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"statement_descriptor",value:s})},updateStripeTitle({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"title",value:s})},updateStripePublishableKey({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"publishable_key",value:s})},updateStripeSecretKey({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"secret_key",value:s})},updateStripeWebhookSecret({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"webhook_secret",value:s})},updateStripeTestMode({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"test_mode_enabled",value:s})},updateStripeTestPublishableKey({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"test_publishable_key",value:s})},updateStripeTestSecretKey({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"test_secret_key",value:s})},updateStripeTestWebhookSecret({rootState:t,commit:e},s){e("setStripeSetting",{settings:t.settings,key:"test_webhook_secret",value:s})},saveStripeSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/stripe",method:"POST",dataType:"json",data:JSON.stringify(e.settings.stripe),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("setStripeSettings",{settings:e.settings,payload:i.data}),s()})).fail((t=>{i(t)}))}))},updatePaypalEnabled({rootState:t,commit:e,dispatch:s},i){e("setPaypalEnabled",{settings:t.settings,payload:i}),s("savePaypalSettings")},updatePaypalDescription({rootState:t,commit:e},s){e("setPaypalSetting",{settings:t.settings,key:"description",value:s})},updatePaypalEmail({rootState:t,commit:e},s){e("setPaypalSetting",{settings:t.settings,key:"email",value:s})},updatePaypalIdentityToken({rootState:t,commit:e},s){e("setPaypalSetting",{settings:t.settings,key:"identity_token",value:s})},updatePaypalSandbox({rootState:t,commit:e},s){e("setPaypalSetting",{settings:t.settings,key:"sandbox_enabled",value:s})},updatePaypalTitle({rootState:t,commit:e},s){e("setPaypalSetting",{settings:t.settings,key:"title",value:s})},savePaypalSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/paypal",method:"POST",dataType:"json",data:JSON.stringify(e.settings.paypal),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("setPaypalSettings",{settings:e.settings,payload:i.data}),s()})).fail((t=>{i(t)}))}))},fetchPayments({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/payments",method:"GET",cache:!1,dataType:"json",data:{appointment_id:s},contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{let n={payments:e.data};t("appointments/setAppointmentData",{id:s,appt:n},{root:!0}),i()})).fail(((t,e,s)=>{n(s)}))}))}},Cv={setPaymentsEnabled(t,e){i["default"].set(e.settings.payments,"enabled",e.payload)},setPaymentsSettings(t,e){i["default"].set(e.settings,"payments",e.data)},setDefaultCurrency(t,e){i["default"].set(e.settings.payments,"default_currency",e.payload)},setStripeEnabled(t,e){i["default"].set(e.settings.stripe,"enabled",e.payload)},setStripeSetting(t,e){i["default"].set(e.settings.stripe,e.key,e.value)},setStripeSettings(t,e){i["default"].set(e.settings,"stripe",e.payload)},setPaypalEnabled(t,e){i["default"].set(e.settings.paypal,"enabled",e.payload)},setPaypalSetting(t,e){i["default"].set(e.settings.paypal,e.key,e.value)},setPaypalSettings(t,e){i["default"].set(e.settings,"paypal",e.payload)}};const Sv={stripe:{title:"Credit card",description:"Pay with your credit card via Stripe.",webhook:"blah blah blah",publishable_key:"",secret_key:"",test_mode_enabled:!1,test_publishable_key:"",test_secret_key:""}};var wv={namespaced:!0,state:Sv,getters:bv,actions:kv,mutations:Cv},Tv={phoneAppointmentTypes:(t,e,s,i)=>{if(i["appointment_types/editableAppointmentTypes"])return i["appointment_types/editableAppointmentTypes"].filter((t=>{if(!Object.prototype.hasOwnProperty.call(t,"custom_customer_information")||Ye().isEmpty(t.custom_customer_information))return!1;let e=t.custom_customer_information.filter((t=>"phone"===t.type));return e.length>0}))},filterApplied(t){let e=Ye().cloneDeep(y),s=Ye().cloneDeep(t.filter);return e=JSON.stringify(e),s=JSON.stringify(s),e!==s},filteredNotifications:(t,e,s)=>{if(!s.settings||!s.settings.notifications||!s.settings.notifications.notifications)return;let i=[];return i=s.settings.notifications.notifications.filter((s=>{let i=!e.smsModule.enabled&&"email"===s.type;e.smsModule.enabled&&(i=!t.filter.notification_type||!t.filter.notification_type.length||t.filter.notification_type.includes(s.type));let n=t.filter.appointment_type&&t.filter.appointment_type.length,a=s.appointment_types&&s.appointment_types.length,o=!n||!a||t.filter.appointment_type.some((t=>s.appointment_types.includes(t))),r=!t.filter.trigger||!t.filter.trigger.length||t.filter.trigger.includes(s.trigger),l=t.filter.sent_to&&t.filter.sent_to.length,p=s.sent_to&&s.sent_to.length||s.sms_to&&s.sms_to.length,d=!l||!p||t.filter.sent_to.some((t=>"email"===s.type&&s.sent_to&&s.sent_to.includes(t)||"sms"===s.type&&s.sms_to&&s.sms_to.includes(t)));return i&&o&&r&&d})),i},sentToOptions:(t,e,s)=>{if(!s.settings||!s.settings.notifications||!s.settings.notifications.notifications)return[];let i=new Set;return s.settings.notifications.notifications.map((s=>{t.filter.notification_type.length&&!t.filter.notification_type.includes("email")||Object.prototype.hasOwnProperty.call(s,"sent_to")&&s.sent_to.forEach((t=>i.add(t))),e.smsModule.enabled&&s.sms_to&&(!t.filter.notification_type.length||t.filter.notification_type.includes("sms"))&&Object.prototype.hasOwnProperty.call(s,"sms_to")&&s.sms_to.forEach((t=>i.add(t)))})),Array.from(i)},sms:(t,e,s)=>s.settings&&s.settings.sms?s.settings.sms:{},smsModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.sms,s.settings.sms?i.enabled=s.settings.installed.sms&&s.settings.sms.enabled:i.enabled=!1,i.active=i.enabled&&!Ye().isEmpty(s.settings.sms.authorized_date),i.test_mode=i.enabled&&s.settings.sms.twilio_test_mode_enabled,i},remindersInstalled:(t,e,s)=>!!(s.settings&&s.settings.installed&&Object.prototype.hasOwnProperty.call(s.settings.installed,"reminders"))&&s.settings.installed.reminders,validateEmail:()=>t=>{let e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}},xv={saveNotificationSingle({commit:t,rootState:e},s){let i=e.settings.notifications.notifications.find((t=>t.id===s));if(i)return new Promise(((n,a)=>{za().ajax({url:e.api.root+"/notifications/"+s,method:"POST",dataType:"json",data:JSON.stringify(i),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((s=>{t("setSingleNotification",{id:s.id,notification:s,settings:e.settings,timestampFormat:e.timestampFormat}),n()})).fail((t=>{a(t)}))}))},deleteNotificationSingle({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/notifications/"+s+"/delete",method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("deleteSettingsNotification",{settings:e.settings,id:s}),i()})).fail((t=>{n(t)}))}))},updateNotificationsSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/notifications",method:"POST",dataType:"json",data:JSON.stringify(e.settings.notifications),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateNotificationsSettings",{settings:e.settings,value:i.data}),s()})).fail((t=>{i(t)}))}))},saveNotificationsSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/notifications",method:"POST",dataType:"json",data:JSON.stringify(e.settings.notifications),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateNotificationsSettings",{settings:e.settings,value:i.data}),s()})).fail((t=>{i(t)}))}))},fetchNotificationPreview({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/notifications/preview",method:"POST",dataType:"json",data:JSON.stringify(s),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((s=>{t("setNotificationPreview",{settings:e.settings,preview:s.data.preview}),i()})).fail((t=>{n(t)}))}))},saveSmsSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/sms",method:"POST",dataType:"json",data:JSON.stringify(e.settings.sms),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("setSmsSettings",{settings:e.settings,payload:i.data}),s()})).fail((t=>{i(t)}))}))},validateTwigString({rootState:t},e){if(e)return new Promise(((s,i)=>{za().ajax({url:t.api.root+"/templates/validate",method:"POST",cache:!1,dataType:"json",data:JSON.stringify({message:e}),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{t.success?s(t):i(t.error)})).fail((t=>{i(t.responseJSON)}))}))},authorizeTwilio({rootState:t}){return new Promise(((e,s)=>{za().ajax({url:t.api.root+"/sms/authorize",method:"POST",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{t.error&&t.error.errors&&t.error.errors.length?s(t):e()})).fail((t=>{s(t)}))}))},sendTestMessage({rootState:t},e){return new Promise(((s,i)=>{za().ajax({url:t.api.root+"/sms/send_test",method:"POST",dataType:"json",data:JSON.stringify({phone:e}),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{console.log(t.data),s()})).fail((t=>{i(t)}))}))},updateTwilioAccountSid({commit:t,rootState:e},s){t("setSmsSetting",{key:"twilio_account_sid",value:s,settings:e.settings})},updateTwilioAuthToken({commit:t,rootState:e},s){t("setSmsSetting",{key:"twilio_auth_token",value:s,settings:e.settings})},updateTwilioSendFromPhone({commit:t,rootState:e},s){t("setSmsSetting",{key:"twilio_send_from_phone",value:s,settings:e.settings})},updateTwilioTestModeEnabled({commit:t,rootState:e},s){t("setSmsSetting",{key:"twilio_test_mode_enabled",value:s,settings:e.settings})},updateTwilioTestAccountSid({commit:t,rootState:e},s){t("setSmsSetting",{key:"twilio_test_account_sid",value:s,settings:e.settings})},updateTwilioTestAuthToken({commit:t,rootState:e},s){t("setSmsSetting",{key:"twilio_test_auth_token",value:s,settings:e.settings})}},Av={setFilter(t,e){Object.prototype.hasOwnProperty.call(e,"key")?i["default"].set(t.filter,e.key,e.value):t.filter=Ye().cloneDeep(e)},updateNotificationsSettings(t,e){i["default"].set(e.settings,"notifications",e.value)},setNotificationsEnabled(t,e){i["default"].set(e.settings.notifications,"enabled",e.value)},addSettingsNotification(t,e){e.notification.last_modified=H().utc().format(e.timestampFormat),e.settings.notifications.notifications.splice(e.settings.notifications.notifications.length,0,e.notification)},cloneSettingsNotification(t,e){let s=e.settings.notifications.notifications.find((t=>t.id===e.id)),i=Ye().cloneDeep(s),n=new Date;i.id=n.getTime(),e.settings.notifications.notifications.splice(e.settings.notifications.notifications.length,0,i)},deleteSettingsNotification(t,e){let s=e.settings.notifications.notifications.findIndex((t=>t.id===e.id));e.settings.notifications.notifications.splice(s,1)},setSingleNotification(t,{id:e,notification:s,settings:i,timestampFormat:n}){let a=i.notifications.notifications.findIndex((t=>t.id===e));s.last_modified=H().utc().format(n),i.notifications.notifications.splice(a,1,s)},setNotificationPreview(t,e){i["default"].set(e.settings.notifications,"preview",e.preview)},setSmsEnabled(t,e){i["default"].set(e.settings.sms,"enabled",e.payload)},setSmsSetting(t,e){i["default"].set(e.settings.sms,e.key,e.value)},setSmsSettings(t,e){i["default"].set(e.settings,"sms",e.payload)}};const Pv={filter:{notification_type:[],appointment_type:[],trigger:[],sent_to:[]}};var Dv={namespaced:!0,state:Pv,getters:Tv,actions:xv,mutations:Av},Mv={appointmentStaffNames:t=>e=>{if(!e||!t.staff)return"";let s=[];Ye().isArray(e)?(e.map((t=>{s=s.concat(t.staff_ids)})),s=Ye().uniq(s)):s=e.staff_ids;let i=s.map((e=>{let s=t.staff.find((t=>parseInt(e,10)===parseInt(t.id,10)));return s?"publish"!==s.status?s.display_name.concat(" (inactive)"):s.display_name:""}));return i.join(", ")},currentUserCan:(t,e,s)=>t=>!(!s.user||!s.user.capabilities.length)&&s.user.capabilities.indexOf(t)>-1,currentUserHasPermissions:(t,e,s)=>!(!s.user||!s.user.capabilities.length)&&(s.user&&s.user.capabilities.length),currentUserHasNav:(t,e,s)=>!(!s.user||!s.user.capabilities.length)&&(s.user&&s.user.capabilities.length>1),currentUserIsSelf:(t,e,s)=>!(!s.user||!t.currentStaff)&&t.currentStaff.user_id.toString()===s.user.user_id.toString(),currentUserIsStaff:(t,e,s)=>!(!s.user||!s.user.capabilities.length)&&(Object.prototype.hasOwnProperty.call(s.user,"staff_id")&&s.user.staff_id&&e.currentUserCan("ssa_manage_appointments")&&!e.currentUserCan("ssa_manage_staff")),currentUserStaffId:(t,e,s)=>s.user?s.user.staff_id:null,staffExcludingSelf:(t,e,s)=>e.staffStatusPublish.length?s.user&&s.user.staff_id?e.staffStatusPublish.filter((t=>t.id!==s.user.staff_id)):Ye().cloneDeep(e.staffStatusPublish):[],staffModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=!!Object.prototype.hasOwnProperty.call(s.settings.installed,"staff")&&s.settings.installed.staff,s.settings.staff?i.enabled=s.settings.installed.staff&&s.settings.staff.enabled:i.enabled=!1,i.upgrade=!s.settings.installed.staff,i},staffStatusDelete:t=>t.staff&&t.staff.length?t.staff.filter((t=>"delete"===t.status)):[],staffStatusDraft:t=>t.staff&&t.staff.length?t.staff.filter((t=>"draft"===t.status)):[],staffStatusPublish:t=>t.staff&&t.staff.length?t.staff.filter((t=>"publish"===t.status)):[],unattachedUsers:t=>{if(!t.users||!t.staff)return[];let e=t.staff.map((t=>parseInt(t.user_id,10)));return t.users.filter((t=>-1===e.indexOf(t.id)))},userGravatar:t=>e=>{if(!t.users)return;let s=t.users.find((t=>t.id.toString()===e.toString()));return s?s.gravatar_url:void 0},userId:t=>t.currentStaff&&Object.prototype.hasOwnProperty.call(t.currentStaff,"user_id")?parseInt(t.currentStaff.user_id,10):0,staffAppointmentTypes:(t,e,s,i)=>s.appointment_types.appointmentTypes?i["appointment_types/editableAppointmentTypes"].filter((t=>Object.prototype.hasOwnProperty.call(t,"staff")&&Object.prototype.hasOwnProperty.call(t.staff,"required")&&""!==t.staff.required)):[],staffMissingWebMeetingsUrl:t=>{if(!t.staff.staff||0===t.staff.staff.length)return!1;const e=t.staff.staff.filter((t=>!t.web_meetings_url||""===t.web_meetings_url));return e.length>0},currentStaffMissingWebMeetingsUrl:(t,e,s)=>{if(!t.staff||!t.staff.staff||0===t.staff.staff.length)return!1;const i=s.appointment_types.currentAppointmentType.staff_ids.map((t=>t.toString())),n=t.staff.staff.filter((t=>i.includes(t.id)&&(!t.web_meetings_url||""===t.web_meetings_url)));return n.length>0}},Ev={deleteStaff({commit:t,rootState:e,dispatch:s},i){let n=e.api.root+"/staff",a=n+"/"+i+"/delete";return new Promise(((n,o)=>{za().ajax({url:a,method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("removeStaffMember",i),s("callAsync",null,{root:!0}),n()})).fail(((t,e,s)=>{o(s)}))}))},fetchSingleStaff({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/staff/"+s,method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setCurrentStaff",e.data),t("setStaffMember",s),i()})).fail((t=>{n(t)}))}))},fetchStaff({commit:t,dispatch:e,rootState:s}){return new Promise(((i,n)=>{za().ajax({url:s.api.root+"/staff",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{t("setStaff",s.data),e("syncStaffFromUsers"),i()})).fail((t=>{n(t)}))}))},fetchUsers({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/users",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setUsers",e.data),s()})).fail((t=>{i(t)}))}))},googleCalendarDeauth({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/google_calendars/staff_disconnect",method:"POST",dataType:"json",data:s,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{e.data.google={connected:!1,excluded_calendars:[]},t("setCurrentStaff",e.data),i()})).fail((t=>{n(t)}))}))},saveStaff({commit:t,state:e,rootState:s,dispatch:i}){let n=s.api.root+"/staff",a=e.currentStaff&&e.currentStaff.id?n+"/"+e.currentStaff.id:n;return new Promise(((n,o)=>{za().ajax({url:a,method:"POST",dataType:"json",data:JSON.stringify(e.currentStaff),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{t("setCurrentStaff",s.data),t("setStaffMember",e.currentStaff.id),i("callAsync",null,{root:!0}),n()})).fail((t=>{o(t)}))}))},saveStaffSettings({commit:t,rootState:e,dispatch:s}){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/settings/staff",method:"POST",dataType:"json",data:JSON.stringify(e.settings.staff),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((n=>{t("setStaffSettings",{settings:e.settings,data:n.data}),s("callAsync",null,{root:!0}),i()})).fail((t=>{n(t)}))}))},syncStaffFromUsers({commit:t,state:e,dispatch:s}){if(!e.users||!e.staff)return;let i=!Ye().isEmpty(e.currentStaff)&&e.currentStaff.id?e.currentStaff.id:null;e.staff.map((i=>{let n=i.user_id?parseInt(i.user_id,10):0;if(t("setCurrentStaff",i),n&&0!==n){let a=e.users.find((t=>parseInt(t.id,10)===n));if(!a)return t("setCurrentStaff",{key:"user_id",value:0}),void s("saveStaff");let o=i.email.toLowerCase()!==a.email.toLowerCase(),r=i.display_name!==a.display_name,l=i.name!==a.display_name;(o||r||l)&&(t("setCurrentStaff",{key:"email",value:a.email.toLowerCase()}),t("setCurrentStaff",{key:"display_name",value:a.display_name}),t("setCurrentStaff",{key:"name",value:a.display_name}),s("saveStaff"))}if(0===n){let n=e.users.find((t=>t.email&&i.email&&t.email.toLowerCase()===i.email.toLowerCase()));if(!n)return;t("setCurrentStaff",{key:"user_id",value:n.id}),t("setCurrentStaff",{key:"email",value:n.email.toLowerCase()}),t("setCurrentStaff",{key:"display_name",value:n.display_name}),t("setCurrentStaff",{key:"name",value:n.display_name}),s("saveStaff")}})),t("setCurrentStaff",i?e.staff.find((t=>t.id===i)):void 0)},updateStaffEnabled({rootState:t,commit:e,dispatch:s},i){e("setStaffEnabled",{settings:t.settings,payload:i}),s("saveStaffSettings")}},Lv={setStaffEnabled(t,e){i["default"].set(e.settings.staff,"enabled",e.payload)},setStaffSettings(t,e){i["default"].set(e.settings,"staff",e.data)},addStaffMember(t){t.staff.push(t.currentStaff)},defineNewStaffMember(t){t.currentStaff=Ye().cloneDeep(L)},removeStaffMember(t,e){let s=t.staff.findIndex((t=>t.id===e)),i=Ye().cloneDeep(t.staff[s]);i.status="delete",t.staff.splice(s,1,i)},setCurrentStaff(t,e){t.currentStaff||(t.currentStaff={}),e&&Object.prototype.hasOwnProperty.call(e,"key")?i["default"].set(t.currentStaff,e.key,e.value):t.currentStaff=Ye().cloneDeep(e)},setStaff(t,e){t.staff=e},setStaffGoogleCalendars(t,e){t.googleCalendars=e},setSearch(t,e){t.search=e},setStaffMember(t,e){if(!t.staff)return;let s=t.staff.findIndex((t=>t.id===e));s>=0?t.staff.splice(s,1,t.currentStaff):t.staff.push(t.currentStaff)},setUsers(t,e){t.users=e},setStaffBlackoutDates(t,e){t.currentStaff.blackout_dates||i["default"].set(t.currentStaff,"blackout_dates",{}),i["default"].set(t.currentStaff.blackout_dates,"dates",e.slice(0))}};const Ov={currentStaff:void 0,googleCalendars:[],staff:void 0,users:null,search:""};var $v={namespaced:!0,state:Ov,getters:Mv,actions:Ev,mutations:Lv},Iv={trackingModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.tracking,s.settings.tracking?i.enabled=s.settings.installed.tracking&&s.settings.tracking.enabled:i.enabled=!1,i.upgrade=!s.settings.installed.tracking,i}},Nv={updateTrackingEnabled({commit:t,dispatch:e,rootState:s},i){t("setTrackingEnabled",{settings:s.settings,payload:i}),e("saveTrackingSettings")},saveTrackingSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/tracking",method:"POST",dataType:"json",data:JSON.stringify(e.settings.tracking),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("setTrackingSettings",{settings:e.settings,data:i.data}),s()})).fail((t=>{i(t)}))}))}},jv={setTrackingEnabled(t,e){i["default"].set(e.settings.tracking,"enabled",e.payload)},setTrackingSettings(t,e){i["default"].set(e.settings,"tracking",e.data)},setEventTracking(t,e){i["default"].set(e.settings.tracking,"event_tracking",e.value)},setPageTracking(t,e){i["default"].set(e.settings.tracking,"page_tracking",e.value)}};const zv={};var Uv={namespaced:!0,state:zv,getters:Iv,actions:Nv,mutations:jv},Bv={getCurrentGuideKey:t=>e=>{if("undefined"===typeof e)return t.currentGuideKey;const s=Object.keys(e).reduce(((t,s)=>(t.push(`${s}:${e[s]}`),t)),[]).join("|");return s},currentGuides:t=>t.currentGuideKey&&0!==Object.keys(t.guides).length&&"undefined"!==typeof t.guides[t.currentGuideKey]?t.guides[t.currentGuideKey]:[],getSupportGuidesTerms:()=>t=>{let e=[],s=t.toLowerCase(),i=Object.keys(U);return i.forEach((t=>{U[t].some((t=>{const e=t.toLowerCase(),i=new RegExp(e+"\\b","g"),n=s.match(i);return n&&e===n[0]}))&&e.push(z.support_ticket[t])})),e.length?e:[z.support_ticket["default"]]},getCurrentSupportGuideKey:t=>e=>{if("undefined"===typeof e)return t.currentSupportGuideKey;const s=Object.keys(e).reduce(((t,s)=>(t.push(`${s}:${e[s]}`),t)),[]).join("|");return s},currentSupportGuides:t=>t.currentSupportGuideKey&&0!==Object.keys(t.supportGuides).length&&"undefined"!==typeof t.supportGuides[t.currentSupportGuideKey]?t.supportGuides[t.currentSupportGuideKey]:[]},Fv={getGuides({commit:t,state:e,getters:s,rootState:i},n){return new Promise(((a,o)=>{const r=Object.assign({"ssasc-edition":i.user.guides_support},n);Object.keys(r).forEach((t=>{Array.isArray(r[t])&&(r[t]=r[t].join(","))}));const l=s["getCurrentGuideKey"](r);if(Object.prototype.hasOwnProperty.call(e.guides,l))return t("setCurrentGuideKey",l),void a();t("setGuidesLoading",!0),t("setCurrentGuideKey",l),za().ajax({url:i.api.root+"/fetch-guides",method:"GET",data:r,cache:!0,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((e=>{Object.prototype.hasOwnProperty.call(e,"error")?(t("setGuides",{key:l,search:r,results:[]}),t("setGuidesLoading",!1)):(t("setGuides",{key:l,search:r,results:e}),t("setGuidesLoading",!1)),a()})).fail(((e,s,i)=>{t("setGuides",{key:l,search:r,results:[]}),t("setGuidesLoading",!1),o(i)}))}))},getSupportGuides({commit:t,state:e,getters:s,rootState:i},n){return new Promise(((a,o)=>{const r=Object.assign({"ssasc-edition":i.user.guides_support},n),l={"ssasc-edition":i.user.guides_support,"ssasc-plugin-screen":412};Object.keys(r).forEach((t=>{Array.isArray(r[t])&&(r[t]=r[t].join(","))}));const p=s["getCurrentSupportGuideKey"](r),d=s["getCurrentSupportGuideKey"](l);if(Object.prototype.hasOwnProperty.call(e.supportGuides,p))return e.supportGuides[p].length>0?t("setCurrentSupportGuideKey",p):t("setCurrentSupportGuideKey",d),void a();t("setSupportGuidesLoading",!0),za().ajax({url:i.api.root+"/fetch-guides",method:"GET",data:r,cache:!0,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((e=>{e.length>0?(t("setSupportGuides",{key:p,search:r,results:e}),t("setCurrentSupportGuideKey",p)):t("setCurrentSupportGuideKey",d),t("setSupportGuidesLoading",!1),a()})).fail(((e,s,i)=>{t("setSupportGuidesLoading",!1),o(i)}))}))}},Gv={setGuides(t,e){i["default"].set(t.guides,e.key,e.results)},setCurrentGuideKey(t,e){t.currentGuideKey=e},setGuidesLoading(t,e){t.guidesLoading=e},setSupportGuides(t,e){i["default"].set(t.supportGuides,e.key,e.results)},setCurrentSupportGuideKey(t,e){t.currentSupportGuideKey=e},setSupportGuidesLoading(t,e){t.supportGuidesLoading=e}};const Wv={guides:{},currentGuideKey:null,guidesLoading:!1,supportGuides:{},currentSupportGuideKey:null,supportGuidesLoading:!1};var Rv={namespaced:!0,state:Wv,getters:Bv,actions:Fv,mutations:Gv},Hv={webexModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.webex,i.upgrade=!s.settings.installed.webex,s.settings.webex?i.enabled=s.settings.webex.enabled&&s.settings.installed.webex:i.enabled=!1,i}},qv={webexAuth({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/webex/authorize_url",method:"GET",dataType:"json",cache:!1,data:s,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateWebexAuthUrl",e.data.authorize_url),i()})).fail((t=>{n(t)}))}))},webexDeauth({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/webex/disconnect",method:"POST",dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateWebexSettings",e.data),s()})).fail((t=>{i(t)}))}))},updateWebexSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/webex",method:"POST",dataType:"json",data:JSON.stringify(e.settings.webex),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateWebexSettings",e.data),s()})).fail((t=>{i(t)}))}))},fetchWebexUser({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/webex/me",method:"GET",cache:!1,dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateWebexUser",e),s()})).fail((t=>{i(t)}))}))}},Zv={updateWebexEnabled(t,e){i["default"].set(Ek.state.settings.webex,"enabled",e)},updateWebexSettings(t,e){Ek.state.settings.webex=e},updateWebexAccessToken(t,e){i["default"].set(t.settings.webex,"access_token",e)},updateWebexUser(t,e){t.webexUser=e},updateWebexRedirectUrl(t,e){t.webexRedirectUrl=e},updateWebexAuthUrl(t,e){t.webexAuthUrl=e}};const Kv={webexAuthUrl:null,webexRedirectUrl:null,webexUser:null};var Vv={namespaced:!0,state:Kv,getters:Hv,actions:qv,mutations:Zv},Yv={},Jv={fetchTranslationSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/translation",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"translation",settings:e.data},{root:!0}),s()})).fail((t=>{i(t)}))}))},fetchLanguagePack({rootState:t},e){return new Promise(((s,i)=>{za().ajax({url:t.api.root+"/translation/fetch",method:"POST",dataType:"json",data:JSON.stringify({locale:e}),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{s()})).fail((t=>{i(t)}))}))},deleteLanguagePack({rootState:t},e){return new Promise(((s,i)=>{za().ajax({url:t.api.root+"/translation/delete_locale",method:"PUT",dataType:"json",data:JSON.stringify({locale:e}),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{s()})).fail((t=>{i(t)}))}))}},Xv={general:{loadingInitial:"Setting Up",save:"Save",saveContinue:"Save and Continue",saving:"Saving",ok:"OK",cancel:"Cancel",canceled:"Canceled",abandoned:"Abandoned",abandon:"Mark as Abandoned",towp:"Back to WordPress dashboard",learnMore:"Learn more",selected:"selected"},actions:{activate:"Make active",clone:"Clone",deactivate:"Make inactive",delete:"Delete",recover:"Recover",edit:"Edit",editAsCustomer:"Edit as Customer",reschedule:"Reschedule",retry:"Retry"},time:{units:{minutes:{single:"minute",plural:"minutes"},hours:{single:"hour",plural:"hours"},days:{single:"day",plural:"days"},weeks:{single:"week",plural:"weeks"}}},errors:{heading:"Oh, for fox sake",intro:"We ran into a problem:",guidesText:"This is usually caused by a theme or plugin conflict.",guidesLinkLabel:"View our troubleshooting guide for more information.",errorDetails:"Show error details",appointmentLoading:"We were unable to load the appointments",appointmentTypeTitle:"Appointment type name is required",troubleSaving:"We were unable to save your changes",cantDeleteType:"Unable to delete appointment type",cantDeleteStaff:"Unable to delete staff",moreInfo:"More info",noAppointmentTypes:"First things first - set up your first appointment type.",noPermission:"What the fox?",noPermissionDesc:"It looks like you're not allowed to see this screen. Please check with your site administrator if you think this message is an error.",licenseNotFound:"License not found. Add your license key to enable automatic updates.",invalidLicense:"License is invalid. Add your license key to enable automatic updates.",renewLicense:" Renew your license key to enable automatic updates.",licenseRefunded:"License disabled due to refund. Purchase a new license key to enable automatic updates."},hello:{headline:"Welcome to Simply Schedule Appointments",subhead:"It looks like it's your first time here. Can we help you get set up?",accept:"Yes, help me please!",decline:"No, thanks. I got this."},wizard:{skip:"Skip this for now",next:"Next",settings:{license:{heading:"First things first. Got your license key handy?"},general:{loading:"Detecting your settings",headingFirst:"First things first, we detected these preferences. Are these correct?",heading:"Next, we detected these preferences. Are these correct?",accept:"Looks good! Let's go!",decline:"Needs some adjusting",exit:"Exit wizard and go to settings"}},appointmentType:{basics:"Basics",basicsMessage:"The basics for this type of appointment",capacity:"Capacity",capacityMessage:"How many customers can book at the same time?",stepper:{back:"Back",continue:"Continue"},heading:"Set up your first appointment type",loading:"Setting up your appointment type",availability:"Availability",availabilityMessage:"When are you available for this type of appointment?",apptSyncHeading:"Sync appointments with this calendar",apptSyncDesc:"When appointments are booked, create events on this Google Calendar",scheduling:"Scheduling Options",schedulingMessage:"Rules around how and when people can schedule this type of appointment",customerInfo:"Customer Information",customerInfoMessage:"What do you need to know about your customer?",notifications:"Notifications",notificationsMessage:"Options for sending customer and admin notifications",review:"Review",reviewMessage:"Make sure everything looks correct",googleCalendar:"Google Calendar",googleCalendarMessage:"Synchronize your appointments with your Google calendar",checkCalendars:"Check these calendars for conflicts",checkCalendarsDesc:"When booking appointments, check these calendars for times to exclude from available times",webMeetings:"Web Meetings",webMeetingsMessage:"Manage your Web Meetings settings for this appointment type",mailchimp:"MailChimp",mailchimpMessage:"Allow your customers to subscribe to a selected MailChimp list when booking an appointment",webhooks:"Webhooks",webhooksMessage:"Integrate Simply Schedule Appointments with other apps and services",booking:"Booking Info",bookingMessage:"Let your customers book this appointment type",generalBooking:"Use this shortcode in any post or page to create a general booking form where your customers can choose any appointment type",specialBooking:"Use this shortcode in any post or page to create a special booking form where your customers can book just this appointment type",payments:"Payments",paymentsMessage:"Take payments online at the time of booking",staff:"Team Members",staffMessage:"Which team members can take appointments of this type?"},googleCalendar:{wantToConnect:"Want to sync with Google Calendar?",showMeHow:"Show me how",connectSuccess:"Success! Your Google Calendar account is connected.",failedToFetch:"Unable to get your Google calendars",failedToFetchDescription:"Try disconnecting and reconnecting your Google account.",dontAdd:"Don't add newly booked appointments to my Google calendar",clientIdError:"Client ID is required for Google Calendar authorization",clientSecretError:"Client secret is required for Google Calendar authorization"},zoom:{wantToConnect:"Want to sync with Zoom?",connectSuccess:"Success! Your Zoom account is connected.",failedToFetch:"Unable to get your Zoom settings",failedToFetchDescription:"Try disconnecting and reconnecting your Zoom account.",clientIdError:"Client Id is required for Zoom authorization",apiSecretError:"Client Secret is required for Zoom authorization"},complete:{headline:"Congratulations! You're all set up.",shortcodeInstructions:"Display your booking form on any post or page with the shortcode, or use our Gutenberg block to add the booking form to a post or page.",subhead:"What would you like to do next?",booking:"Try booking an appointment",settings:"Go to settings",apptType:"Set up another appointment type"}},promo:{dismissNotice:"Dismiss this notice",proHeading:"Now available!",businessText:"Growing team? Need to book rooms or equipment? No problem, upgrade to our Business edition to take advantage of powerful scheduling features:",businessTextBullets:{team:"Team Scheduling - Great for employees, contractors, and internal meetings",resources:"Resource and Equipment booking (Coming soon)",locations:"Manage Multiple Locations",views:"Custom Booking Views",bonus:"BONUS - Free Zoom onboarding with our team"},businessTextCta:{upgrade:"Unlock Business Features",view:"View All Editions"},plusText:"Want to get even more out of your new booking system? Consider upgrading to our Plus Edition and unlock awesome features like:",plusTextBullets:{google:"Google Calendar Sync",customFields:"Custom Fields for the Booking Form",mailchimp:"Mailchimp Integration",capacity:"Multiple Bookings in the Same Time Slot",classes:"Book Classes and Group Appointments",reminders:"Reminders and Follow-up Emails"},plusTextCta:{upgrade:"Unlock Plus features",view:"View All Editions"},proTextSideBar:"Woah—looks like you're really getting the hand of this whole scheduling thing. You'd be a great fit for our Professional Edition and it’s supercharged features:",proTextPopUp:"When your entire business revolves around meetings and booking appointments - we've got you covered. You'd be a great fit for our Professional Edition and it’s supercharged features:",proTextBullets:{payments:"Accept Payments via PayPal and Stripe",reminders:"SMS Confirmations and Reminders",tracking:"Conversion and Goal Tracking",webhooks:"Webhooks allow you to sync appointment data to CRM, newsletter tools, etc.",zoom:"Live Customer Support via Zoom"},proTextCta:{upgrade:"Unlock Pro Features",view:"View All Editions"},smsUpgrade:{title:"Send SMS with Simply Schedule Appointments Pro",text:"Upgrade to Simply Schedule Appointments Pro to send SMS appointment confirmations, reminders, and follow-ups. Send automated SMS messages using the Twilio integration and say goodbye to no-shows!",cta:"Upgrade now",radioHint:"Available in Pro"},smsSetup:{title:"SMS Reminders Available Now!",text:"Get step-by-step instructions on getting set up to send SMS reminders to your customers.",viewInstructions:"View the instructions",instructionsBullets:{enable:{title:"1. Enable SMS",description:"%1$s Turn on the SMS feature %2$s by toggling the feature on"},setupTwilio:{title:"2. Set up your Twilio settings",description:"Get your  %1$s Twilio API key %2$s and credentials. %3$s Edit Twilio settings %4$s"},addPhoneNumber:{title:"3. Add an admin phone number",description:"If you want to send SMS reminders to yourself, add your phone number. %1$s Edit general settings %2$s"},phoneFields:{title:"4. Collect a phone number from your customers",description:"Edit your appointment types to add a phone number type field to the customer information section. %1$s Edit appointment types %2$s"},smsNotification:{title:"5. Set up an SMS notification",description:"Create a new notification, set the type to SMS, and configure your settings. %1$s Manage notifications %2$s"}},moreDetails:"If you need more details, please %1$s read our guide, %2$s complete with screen shots of each step. Or %3$s contact support %4$s for more assistance."},zoomUpgrade:{title:"Schedule Zoom meetings with Simply Schedule Appointments",text:"Get even more out of SSA! Upgrade to the Plus Edition to unlock Zoom appointment scheduling and other awesome features like:"},zoomAnnounce:{title:"Available now! Schedule Zoom meetings",text:"Now you can use Simply Schedule Appointments to book Zoom calls with your customers. Learn how to get set up to use this new feature.",cta:"Learn how to schedule Zoom calls"},gravityFormsUpsell:{title:"Create the Ultimate Booking Form with Gravity Forms Integration",text:"Unlock the Gravity Forms Integration in the Plus edition to create highly customized booking forms that include:",textBullets:{features:"Gravity Forms features like conditional logic, multi-page forms, and file uploads",compatibility:"Full compatibility with popular add-ons like User Registration, Webhooks, Zapier, and more",paymentOptions:"Robust payment options including varying prices, coupons, and running totals",gravityPerks:"Gravity Perks compatibility including Limit Submissions, Populate Anything, and Preview Submissions"}},paymentsUpsell:{title:"Get Paid for Your Time and Expertise",text:"Automatically take payments during booking with PayPal and Stripe integrations.",textBullets:{markAppointment:"Mark appointment types with required or optional payments",availability:"Available in 20+ currencies including USD, EUR, AUD, and many more!",authentication:"Strong Customer Authentication available for FCA compliance"}},googleCalendar:{title:"Balance All Your Schedules with Google Calendar Sync",text:"Unlock the Google Calendar Integration in the Plus edition to enjoy all of the following features:",textBullets:{checkConflicts:"Check personal events for conflicts",automaticInvites:"Automatic Google Invites",generateLinks:"Generate Google Meet Links",eventInfo:"Customize the Google event info"}},gravityFormsInfo:{title:"Gravity Forms Integration Available Now!",text1:"Prepare for Liftoff! Use the Gravity Forms integration to highly customize your booking forms with conditional logic, custom payments, coupon codes, multi-page forms, etc!",text2:"Simply Schedule Appointments is also fully compatible with popular Gravity Forms add-ons like User Registration, Webhooks, Zapier, and more!",textCta:"Learn about booking with Gravity Forms"},availablePlus:"Available in Plus",availablePro:"Available in Pro",availableBusiness:"Available in Business",capacityText:"Upgrade to allow multiple customers to book appointments for the same time slot! You'll also have the option to group bookings together for classes or treat them independently. You'll also unlock these other helpful features:",capacityTextBullets:{google:"Google Calendar Sync can invite everyone in a group to the same event",webMeeting:"Easily coordinate web meeting links with everyone in the same group"},webMeetingsText:"Upgrade to automatically set a unique web meeting URL for each appointment booking along with these other helpful features:",webMeetingsTextBullets:{google:"Google Calendar Sync including Google Meet integration",zoom:"Direct Zoom integration"}},settings:{enable:"Enable",disabledWarning:"This feature isn't enabled. Would you like to enable it now?",loadingAppointments:"Getting your appointments",appointmentsTitle:"Appointments",loadingApptTypes:"Getting your appointment types",appointmentTypesTitle:"Appointment Types",appointmentTypesDeleted:"Deleted Appointment Types",appointmentTypeAll:"All",settingsTitle:"Settings",comingSoon:"Coming Soon",beta:"Beta",upgrade:"Upgrade",openNavigation:"Open Navigation",returnToSettings:"Return to Settings",featureNotEnabled:"Feature not enabled",featureNotEnabledDescription:"This feature is not currently enabled. Please enable this feature to view the settings.",advanced_scheduling:{title:"Advanced Scheduling Options",label:"Enable Advanced Scheduling Options for Appointment Types",help:"Handle more complex scheduling with extra options.",help_link:"Learn more about these options.",editTypes:"Edit Appointment Types",booking_window_error:"The booking end date must be after the booking start date",availability_window_error:"The availability end date must be after the availability start date",saved:"Settings saved."},blackout:{title:"Blackout Dates",description:"Blackout dates are dates blocked off your calendar entirely for all appointment types. Perfect for vacation days, travel days, or other days when you're not available for appointments.",emptyLabel:"No blackout dates selected yet",emptyDesc:"Use the calendar to select blackout days",loading:"Loading team dates",selected:"Selected Dates",saved:"Updated blackout dates saved",saving:"Saving blackout dates",nextMonth:"Go to next month",previousMonth:"Go to previous month",selectYear:"Select a year",selectTarget:"Select who you are setting blackout dates for",view:{global:"Business-wide",self:"Myself"}},translations:{title:"Translations",description:"Download and install language packs from translate.wordpress.org, even if they are incomplete.",selectPack:"Select a translation pack",fetchInstall:"Download and Install",installedTranslations:"Installed translations",improveTranslation:"Improve this translation",languagePack:"Language pack",lastUpdated:"Last updated",remove:"Remove language pack",refresh:"Refresh language pack"},general:{title:"General Settings",timezone:"Timezone",timezoneWarning:"Your WordPress setting doesn't appear to match your current location.",genericTimezoneWarning:"You have an offset selected instead of a timezone. We recommend changing the setting to use a timezone appropriate for your country and region.",dateFormat:"Date Format",timeFormat:"Time Format",contact:"Appointment Contact",contact_helper:"Who are visitors booking their appointment with? (this is probably your name)",contact_error:"Appointment Contact name is required",business:"Business Name",business_error:"Business name is required",email:"Default Admin Email",email_helper:"SSA will send an email to this email when a visitor books an appointment.",email_error:"Appointment email address is required",phone:"Admin phone number",phone_error:"Please enter a valid phone number",phone_help:"Number where SMS reminders will be sent",weekStartsOn:"Week Starts On",bookAppointment:"Book an Appointment",confirmTitle:"Are you sure?",confirmContent:"Your settings won't be saved if you leave the page.",countryCode:{defaultValue:"Auto-detect",label:"Default country for telephone number fields"},editAppointmentPage:"Edit Appointment Page",fullScreenPage:"SSA Full Screen Page (Default)"},developerScreen:"Developer",developer:{title:"Developer Settings",booking_api_embed:{label:"Use the API to embed the booking form",help:"Try enabling this option if you're having issues with the booking form displaying correctly."},capacity_availability:{label:"Use the new availability algorithm",help:"Try the new scheduling calculator. May perform faster when booking."},disable_availability_caching:{label:"Disable availability caching",help:"This will slow down your site, so only disable if you are having trouble and are instructed to do so by support."},enqueue_everywhere:{label:"Enqueue scripts everywhere",help:"Load scripts on every page. Can be helpful if there are issues with loading the booking form via ajax"},beta_updates:{title:"Beta features",label:"Get the next beta (pre-release) version of SSA",help:"Warning: Beta releases can be unstable. Please only enable this if instructed by support."},beta_gcal_mode:{label:"Quick Connect to Google Calendar",help:"Connect your Google Calendar without creating your own Google Cloud Platform project. Requires an active plugin license."},beta_booking_app:{label:"Booking App V2 (Beta)",help:"Set the Booking App V2 as the default booking app."},display_appointment_revisions:{label:"Appointments Revisions",help:"Display appointments revisions in appointment details view."},separate_appointment_type_availability:{label:"Give appointment types independent availability",help:"Enable each appointment type to have its own availability. Can book appointments of different types at the same time.",help_link:"Learn more about independent availability."},pluginSettings:{title:"Plugin Settings",label:"Remove data on uninstall",help:"Check this box if you would like SSA to completely remove all of its data when the plugin is deleted.",warning:"Your data will be deleted when the plugin is uninstalled and this action cannot be undone"}},jobs:{title:"Developer Jobs",jobs:{purge_appointments:{title:"Purge Appointments",description:"If your booking app is slow, purging past and canceled appointments can help improve performance.",action:"Purge now",settings:{past_appointments:"Purge past Appointments",abandoned_appointments:"Purge abandoned Appointments"},modal:{title:"Are you sure?",text:"This process will remove appointments from the database and you won’t be able to recover them. A .csv file containing all deleted appointments will be generated at the end of this process.",close:"Close",confirm:"Confirm",loading:"Purging appointments...",success:"Appointments successfully removed from the database.",error:"Something went wrong while running this job:",download:"Download .csv file"}}}},import_export:{title:"Import / Export",tabs:{export:"Export",import:"Import"},options:{settings:{label:"Export Settings",description:"Export all SSA settings, including extensions."},appointment_types:{label:"Export All Appointment Types",description:"Export your appointment types. Requires settings export."},appointments:{label:"Export All Appointments",description:"Export all of your existing appointments. Requires settings and appointment types export."},anonymize:{label:"Anonymize appointment data",description:"Anonymize names, emails, and all other customer information for those who have booked appointments. Helpful for sharing debugging data with support."},future_appointments_only:{label:"Only export upcoming appointments",description:"Include only upcoming appointments, excluding all past appointments. Helpful for busy sites with lots of appointments."}},generate_button:"Generate Code",generate_button_loading:"Generating...",copy:"Copy to clipboard",copied:"Export code copied to your clipboard.",send_to_support:"Send to Support",send_to_support_message:"SSA export code attached",send_to_support_success:"SSA export code sent to Support",import_button:"Import",import_button_loading:"Importing...",import_headline:"Import from another SSA install",import_copy:"Paste below the code you copied on another SSA install to import your data for things like plugin settings, appointment types, and scheduled appointments.",import_invalid_json_notice:"Invalid import code. Check if you have any issues on the SSA install you're trying to import from.",import_error_status_notice:"Oops! Something went wrong while importing your data. The server responded with the following errors:",import_success_redirect:"Click here if the page is not automatically refreshed.",restore_backup:"Restore previous backup"},google_calendar:{title:"Google",connect:"Connect Google Account",disconnect:"Disconnect",disconnecting:"Disconnecting your Google Account",account:"Connected account",enterApi:"Enter your Google API information below.",goButton:"Go Now",clientId:"Client ID",authorize:"Authorize",cloudAuthorize:"Authorize with SSA Cloud",saveAuthorize:"Save and Authorize",clientSecret:"Client Secret",loadingCalendars:"Getting your calendars",calendarSync:"Calendar Sync",appointmentTypesEdit:"Edit Appointment Types",authSuccess:"Success! Your Google Calendar account is connected.",authNext:"Next, edit your appointment types to check your Google Calendar for appointment conflicts or to add newly booked appointments to your Google Calendar",webMeetingsHeadline:"Google Meet Web Meetings",webMeetingsToggleLabel:"Enable adding Google Meet links to my calendar events",deleteEventsHeadline:"Delete Canceled / Rescheduled Events",deleteEventsToggleLabel:"Delete Google Calendar events when appointments are canceled or rescheduled",refreshIntervalHeadline:"Refresh Google Calendars",refreshIntervalDesc:"How often should we check Google Calendar for new events?"},calendar_events:{card_title:"Calendar Events",title:"Customize your calendar event",description:"Personalize how your event content will look like when an event is created.",switch_label:"Customize event content",save:"Save Calendar Events Settings",success:"Calendar Events Settings saved.",sample_appointment_types:"Used on appointment types like",and:"and",and_more:"and more",tokenDetailsTitle:"Events Template Details",tokenDetails:"Events templates are created with Twig. The following tokens are available.",types:{customer:{title:"Customer Confirmation Screen Event",helper:'What your customer will see after clicking "Add to my calendar".',description:"Manually added to customer's calendar through the booking confirmation screen."},individual_admin:{title:"Admin Event",helper:"What you will see on the synced calendar.",helper_staff:"What you and your team members will see on the synced calendar.",description:"Automatically sent to the synced calendar in the Appointment Type’s Google settings tab.",description_staff:"Automatically sent to the synced calendar (and team members) in the Appointment Type’s Google settings tab."},individual_shared:{title:"Shared Event",helper:"What you and your customer will see if they are invited to the event.",description:"Google event added to the synced calendar in the Appointment Type’s Google settings tab. The event automatically invites the customer.",description_staff:"Google event added to the synced calendar in the Appointment Type’s Google settings tab. The event automatically invites the customer and team members assigned to the booking (if any)."},group_shared:{title:"Shared Group Event",helper:"What you and all attendees will see on the calendar.",description:"Google Invite sent to the synced calendar in the Appointment Type’s Google settings tab, the Team members assigned to the booking (if any), and all of the customers in the group booking."},group_admin:{title:"Admin Group Event",helper:"What you will see on the calendar for group events.",helper_staff:"What you and your team members will see on the calendar for group events.",description:"Sent to the synced calendar selected in the Appointment Type’s Google settings tab and can be updated every time a customer books the Group appointment.",description_staff:"Sent to the synced calendar selected (and team members) in the Appointment Type’s Google settings tab and can be updated every time a customer books the Group appointment."}},errors:{required:"This field is required."}},license:{manage:"Manage License",key:"License Key",remove:"Remove",validate:"Validate",validating:"Validating...",addLicense:"Add your license key",renewLicense:"Renew Your License Key",purchaseLicense:"Purchase New License Key",needHelp:"Need help?",collectLicense:"%1$s Login %2$s to your account to collect your license key",contactSupport:"Or, %1$s contact %2$s our support team and we can help you find your license key."},mailchimp:{title:"MailChimp",api_key:"API Key",apiKeyError:"Please enter a valid API key",api_key_helper_label:"Where do I find this?",saveAuthorize:"Save and authorize",lists:"MailChimp Lists",loadingLists:"Getting your lists",deauthorize:"Disconnecting your account"},payments:{title:"Payments",returnToPayments:"Return to Payments",basics:"Basic Settings",basicsMessage:"The required settings for this payment gateway",advanced:"Advanced Settings",advancedMessage:"Optional settings to fine-tune the way this payment gateway works",displayTitle:"Display title",displayTitleHelp:"This controls the title which your customer sees during checkout.",displayTitleError:"The display title is required",description:"Description",descriptionHelp:"This controls the description which your customer sees during checkout.",statementDescriptor:"Statement Descriptor",statementDescriptorError:"11 characters maximum. Alphanumeric, at least one letter, and no < > \\ ' or \"",statementDescriptorHelp:"This gets displayed on your customer's credit card statement (after first 10 characters of your company name)",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this payment gateway will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",defaultCurrency:"Default currency",paypal:{email:"PayPal email address",emailHelp:"Please enter your PayPal email address; this is needed in order to take payment.",emailError:"A valid email address is required.",enableSandbox:"Enable PayPal sandbox",sandboxHelp1:"PayPal sandbox can be used to test payments.",sandboxHelp2:"Sign up for a developer account.",identityToken:"PayPal identity token",identityTokenHelp:"Optionally enable Payment Data Transfer (Profile > Profile and Settings > My Selling Tools > Website Preferences) and then copy your identity token here. This will allow payments to be verified without the need for PayPal IPN.",noConnection:"PayPal is not connected to your PayPal account",sandboxMode:"PayPal is in sandbox mode.",ipn_url:"IPN Notification URL",ipnCopied:"Your PayPal IPN Notification URL has been copied to your clipboard",ipnHelpPrefix:"You must add this URL to your PayPal settings.",ipnHelp:"Get instructions.",sslWarning:"A valid SSL certificate is required to use PayPal payments"},stripe:{validation_errors:{publishable_key:{regexValidator:"Please enter a valid publishable key",required:"A publishable key is required"},secret_key:{regexValidator:"Please enter a valid secret key",required:"A secret key is required"},webhook_secret:{regexValidator:"Please enter a valid webhook secret"},test_publishable_key:{regexValidator:"Please enter a valid publishable test key",required:"The test publishable key is required for test mode"},test_secret_key:{regexValidator:"Please enter a valid secret test key",required:"The test secret key is required for test mode"},test_webhook_secret:{regexValidator:"Please enter a valid test webhook secret"}},publishableKey:"Publishable key",publishableKeyHelp:"Get your API keys from your Stripe account.",secretKey:"Secret key",secretKeyHelp:"Get your API keys from your Stripe account.",webhook:"Stripe Webhook URL",webhookHelpPrefix:"You must add this URL to",webhookHelpTarget:"your Stripe account Webhook settings",webhookCopied:"The webhook has been copied to your clipboard",webhookSecret:"Webhook Signing Secret",webhookSecretHelpPrefix:"Get your signing secret from",testMode:"Enable test mode",testModeHelp:"Place the payment gateway in test mode using test API keys.",testPublishableKey:"Test publishable key",testPublishableKeyHelp:"Get your API keys from your Stripe account.",testSecretKey:"Test secret key",testSecretKeyHelp:"Get your API keys from your Stripe account.",testWebhookSecret:"Test Webhook Signing Secret",noConnection:"Stripe is not connected to your Stripe account",testModeWarning:"Stripe is in test mode."}},notifications:{title:"Notifications",intro:"These notifications are sent for this appointment type:",empty:"There are no notifications.",empty_appointment_type:"There are no notifications sent for this appointment type",returnToNotifications:"Return to notifications",customer_phone:"Customer phone number",team_member_phone:"Team member phone number",actions:{addNew:"Add a new notification",edit:"Edit notification",editAll:"Edit notifications"},fields:{title:"Name",type:"Type",email:"Email",sms:"SMS",sentTo:"Send to",smsTo:"Send to",cc:"Cc",bcc:"Bcc",trigger:"Trigger",triggerLegend:"When to send this notification",when:"When",subject:"Subject",message:"Message"},filter:{filter:"Filter",legend:"Notification Filters",empty_label:"No matching notifications",empty_desc:"No notifications match your filter selections. Adjust the filters or reset them.",fields:{type:"Notification Type",appointment_type:"Appointment Type"},reset:"Reset Filters",selected:"selected"},messages:{sentToError:"Please enter a valid email address",smsToError:"Please select at least one recipient",triggerError:"You must select a trigger for a notification",appointmentTypesError:"Please select at least one appointment type",subjectError:"Subject is required",messageError:"Message is required",noAdminPhone:"No admin phone number is set",noCustomerEmail:"No appointment types have phone number fields"},tokenDetailsTitle:"Notification Template Details",tokenDetails:"Notification templates are created with Twig. The following tokens are available.",tokens:{admin_email:"The appointment admin email",instructions:"The optional customer instructions associated with the selected appointment type.","Appointment.AppointmentType.title":"The title of the selected appointment type","Appointment.web_meeting_url":"The URL of the virtual meeting for the appointment","Appointment.web_meeting_password":"The password required to access the virtual meeting","Appointment.customer_information_summary":"Summary of the customer information fields for the appointment type","Appointment.customer_information.Name":"The customer's name","Appointment.date_timezone":"The admin timezone set in general settings","Appointment.customer_timezone":"The timezone to display for the customer","Appointment.public_edit_url":"The link to edit, cancel, or reschedule the appointment","Appointment.start_date":"The start date and time of the appointment",location:"The appointment location",customer_name:"The customer's name",customer_email:"The customer's email address.",attendees_list:"The list of all attendee's names for the appointment.","Global.home_url":"The URL of the site where Simply Schedule Appointments is installed","Global.company_name":"The name of the site where Simply Schedule Appointments is installed","Global.timezone_string":"The timezone selected in the Simply Schedule Appointments settings.",booking_url:"The page URL where the appointment booking happened.",booking_title:"The page title where the appointment booking happened.",booking_post_id:"The page ID where the appointment booking happened.",refund_policy:"The refund policy of the selected appointment type","add_to_calendar_link.ics":"The link to add the appointment to your calendar via an .ics file.","add_to_calendar_link.gcal":"The link to add the appointment to your Google Calendar.",cancelation_note:"An optional note added when canceling the appointment",canceled_by_name:"The name of the user who canceled the appointment",rescheduling_note:"An optional note added when rescheduling the appointment",rescheduled_by_name:"The name of the user who rescheduled the appointment"},triggers:{appointment_booked:"Appointment Booked",appointment_customer_information_edited:"Appointment Edited",appointment_canceled:"Appointment Canceled",appointment_rescheduled:"Appointment Rescheduled",appointment_start_date:"Time of Appointment"},warnings:{cronWarning:"This notification might be delayed or not sent as expected.",cronLinkText:"More details"},when:{after:"After",before:"Before"},confirmDelete:"Delete this notification?",confirmDeleteCancel:"Keep",confirmDeleteOk:"Delete",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this notification will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",ccSent:"Cc/Bcc",preview:{title:"Live Preview",description:"This is a live preview of how your message will look when it's sent out.",gettingAppointments:"Getting appointments...",selectAppointment:"Select an appointment",selectAppointmentType:"Select an appointment type",formattingPreview:"Formatting your preview..."}},sms:{title:"SMS",basics:"Basic settings",basicsMessage:"The required settings for Twilio",twilioAccountSid:"Twilio Account SID",twilioAccountSidError:"A Twilio Account SID is required",twilioAccountSidHelp:"Get your Twilio Account SID from your Twilio account",twilioAuthToken:"Twilio Auth Token",twilioAuthTokenError:"A Twilio Auth Token is required",twilioAuthTokenHelp:"Get your Twilio Auth Token from your Twilio account",twilioSendFromPhone:"Sending Phone Number (from Twilio)",twilioSendFromPhoneError:"You need a Twilio phone number to send SMS messages",twilioSendFromPhoneHelp:"Get a Twilio phone number",advanced:"Advanced settings",advancedMessage:"Optional advanced settings for Twilio",testMode:"Test mode",testModeHelp:"Place Twilio in test mode to use test account SID and test auth token",testModeWarning:"Twilio is in test mode.",twilioTestAccountSid:"Twilio Test Account SID",twilioTestAccountSidError:"The test account SID is required for test mode",twilioTestAccountSidHelp:"Get your Twilio Test Account SID from your Twilio account",twilioTestAuthToken:"Twilio Test Auth Token",twilioTestAuthTokenError:"The test account auth token is required for test mode",twilioTestAuthTokenHelp:"Get your Twilio Test Account Auth Token from your Twilio account",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to the SMS settings will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",noConnection:"Twilio is enabled, but your account is not connected.",onlyPhoneFields:"Only appointment types with at least one phone number field are displayed.",noPhoneFields:"None of your appointment types have phone number fields",noPhoneFieldsTitle:"No phone numbers",noPhoneFieldsContent:"None of your appointments types is collecting a phone number from your customers. There is no way to send an SMS notification.",sendTest:"Send a test message",sendTestMessage:"Test your Twilio API settings and ensure messages are delivered",sendTestTo:"Send to",sendTestToError:"Please enter a valid phone number",sendTestToHelp:"The phone number to send a test message to",sendTestSuccess:"Test message sent!",sendTestFailure:"Unable to send test message. Please check your settings."},staff:{title:"Team",action:"Manage team",actions:{addNew:"Add new team member",create:"Create team member",saved:"Changes saved",manageTeamMembers:"Manage team members"},appointment:{with:"with"},appointmentType:{staffEnableHeading:"Does this appointment type require a team member?",staffEnableDesc:"Should each customer booking this appointment type be matched with a team member?",allLabel:"All:",allDesc:"All of the selected team members are needed for an appointment",anyLabel:"Any:",anyDesc:"Match each customer with any one of the selected team members",noneLabel:"None:",noneDesc:"No team members are needed for this appointment type",teamLabel:"Team members who accept appointments of this type",staffWarning:"No team members are set to take appointments of this type. Please either set required to 'None' or select at least one team member",noWebMeetingUrl:"No web meeting URL"},search:{closeSearch:"Close and clear search field",clearSearch:"Clear search text",searchLabel:"Search team members"},confirmDelete:"Delete this team member?",confirmDeleteOk:"Delete",confirmDeleteCancel:"Keep",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this team member will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",confirmImcompleteContent:"Please enter the required fields and save if you'd like to keep this team member. Otherwise, you can delete this team member.",confirmIncompleteCancel:"Keep editing",connectedUser:"WordPress User",creatUser:"Can this user login and manage their own appointments?",connectedUserEdit:"Edit User Profile",editExisting:{publish:{title:"This team member already exists","content-html":"Would you like to edit their profile?","ok-text":"Edit team member","cancel-text":"No thanks"},delete:{title:"This team member already exists","content-html":"This team member has been deleted. Would you like to restore their profile?","ok-text":"Restore team member","cancel-text":"No thanks"},draft:{title:"This team member already exists","content-html":"This team member is marked inactive. Would you like to reactivate their profile?","ok-text":"Activate team member","cancel-text":"No thanks"}},editProfile:{contact:"Contact",permissions:"Permissions",availability:"Availability",web_meetings:"Web Meetings"},emailTaken:{title:"Email address not available","content-html":"This email address is already assigned to another team member"},emptyEditTitle:"Editing team member",emptyLabel:"No team members added yet",emptyInactiveLabel:"No inactive team members",emptyDescription:"Looks like you're on your own so far. Click the button to add a new team member.",emptyInactiveDescription:"Looks like there aren't any inactive team members",fields:{name:{label:"Name",error:"Name is required"},display_name:{label:"Display name",error:"Display name is required",help:"Name that will be displayed to customers booking appointments"},email:{label:"Email",error:"Valid email address is required",errorTaken:"This email address is already assigned to another team member or a WordPress user",help:"Enter an email address to get started"},phone:{label:"Phone"},blackout:{label:"Can this team member manage their own blackout dates?",message:"This team member has blacked out dates.",editText:"View and edit blackout dates"},gcalendar:{label:"Can this team member connect their own Google account?",message:"This person has connected their Google account."},appointment_types:{error:"This team member isn't connected to any appointment types and cannot take appointments",error_staff:"You aren't connected to any appointment types and cannot take appointments. Please contact site admin.",all:"All appointment types"},manages_working_hours:{label:"Can this team member manage their own working hours?"},working_hours:{label:"Working Hours",timezone_label:"Working hours are in timezone:",current_time_label:"Current time is:"},custom_working_hours:{legend:"Use custom working hours?",labelOff:"Use default working hours",labelOn:"Set custom working hours",helpOn:"Select custom working hours. Team will be available for appointments where team schedule overlaps with appointment type schedule",helpOff:"Use schedule set for each appointment type"}},google:{actions:{connect:"Connect Google account"},admin:{staff_connected:"This team member has connected their Google account.",staff_no_calendars:"This team member has NOT selected any calendars to check for conflicts.",staff_calendars:"This team member is checking calendars for conflicts:",staff_not_connected:"This team member has not connected their Google account.",calendars_connected:"Calendars Connected:"},check_settings:"There was a problem fetching your calendars. Please contact the site admin."},linkUser:{title:"Link to WordPress user?",htmlIntro:"This email address belongs to a WordPress user account:",htmlExplanation:"Do you want to connect this team member to this WordPress user? If connected, the team member will be able to log in and manage their own profile and appointments.",okText:"Connect to user",cancelText:"Cancel email address change"},loading:"Loading team",not_connected:{title:"Team member is not a WordPress user",desc:"Since this team member cannot log into WordPress, they can't be assigned permissions to edit or manage their own profile. You can add a user to WordPress with this email address to connect this team member to a WordPress user:",addNew:"Add new WordPress user"},notices:{noAppointmentTypes:"You don't have any appointment types set up yet.",noStaffAppointmentTypes:"None of your appointment types are set up to match customers to team members. Be sure to edit your appointment types to enable team.",someStaffAppointmentTypes:"Only appointment types that have team enabled are shown"},profile:"My profile",selectStaff:"Select staff to display",status:{inactive:"Team - inactive"},webMeetings:{headline:"Web Meetings",web_meetings_url:"Enter a custom URL for a web meeting, for example, your Zoom Personal Meeting URL."}},styles:{title:"Styles",accentColor:"Accent color",backgroundColor:"Background color",contrast:"Contrast mode",contrastHelper:"Only enable this mode if your website has a dark background color (all black with white text, for example)",font:"Font family",padding:"Padding",reset:"Reset to default",confirmTitle:"Are you sure?",confirmContent:"Your settings will be lost and all styles will be reset to the default values.",requiredPadding:"Padding is required. Enter 0 for no padding.",cssUnits:"You may use any valid CSS measurement unit: %, em, px, vw, rem, etc.",googleFonts:"View the Google Fonts library",customCSS:"Custom CSS",cssComment:"Enter your custom CSS here"},tracking:{eventTracking:"Track custom events",pageTracking:"Track page views",reset:"Reset",title:"Tracking",instructions:"Check the boxes below to enable tracking of page views and/or events. For more information on how tracking works and what gets tracked see our documentation:",docLinkText:"Conversion Tracking"},webhooks:{title:"Webhooks",actions:{addNew:"Add a new webhook",edit:"Edit webhook"},intro:"The following webhooks are triggered for this appointment type:",empty:"There are no webhooks.",empty_appointment_type:"There are no webhooks triggered by this appointment type",fields:{title:"Name",token:"Token",token_help:"This token will be sent in the outgoing payload to help you verify the request came from Simply Schedule Appointments",token_error:"Token is required. Hit the refresh button to generate a random token.",token_copied:"Token copied to clipboard",triggers:"Select the triggers for this webhook:",trigger_single:"Trigger:",trigger_plural:"Triggers:",triggerNames:{appointment_booked:"Appointment Booked",appointment_edited:"Appointment Edited",appointment_canceled:"Appointment Canceled"},urls:"URLs",url_exists:"That URL has already been added for this webhook",url_invalid:"Please enter a valid URL"},errors:{requiredTriggers:"You must select at least one trigger for this webhook",requiredUrls:"You must enter at least one URL for this webhook",requiredAppointmentTypes:"You must select at least one appointment type"},details:{deliveryHeaders:"Delivery headers",deliveryDetails:"HTTP POST payloads that are delivered to your webhook's configured URL endpoint will contain several special headers:",deliveryDetailHeader:"Header",deliveryDetailDescription:"Description",deliveryDetailsAdditional:"",deliveryExample:"Example delivery"},confirmDelete:"Delete this webhook?",confirmDeleteCancel:"Keep",confirmDeleteOk:"Delete",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this webhook will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing"},webex:{title:"Webex",account:"Connected account",disconnect:"Disconnect",notConnected:"Your Webex account isn't connected yet.",saveAuthorize:"Authorize Webex",failedToFetch:"Unable to get your Webex settings",failedToFetchDescription:"Try disconnecting and reconnecting your Webex account.",verifying:"Verifying your Webex user"},zoom:{title:"Zoom",account:"Connected account",disconnect:"Disconnect",clientId:"Client ID",saveAuthorize:"Authorize Zoom",clientSecret:"Client Secret",authRedirect:"Zoom oAuth Redirect URL (click to copy)",redirectCopied:"Zoom oAuth Redirect URL copied to clipboard",userEmail:"User Email",userMeetingUrl:"Personal Meeting Url",notConnected:"Your Zoom account isn't connected yet."}},appointmentTypes:{title:"Name",titleError:"Appointment types must have names",empty:"There are no appointment types.",shortcodeCopied:"Shortcode copied to clipboard",bulkEditExplanation:"Changes will be applied to the following appointment types: ",duration:"Duration",durationType:"Duration Units",negativeDuration:"Duration should not be negative.",label:"Label",slug:"Slug",current:"(current)",slugError:"Slug is required for appointment types",bookingLayout:"Booking view",bookingLayouts:{week:"Weekly",month:"Monthly"},labels:{popupDescription:"Open label settings to select, create, delete or edit your labels",confirmDeleteAriaLabel:"Confirm delete dialog",confirmDeleteTitle:"Are you sure you want to delete this label?",confirmDeleteWarning:"Deleting this label will change the label of the following appointment type(s) to the default label",keepLabel:"Keep label",confirmDelete:"Confirm delete",selectLabel:"Select label",createLabel:"Create label",updateLabel:"Update label",editLabel:"Edit label",deleteLabel:"Delete label",addLabel:"Add new label",labelName:"Label name",chooseColor:"Choose a color",defaultLabelDisabled:"Default label cannot be deleted",invalidCharacterError:"Name must not include:",duplicateNameError:"Label name must be unique"},capacity:{fields:{capacity:{label:"Capacity",label_staff:"Total capacity",help:"How many people can book at the same time?",help_staff:"Limit for the total number of appointments allowed at the same time",help_group:"How many people can attend a group event?",error_bounds:"Capacity must be at least 1 and no more than 100,000",error_mismatch:"Total capacity must be equal to or greater than capacity"},capacity_type:{label:"Group event or individual?",help:"Should multiple bookings at the same time be treated as a single group appointment or separate individual appointments?",help_staff:"Individual means 1 booking per team member per time. Group means multiple bookings per team member."},has_max_capacity:{label:"Is there an overall limit for this appointment type?",help:"For example, no more than 10 customers allowed in the business at a time"},staff_capacity:{label:"Capacity",help:"How many people per team member can attend a group event?"}},capacityTypeOptions:{individual:"Individual",group:"Group"}},instructions:"Instructions",instructions_description:"Optional brief instructions to your customer to explain appointment logistics",instructions_placeholder:'e.g. "I\'ll call you" or "We\'ll meet at your office"',availabilityType:"How would you like to define your availability for this appointment type?",availabilityStartTimes:"Specific start times",availabilityStartTimesHelp:"Define specific appointment start times that your customers can select when booking",availabilityBlocks:"Available blocks",availabilityBlocksHelp:"Define blocks of availability and your customers can select any available time inside those blocks",availabilityToggle:"Toggle all",availabilityIncrement:"Show appointment start times every:",timezoneStyle:"Appointment timezone",timezoneStyleHelp:"Is this appointment type associated with a specific timezone?",timezoneStyleLocalized:"Localized",timezoneStyleLocked:"Locked",timezoneStyleLocalizedHelp:"Your customers will see available appointment times in their own timezone. Recommended for phone calls and online meetings.",timezoneStyleLockedHelp:"Your customers will see available appointment times in a your timezone. Recommended for in-person meetings.",timezoneStyleYourTimezone:"Your timezone is:",buffer:"Appointment buffer",buffer_help:"The amount of time that should be left free before and after an appointment.",buffer_before:"How much time should be left free before an appointment of this type?",buffer_after:"How much time should be left free after an appointment of this type?",limitmax:"Limit the number of appointments of this type that can be booked in a day?",max_event_count:"Max number of appointments of this type to book per day",notice:"Notice required",notice_help:"How much notice you need when someone books an appointment",min_booking_notice:"Notice",min_booking_notice_help:"Minimum notice required when booking",advance:"Advance",advance_help:"How far into the future customers should be able to book this type of appointment",max_booking_notice:"Advance",max_booking_notice_help:"How far in advance customers can book an appointment",max_booking_notice_error:"Advance required must be 1 minute or more",min_max_error:"The Notice Required must be less than the Advance setting",booking_window:"Booking window",booking_window_help:"Define a specific date range for when customers will have access to book this type of appointment",booking_start_date:"Start",booking_end_date:"End",availability_window:"Availability window",availability_window_help:"Define a specific date range for when appointments are available to be booked",availability_start_date:"Start",availability_end_date:"End",max:"Per day limit",max_help:"Limit how many appointments of this type can be booked per day",display:"Display",required:"Require",confirmDelete:"Delete this appointment type?",confirmDeleteAppointments:"The following appointments of this type are booked:",confirmDeleteOk:"Delete",confirmDeleteCancel:"Keep",appointmentSync:"Add new appointments to this calendar",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",saved:"saved",actions:{addNew:"Add New",create:"Create a new appointment type",edit:"Edit",bulkEdit:"Bulk Edit",clone:"Clone",delete:"Delete","add-field":"Add Field",cancel:"Cancel",update:"Update",save:"Save",editSingle:"Edit selected appointment types individually",back:"Back to Appointment Types",reorder:"Reorder",saveOrder:"Save order",labels:"Labels",clearLabelFilter:"Clear filter"},customer_information:{Name:"Name",Email:"Email",Phone:"Phone",Address:"Address",City:"City",State:"State",Zip:"Zip Code",Notes:"Notes"},custom_fields:{types:{"single-text":"Single Line Text","multi-text":"Multi Line Text",checkboxes:"Checkboxes",radios:"Radios",phone:"Phone number"},labels:{label:"Label",required:"Required",type:"Type",icon:"Icon",values:"Values","one-per-line":"One value-per-line",instructions:"Instructions"},actions:{menu:"Open menu for this field"},errors:{label:"Label is already taken"}},mailchimp:{optin:"Subscribe to newsletter",optinTextLabel:"Text to display next to opt in checkbox",optinTextError:"Opt in text is required",listSelect:"Customers will have the option to subscribe to which MailChimp list?",noLists:"There are no lists associated with your MailChimp account.",noSelection:"None",noConnection:"Mailchimp account hasn't been connected",setup:"Connect Mailchimp"},google_calendar:{noAccessToken:"Google Calendar account hasn't been connected",setup:"Connect Google Calendar",checkSettings:"Check Settings",checkSettingsMessage:"There was a problem fetching your calendars. Please check your settings",sharedCalendarEvent:"Invite the customer to the event?",sharedCalendarEventDesc:"When creating the Google Calendar event, add the customer as an invitee"},web_meetings:{providers:{google:{name:"Google Meet",label:"Google Meet - Generate a unique meeting URL",googleNoCalendarHeading:"No Google Calendar selected",noCalendarSelectedMessage:'To generate a Google Meet URL, you must select a Google Calendar for the "Sync appointments with this calendar" setting in the Google Calendar settings for this appointment type',googleEditSettings:"Edit Google Calendar Settings"},webex:{name:"Webex",label:"Webex - generate a unique meeting URL",legend:"Webex Meeting Options",options:{private:"Private Meeting: Host required to admit each meeting attendee",open:"Open Meeting: anyone with the link can immediately join"}},zoom:{name:"Zoom",label:"Zoom - generate a unique meeting URL",legend:"Zoom Meeting Options",options:{private:"Private Meeting: Host required to admit each meeting attendee",open:"Open Meeting: anyone with the link can immediately join"}},custom:{name:"Custom",label:"Custom - Enter a custom meeting URL",urlLabel:"Custom web meeting link",error:"Please enter a valid URL that is 256 characters or less",legend:"Enter a custom URL for a web meeting, for example, your Zoom Personal Meeting URL",settingsHeading:"Custom URL Settings"},staff:{name:"Staff",label:"Use Team Member's web meeting URL",warning:"Not all team members assigned to this appointment type have a web meeting URL",urlLabel:"Team member web meeting link",error:"Please enter a valid URL that is 256 characters or less",legend:"If a team member doesn't have a web meeting URL, use this URL for any scheduled appointments",settingsHeading:"Default URL"},none:{name:"None",label:"Do not create a meeting URL"}}},payments:{price:"Price",priceError:"Price must be greater than: ",priceUSDError:"Price must be greater than 0.50",displayPrice:"Display price",currency:"Currency",currencyError:"You must specify a currency to take payments",noGateways:"You don't have any payment gateways set up.",setup:"Set up payments",paymentMethods:"Payment Methods",paymentMethodsError:"You must specify at least one method to accept payments",requiredPayment:"Is payment required to book an appointment?",required:"Required: Customer must submit a valid payment to reserve an appointment time",optional:"Optional: Customer may reserve an appointment time without payment but has the option to pay",none:"No payment required",refundPolicy:"Refund policy",refundPolicyHelp:"This will be shown to your customers when booking and included in their confirmation email message"},notifications:{admin:"Send Admin Notification Email to",customer:"Send Customer Notification Email"},scheduling:{before:"Before",after:"After"},zoom:{noAuthCode:"Zoom account hasn't been connected",setup:"Connect Zoom"},webex:{noAuthCode:"Webex account hasn't been connected",setup:"Connect Webex"}},appointments:{appointment:"Appointment",appointmentHistory:"Appointment History",cancel:"Cancel this appointment",abandon:"Mark as abandoned",book:"Mark as booked",past:"Past Appointments",rescheduled:"Rescheduled",upcoming:"Upcoming Appointments",dateRange:"Date Range",viewOriginal:"Original date/time",viewRescheduled:"New date/time",loadMore:"Load more appointments",allLoaded:"All appointments loaded",pendingPayment:"Pending Appointments",pendingPaymentDescription:"Pending appointments are appointments that a customer started booking, but did not complete the booking process to confirm the appointment. Usually that means payment was required for the appointment, but was never completed.",emptyPast:"There are no past appointments",emptyAll:"There are no appointments that match",emptyUpcoming:"There are no upcoming appointments scheduled.",pastEmpty:"No appointments have passed yet.",cancelConfirm:"Cancel this appointment?",cancelConfirmOk:"Cancel appointment",cancelConfirmCancel:"Keep appointment",cancelationNote:"Cancelation note",visibleToCustomers:"This note will be visible to your customers.",markAsAbandonConfirm:"Abandon this appointment?",markAsAbandonconfirmOK:"Abandon appointment",markAsBookedConfirm:"Mark this appointment as booked?",markAsBookedConfirmOK:"Book appointment",bypassPaymentWarning:"This booking is still waiting on payment confirmation. If the payment fails after manually overriding the pending status, you're responsible for canceling this scheduled time or following up with the user to collect payment.",learnMorePending:" Learn more about appointment status.",deleteConfirm:"Delete this appointment?",cancelDeleteCancel:"Keep appointment",cancelDeleteOk:"Delete appointment",cancelRescheduleLink:"Reschedule / Cancel Link",cancelRescheduleLinkOpen:"Open Reschedule / Cancel Link",deleteConfirmExplanation:"This cannot be undone. All information associated with this appointment will be permanently removed",deleteConfirmExplanationCancelable:"Your customer will not receive any notification that the appointment was deleted. If you would like your customer to receive a notification of a canceled appointment, please cancel the appointment before deleting it.",deletedType:"Deleted appointment type",deletingSingle:"Deleting appointment",loadingSingle:"Getting your appointment details",viewDetails:"View appointment details",appointmentDetails:"Appointment Details",viewAll:"View all appointments",status:"Status",sms:"SMS reminders",created:"Created",author:"Booked by",customer:"Customer",lastMod:"Last modified",errorNotFound:"Appointment not found",errorNotFoundDescription:"We weren't able to find that appointment on the books.",errorLoading:"Unable to get appointment",errorLoadingDescription:"We weren't able to get that appointment. Try refreshing the page.",metaLoading:"Checking appointment information",metaFields:{formidable_entry_admin_url:"Formidable Form",gravity_entry_admin_url:"Gravity Form",viewEntry:"View entry",booking_url:"Booking page URL",booking_title:"Booking page title",booking_post_id:"Booking page ID"},paymentLoading:"Checking for payments",paymentReceived:"Payment received",paymentInformation:"Payment Information",apptReserved:"This time slot is reserved while the payment is pending",noAvailableInformation:"Information not available until form is submitted",waiting:"Waiting for response from",abandonedIn:"This will be marked abandoned",abandonedOn:"This appointment has been abandoned on",payments:{statuses:{pending:"Pending",succeeded:"Succeeded",failed:"Failed"},modes:{test:"Test Mode"},expires:"Exp."},loadingHistory:"Loading appointment history",statuses:{booked:"Booked",pending_form:"Pending Form Submission",pending_payment:"Pending Payment",canceled:"Canceled",abandoned:"Abandoned"},actions:{booked:"Booked",pending_form:"Pending Form Submission",pending_payment:"Pending Payment",canceled:"Canceled",abandoned:"Abandoned",rescheduled:"Rescheduled",edited:"Edited",sync_appointment_to_calendar:"Synced"},smsStatuses:{optedin:"Opted in",optedout:"Opted out"},filter:{search:"Search",filter:"Filter",filterClose:"Close filters",export:"Export",exportTip:"Export visible appointments",subscribe:"Subscribe to calendar",timeLabel:"Display upcoming or past appointments",typesAndLabels:"Appointment Types & Labels",selectAllTypes:"Select all appointment types with label",parentsLabel:"All types",startDate:"Start Date",endDate:"End Date",selected:"selected",staffLabel:"Team member",statusLabel:"Appointment Status",reset:"Reset filters",title:"Appointment Filters",modal:{title:"Your Calendar Subscription URL",instructions:"Paste this link in any iCalendar compatible application to sync your appointments.",urlCopied:"ICS link copied to clipboard"}},group:{people:"people",appointmentDetails:"Group Appointment Details",viewDetails:"View attendee details",cancelConfirm:"Cancel this group appointment?",cancelConfirmBody:"The following attendees for this group will be canceled:",cancelConfirmCancel:"Keep All",cancelConfirmOk:"Cancel All",deleteConfirm:"Delete this group appointment",cancelDeleteCancel:"Keep All",cancelDeleteOk:"Delete All",deleteConfirmExplanation:"This cannot be undone. All information associated with this group appointment will be permanently removed.",deleteConfirmExplanationCancelable:"The appointment attendees will not receive any notification that the appointment was deleted. If you would like the attendees to receive a notification of a canceled appointment, please cancel the group appointment before deleting it.",deleteConfirmBody:"The following attendees for this group will be deleted:",deleting:"Deleting group appointment"},tooManyToDisplay:{headline:"Lots of appointments!",explanation:"Looks like you've got a lot of appointments in this date range! You can use the Export button to export them all to a CSV file. Or you can click the button below to display them all here. Note that displaying so many appointments take a few minutes.",action:"Show All"},webMeetings:{label:"Web Meeting:"}},help:{timezone:"The timezone where you are located.",dateFormat:"The format you want to use for displaying the dates of your appointments and availability.",timeFormat:"The format you want to use for displaying the times of your appointments and availability",weekStartsOn:"The day that should be considered the first day of the week.",apptEmail:"The email address where admin notifications about appointments will be sent.",apptContact:"The name, business, and email address for the main person administering appointments"},support:{availabilityDetective:{intro:"Not sure why your availability for different appointment types isn't what you expected? We'll help you figure out what's going on.",title:"Availability Detective (beta)",appointmentType:{label:"Which appointment type?"},getMore:"Get more information",summary:"About this appointment type",noAvailability:{noSlots:{label:"No availability",description:"This appointment type has no availability on this day of the week",action:"Edit Appointment Type"},tooShortSlots:{label:"Not available for duration",description:"The duration of the appointment type is longer than any available times for booking on this day of the week.",action:"Edit Appointment Type"}},info:{buffer_before:{title:"Buffer before",desc:"Time to leave free before an appointment"},buffer_after:{title:"Buffer after",desc:"Time to leave free after an appointment"},booking_window:{title:"Booking Window",desc:"When the booking form is available for booking appointments",no_value:"Open",outsideBookingWindowWarning:"You are currently outside the booking window."},availability_window:{title:"Availability Window",desc:"When appointments can be booked",no_value:"Open"},min_booking_notice:{title:"Minimum booking notice",desc:"How much notice is required when booking an appointment",explanation:"No appointments can be booked before:"},max_booking_notice:{title:"Advance notice",desc:"How far into the future appointments can be booked",explanation:"No appointments can be booked after:"},date:{title:"What date should be available?"},time:{title:"What time should be available?"}},status:{checking:"Checking availability",available:"Available",not_available:"Not available"}},appointmentStartDate:"Appointment start date",dotorg_communication:"WordPress.org communication",https_status:"HTTPS status",json_extension:"JSON extension",loadingSupport:"Loading your support details",moreDetails:"More Details",os:"Operating system",php_version:"PHP version",php_timezone:"PHP default timezone",ssa_license:"License Status",scheduled_events:"Scheduled events",screenResolution:"Screen resolution",siteUrl:"Site URL",sql_server:"SQL server",ssl_support:"SSL support",supportDetails:"These details can help our support team troubleshoot any issues you might be having.",supportTitle:"Support",utf8mb4_support:"Utf8mb4 support",webBrowser:"Web browser",webBrowserSize:"Web browser size",wordpress_version:"WordPress version",plugin_version:"Simply Schedule Appointments version",homeUrl:"Home URL",unknown:"Unknown",contact:"Contact Support Team",sendMessage:"Send Message",message:"Message to the support team",fromEmail:"Your email address",invalidEmail:"Invalid email",disclosure:"Messages sent to the support team through this form will include the debugging information visible on this page.",disclosureTime:"Messages sent to the support team through this form will include debugging information about this appointment type and general settings",includeSettings:"Include information about settings and appointment types",includeDescription:"Checking this box sends us extra helpful information about your settings and appointment types. It *does not* include any private information or any information about your customers or your appointments.",includePlugins:"Include list of active plugins",sendingMessage:"Sending your message",successTitle:"Success!",exportCopied:"Export code copied to your clipboard.",successMessage:"Your message was sent!",hearBack:"You should hear back from us by:",checkSpam:"Please check your spam folder if you haven't heard from us by then.",successMessageDetails:"Our support hours are 9am-5pm Monday through Friday (Pacific time)",messageFailedDescription:"Something stopped us from being able to send your message, but never fear. You can simply email us at support@ssaplugin.com for assistance. Include the debugging information on this page to help us help you as quickly as possible.",messageFailedDetails:"Error details:",showDebugging:"Show debugging info",debugger:"Debugger",debugLogs:"Debug Logs",loadDebugLog:"Load debug log",debugLogsWP:"WordPress Debug Logs",enableDebugLog:"Enable Debug Log",enableDebugLogWP:"Enable WordPress Debug Log",debugLogOptions:"Debug Log Options",debugLogRefresh:"Refresh Debug Log",debugLogDownload:"Download Log File",debugLogClear:"Clear Log File",debugLogEmpty:"Your debug log file is empty",debugLogEmptyDetails:"We will display here the debug log contents as soon as the system starts to log information on the file.",debugLogLoading:"Loading debug log contents...",debugLogLoadingWP:"Loading WordPress debug log contents...",supportRequestIntro:"Need more help?",supportRequestCta:"Ask our support team",guides:{title:"Help Guides",title_contact:"These guides might help you",more:"Show More",less:"Show Less",notFound:"No help guides found.",loading:"Loading help guides...",visit:"Visit Help Center"}},tokenText:{errors:{required:"This field is required",validationError:"This template has invalid syntax. Check your Twig template variables for errors."}}},Qv={defineTranslations(t,e){let s=Ye().isEmpty(e)?Xv:e;t.translations=s}};const tb={translations:{}};var eb={namespaced:!0,state:tb,getters:Yv,actions:Jv,mutations:Qv},sb={editableAppointmentTypeIds:t=>{if(!t.appointmentTypes)return[];let e=t.appointmentTypes.filter((t=>"publish"===t.status));return e.map((t=>t.id))},editableAppointmentTypes:t=>t.appointmentTypes?t.appointmentTypes.filter((t=>"publish"===t.status)):[],deletedAppointmentTypes:t=>t.appointmentTypes?t.appointmentTypes.filter((t=>"delete"===t.status)):[],getAppointmentTypeById:(t,e)=>s=>{if(!t.appointmentTypes.length)return;let i=t.appointmentTypes.find((t=>t.id===s));return i["label"]=e.labelInfo(i.label_id,"color"),i},allCalendarEventTypes:(t,e,s)=>{const i=["event_type_customer","event_type_group_admin","event_type_group_shared","event_type_individual_admin","event_type_individual_shared"];let n={};return i.forEach((t=>{Object.prototype.hasOwnProperty.call(s.settings.calendar_events,t)&&(n[t.replace("event_type_","")]=s.settings.calendar_events[t])})),n},appointmentTypesGroupedByEventType:t=>{if(!t.appointmentTypes)return[];let e={customer:t.appointmentTypes.map((t=>t.id))};return t.appointmentTypes.filter((t=>"publish"===t.status)).forEach((t=>{""!==t.google_calendar_booking&&("0"===t.shared_calendar_event?"group"===t.capacity_type?Object.prototype.hasOwnProperty.call(e,"group_admin")?e.group_admin.push(t.id):e["group_admin"]=[t.id]:"individual"===t.capacity_type&&(Object.prototype.hasOwnProperty.call(e,"individual_admin")?e.individual_admin.push(t.id):e["individual_admin"]=[t.id]):"group"===t.capacity_type?Object.prototype.hasOwnProperty.call(e,"group_shared")?e.group_shared.push(t.id):e["group_shared"]=[t.id]:"individual"===t.capacity_type&&(Object.prototype.hasOwnProperty.call(e,"individual_shared")?e.individual_shared.push(t.id):e["individual_shared"]=[t.id]))})),e},allowedEventTypes:(t,e)=>Object.keys(e.appointmentTypesGroupedByEventType).length?Object.keys(e.appointmentTypesGroupedByEventType):[],groupAppointmentTypeIds:t=>{if(!t.appointmentTypes)return[];let e=t.appointmentTypes.filter((t=>t.capacity>1&&"group"===t.capacity_type));return e.map((t=>t.id))},updatedBulkAppointmentTypes:t=>Ye().isEmpty(t.currentAppointmentType)||Ye().isEmpty(t.bulkEditing)?[]:t.bulkEditing.map((e=>Object.assign({id:e},t.currentAppointmentType))),labelInfo:(t,e,s)=>(t,e)=>{if(Ye().isEmpty(s.labels))return"";if(Ye().isEmpty(s.labels.apptTypeLabels))return"";if(!Ye().isArray(s.labels.apptTypeLabels))return"";if(Ye().isEmpty(e))return"";Ye().isEmpty(t)&&(t="1");let i=s.labels.apptTypeLabels.find((e=>e.id==t));return Ye().isEmpty(i)&&(t="1",i=s.labels.apptTypeLabels.find((e=>e.id==t))),Object.prototype.hasOwnProperty.call(i,e)?i[e]:""},affectedApptTypesOnLabelDelete:(t,e,s)=>{if(Ye().isEmpty(s.labels))return[];if(Ye().isEmpty(s.labels.labelToDelete))return[];if(Ye().isEmpty(t.appointmentTypes))return[];let i=s.labels.labelToDelete,n=t.appointmentTypes.filter((t=>t.label_id===i.id));return n}},ib={fetchAppointmentType({commit:t,state:e,rootState:s,dispatch:i},n){if(n)return new Promise(((a,o)=>{za().ajax({url:s.api.root+"/appointment_types/"+n,method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{i("updateCurrentAppointmentType",s.data),Object.prototype.hasOwnProperty.call(e.currentAppointmentType,"id")&&e.currentAppointmentType.id&&t("setAppointmentType",e.currentAppointmentType),a()})).fail(((t,e,s)=>{o(s)}))}))},fetchAppointmentTypes({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/appointment_types",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setAppointmentTypes",e.data),s()})).fail(((t,e,s)=>{i(s)}))}))},updateAppointmentTypes({commit:t,state:e,rootState:s,getters:i,dispatch:n},a){return new Promise(((o,r)=>{let l=e.appointmentTypes;a&&(t("prepBulkEditingForSave",null),l=i.updatedBulkAppointmentTypes),za().ajax({url:s.api.root+"/appointment_types/bulk",method:"POST",dataType:"json",data:JSON.stringify({items:l}),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((e=>{t("setAppointmentTypes",e.data),n("callAsync",null,{root:!0}),o()})).fail(((t,e,s)=>{r(s)}))}))},updateAppointmentType({state:t,rootState:e,commit:s,dispatch:i}){var n=e.api.root+"/appointment_types",a=t.currentAppointmentType.id?n+"/"+t.currentAppointmentType.id:n;return new Promise(((n,o)=>{za().ajax({url:a,method:"POST",dataType:"json",data:JSON.stringify(t.currentAppointmentType),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{i("updateCurrentAppointmentType",{key:"id",value:e.data.id}),i("updateCurrentAppointmentType",{key:"author_id",value:e.data.author_id}),i("updateCurrentAppointmentType",{key:"slug",value:e.data.slug}),i("updateCurrentAppointmentType",{key:"status",value:e.data.status}),s("setAppointmentType",t.currentAppointmentType),s("setCurrentAppointmentTypeIsDirty",!1),i("callAsync",null,{root:!0}),n()})).fail(((t,e,s)=>{o(s)}))}))},saveAppointmentType({rootState:t,commit:e},s){return new Promise(((i,n)=>{za().ajax({url:t.api.root+"/appointment_types/"+s.id,method:"POST",dataType:"json",data:JSON.stringify(s),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{e("setAppointmentType",s),i()})).fail(((t,e,s)=>{n(s)}))}))},deleteAppointmentType({commit:t,rootState:e},s){var i=e.api.root+"/appointment_types",n=i+"/"+s+"/delete";return new Promise(((i,a)=>{za().ajax({url:n,method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("removeAppointmentType",s),i()})).fail(((t,e,s)=>{a(s)}))}))},recoverAppointmentType({commit:t,rootState:e},s){var i=e.api.root+"/appointment_types",n=i+"/"+s+"/recover";return new Promise(((i,a)=>{za().ajax({url:n,method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setAppointmentTypeProperties",{id:s,status:e.data.status}),i()})).fail(((t,e,s)=>{a(s)}))}))},createNewAppointmentType({commit:t,getters:e,rootState:s}){t("defineNewAppointmentType"),t("defineAppointmentTypeSortOrder",e.editableAppointmentTypes.length+1),t("defineAppointmentTypeCustomerInformation",s.settings),t("defineAppointmentTypeNotifications")},updateCloneAppointmentType({commit:t,dispatch:e,getters:s},i){return new Promise(((n,a)=>{e("fetchAppointmentType",i).then((()=>{t("cloneAppointmentType",i),t("defineAppointmentTypeSortOrder",s.editableAppointmentTypes.length+1),n()})).catch((t=>{a(t)}))}))},updateCurrentAppointmentType({state:t,commit:e},s){t.currentAppointmentType||e("setCurrentAppointmentType",{});const i=Ye().cloneDeep(t.currentAppointmentType);Object.prototype.hasOwnProperty.call(s,"key")?(e("updateCurrentAppointmentType",Ye().cloneDeep(s)),Ye().isEqual(i,t.currentAppointmentType)||e("setCurrentAppointmentTypeIsDirty",!0)):e("setCurrentAppointmentType",Ye().cloneDeep(s))},emptyCurrentAppointmentType({commit:t}){t("setCurrentAppointmentType"),t("setCurrentAppointmentTypeIsDirty",!1)},maybeResetApptTypesLabelToDefault({dispatch:t,getters:e}){if(Ye().isEmpty(e.affectedApptTypesOnLabelDelete))return;let s=e.affectedApptTypesOnLabelDelete;s.forEach((e=>{e.label_id="1",t("saveAppointmentType",e)}))}},nb={addAppointmentType(t){t.appointmentTypes.push(t.currentAppointmentType)},setAppointmentType(t,e){if(t.appointmentTypes){var s=t.appointmentTypes.findIndex((t=>t.id===e.id));s>=0?t.appointmentTypes.splice(s,1,Ye().cloneDeep(e)):t.appointmentTypes.push(Ye().cloneDeep(e))}},setAppointmentTypeProperties(t,e){if(!t.appointmentTypes)return;let s=t.appointmentTypes.findIndex((t=>t.id===e.id));if(s>=0){let i=Ye().cloneDeep(t.appointmentTypes[s]);i=Object.assign(i,e),t.appointmentTypes.splice(s,1,i)}},setAppointmentTypesOrder(t,e){let s=e.map((t=>t.id));e.forEach(((t,e)=>{t.display_order=e}));let i=Ye().cloneDeep(t.appointmentTypes);i=i.filter((t=>s.indexOf(t.id)<0)),t.appointmentTypes=[...i,...e]},setAppointmentTypes(t,e){t.appointmentTypes=e},removeAppointmentType(t,e){var s=t.appointmentTypes.findIndex((t=>t.id===e));let i=Ye().cloneDeep(t.appointmentTypes[s]);i.status="delete",t.appointmentTypes.splice(s,1,i)},cloneAppointmentType(t,e){var s=t.appointmentTypes.find((t=>t.id===e)),i=Ye().cloneDeep(s);i=Object.assign(i,{id:null,date_created:null,date_modified:null,author_id:null}),delete i.slug,t.currentAppointmentType=i},setSelectedAppointmentTypeStatus(t,e){t.selectedApointmentTypeStatus=e},setSelectedAppointmentTypeLabel(t,e){t.selectedAppointmentTypeLabel=e},clearSelectedAppointmentTypeLabel(t){t.selectedAppointmentTypeLabel={}},updateBulkEditing(t,e){t.bulkEditing=e},prepBulkEditingForSave(t){let e=Ye().cloneDeep(t.currentAppointmentType);for(let s in e)(Ye().isObject(e[s])&&Ye().isEmpty(e[s])||!e[s]&&0!==e[s])&&delete e[s];t.currentAppointmentType=e},getAppointmentType(t,e){t.currentAppointmentType=e},defineAppointmentTypeCustomerInformation(t,e){e.installed.license?i["default"].set(t.currentAppointmentType,"custom_customer_information",l):i["default"].set(t.currentAppointmentType,"customer_information",r)},defineAppointmentTypeSortOrder(t,e){i["default"].set(t.currentAppointmentType,"display_order",e)},defineAppointmentTypeNotifications(t){i["default"].set(t.currentAppointmentType,"notifications",m)},defineNewAppointmentType(t){t.currentAppointmentType=Ye().cloneDeep(C)},defineNewEmptyAppointmentType(t){t.currentAppointmentType=Ye().cloneDeep(w)},resetRefreshMomentApptTypes(t){t.refreshMomentApptTypes=H()()},setCurrentAppointmentType(t,e){t.currentAppointmentType=e},updateCurrentAppointmentType(t,e){Object.prototype.hasOwnProperty.call(e,"key")?Ye().isArray(e.key)?i["default"].set(t.currentAppointmentType,e.key.slice(0),e.value):i["default"].set(t.currentAppointmentType,e.key,e.value):t.currentAppointmentType=Ye().cloneDeep(e)},setCurrentAppointmentTypeIsDirty(t,e){t.currentAppointmentTypeIsDirty=e}};const ab={appointmentTypes:void 0,selectedApointmentTypeStatus:"publish",selectedAppointmentTypeLabel:{},bulkEditing:[],currentAppointmentType:void 0,currentAppointmentTypeIsDirty:!1,refreshMomentApptTypes:null};var ob={namespaced:!0,state:ab,getters:sb,actions:ib,mutations:nb},rb={webhooksModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.webhooks,i.upgrade=!s.settings.installed.webhooks,s.settings.webhooks?i.enabled=s.settings.webhooks.enabled&&s.settings.installed.webhooks:i.enabled=!1,i}},lb={updateWebhooksSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/webhooks",method:"POST",dataType:"json",data:JSON.stringify(e.settings.webhooks),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateWebhooksSettings",{value:i.data,settings:e.settings}),s()})).fail((t=>{i(t)}))}))}},pb={updateWebhooksEnabled(t,{value:e,settings:s}){i["default"].set(s.webhooks,"enabled",e)},updateWebhooksSettings(t,{value:e,settings:s}){i["default"].set(s,"webhooks",e)},addSettingsWebhook(t,{webhook:e,settings:s}){s.webhooks.webhooks.splice(s.webhooks.webhooks.length,0,e)},cloneSettingsWebhook(t,{index:e,settings:s}){let i=s.webhooks.webhooks[e],n=Ye().cloneDeep(i);n.token="",s.webhooks.webhooks.splice(s.webhooks.webhooks.length,0,n)},deleteSettingsWebhook(t,{index:e,settings:s}){s.webhooks.webhooks.splice(e,1)},updateSingleWebhook(t,{index:e,webhook:s,settings:i}){i.webhooks.webhooks.splice(e,1,s)}};const db={};var cb={namespaced:!0,state:db,getters:rb,actions:lb,mutations:pb},mb=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Baloo","Baloo Bhai","Baloo Bhaijaan","Baloo Bhaina","Baloo Chettan","Baloo Da","Baloo Paaji","Baloo Tamma","Baloo Tammudu","Baloo Thambi","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Battambang","Baumans","Bayon","Belgrano","Bellefair","Belleza","BenchNine","Bentham","Berkshire Swash","Beth Ellen","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Gothic A1","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Grenze","Griffy","Gruppo","Gudea","Gugi","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Josefin Sans","Josefin Slab","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kumar One","Kumar One Outline","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Muli","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Neucha","Neuton","New Rocker","News Cycle","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Red Hat Display","Red Hat Text","Redressed","Reem Kufi","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Song Myung","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Mono","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trirong","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"],ub={googleFontList(){return mb}},hb={updateStyles({rootState:t}){return new Promise(((e,s)=>{za().ajax({url:t.api.root+"/settings/styles",method:"POST",dataType:"json",data:JSON.stringify(t.settings.styles),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{e()})).fail((t=>{s(t)}))}))}},gb={mergeDefaultStyles(t,e){let s=Ye().cloneDeep(e.styles);Object.keys(s).forEach((t=>""===s[t]&&delete s[t]));let n=Object.assign({},T,s);i["default"].set(e,"styles",n)},resetStyles(t,e){i["default"].set(e,"styles",Ye().cloneDeep(T))},updateAccentColor(t,{value:e,settings:s}){i["default"].set(s.styles,"accent_color",e)},updateBackgroundColor(t,{value:e,settings:s}){i["default"].set(s.styles,"background",e)},updateContrast(t,{value:e,settings:s}){i["default"].set(s.styles,"contrast",e)},updateFont(t,{value:e,settings:s}){i["default"].set(s.styles,"font",e)},updatePadding(t,{value:e,settings:s}){i["default"].set(s.styles,"padding",e)},setCss(t,{value:e,settings:s}){i["default"].set(s.styles,"css",e)}};const _b={};var fb={namespaced:!0,state:_b,getters:ub,actions:hb,mutations:gb},yb={},vb={fetchNoticeToDisplay({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/notices",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setNoticeToDisplay",e.data.notice_to_display),t("setPinnedNotices",e.data.pinned_notices),s()})).fail(((t,e,s)=>{i({xhr:t,error:s})}))}))},saveDismissedNotice({rootState:t},e){return new Promise(((s,i)=>{za().ajax({url:t.api.root+"/notices/"+e,method:"POST",dataType:"json",data:JSON.stringify({global:!0}),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{s()})).fail((t=>{i(t)}))}))},fetchPinnedNotices({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/notices",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setPinnedNotices",e.data.pinned_notices),s()})).fail(((t,e,s)=>{i({xhr:t,error:s})}))}))},savePinnedNotice({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/notices/pinned/"+s,method:"POST",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("addPinnedNotice",e.data.pinned_notice),i()})).fail((t=>{n(t)}))}))},deletePinnedNotice({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/notices/pinned/delete/"+s,method:"POST",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("removePinnedNotice",e.data.pinned_notice),i()})).fail((t=>{console.log(t),n(t)}))}))},maybeSaveNoticeAsPinned({state:t,dispatch:e},s){t.pinnedNotices.includes(s)||e("savePinnedNotice",s)},maybeUnpinNotice({state:t,dispatch:e},s){t.pinnedNotices.includes(s)&&e("deletePinnedNotice",s)},fetchErrorNotices({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/notices-errors",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setErrorNotices",e.data.error_notices),s()})).fail(((t,e,s)=>{i({xhr:t,error:s})}))}))}},bb={setNoticeToDisplay(t,e){t.noticeToDisplay=e},clearNoticeToDisplay(t){t.noticeToDisplay=""},setPinnedNotices(t,e){t.pinnedNotices=e},addPinnedNotice(t,e){t.pinnedNotices.push(e)},removePinnedNotice(t,e){var s=t.pinnedNotices.indexOf(e);t.pinnedNotices.splice(s,1)},setErrorNotices(t,e){t.errorNotices=e}};const kb={noticeToDisplay:void 0,pinnedNotices:void 0,errorNotices:void 0};var Cb={namespaced:!0,state:kb,getters:yb,actions:vb,mutations:bb},Sb={appointmentTypeLabels:t=>Ye().isEmpty(t.apptTypeLabels)?[]:t.apptTypeLabels?.sort(((t,e)=>t.id>e.id?1:-1)),defaultLabel:t=>Ye().isEmpty(t.apptTypeLabels)?{}:Ye().cloneDeep(t.apptTypeLabels.find((t=>"1"==t.id)))},wb={fetchApptTypeLabels({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/appointment_type_labels",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setApptTypeLabels",e.data),s()})).fail(((t,e,s)=>{i({xhr:t,error:s})}))}))},saveNewLabel({state:t,rootState:e,commit:s}){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/appointment_type_labels",method:"POST",dataType:"json",data:JSON.stringify(t.currentApptTypeLabel),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((t=>{s("addLabel",t.data),i(t.data)})).fail((t=>{n(t)}))}))},saveLabel({state:t,rootState:e,commit:s}){var i=e.api.root+"/appointment_type_labels",n=i+"/"+t.currentApptTypeLabel.id;return new Promise(((i,a)=>{za().ajax({url:n,method:"POST",dataType:"json",data:JSON.stringify(t.currentApptTypeLabel),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((t=>{s("setLabel",t.data),i()})).fail((t=>{a(t)}))}))},deleteAppointmentTypeLabel({commit:t,state:e,rootState:s}){var i=s.api.root+"/appointment_type_labels",n=i+"/"+e.labelToDelete.id+"/delete";return new Promise(((i,a)=>{za().ajax({url:n,method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((()=>{t("removeLabel",e.labelToDelete.id),i()})).fail(((t,e,s)=>{a(s)}))}))}},Tb={setApptTypeLabels(t,e){t.apptTypeLabels=e},setCurrentLabel(t,e){t.currentApptTypeLabel=Ye().cloneDeep(e)},setLabel(t,e){let s=t.apptTypeLabels.findIndex((t=>t.id===e.id));t.apptTypeLabels.splice(s,1,e)},addLabel(t,e){t.apptTypeLabels.push(e)},resetCurrentLabel(t){t.currentApptTypeLabel=Ye().cloneDeep(p)},removeLabel(t,e){var s=t.apptTypeLabels.findIndex((t=>t.id==e));t.apptTypeLabels.splice(s,1)},setLabelToDelete(t,e){t.labelToDelete=Ye().cloneDeep(e)},clearLabelToDelete(t){t.labelToDelete={}}};const xb={apptTypeLabels:void 0,currentApptTypeLabel:{},labelToDelete:{}};var Ab={namespaced:!0,state:xb,getters:Sb,actions:wb,mutations:Tb},Pb={},Db={updateDeveloperSettings({rootState:t}){return new Promise(((e,s)=>{za().ajax({url:t.api.root+"/settings/developer",method:"POST",dataType:"json",data:JSON.stringify(t.settings.developer),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{e()})).fail((t=>{s(t)}))}))}},Mb={setDisableAvailabilityCaching(t,{settings:e,value:s}){i["default"].set(e.developer,"disable_availability_caching",s)},setEnqueueEverywhere(t,{settings:e,value:s}){i["default"].set(e.developer,"enqueue_everywhere",s)},setBetaBookingApp(t,{settings:e,value:s}){i["default"].set(e.developer,"beta_booking_app",s)},setBetaUpdates(t,{settings:e,value:s}){i["default"].set(e.developer,"beta_updates",s)},setBookingApiEmbed(t,{settings:e,value:s}){i["default"].set(e.developer,"booking_api_embed",s)},setCapacityAvailability(t,{settings:e,value:s}){i["default"].set(e.developer,"capacity_availability",s)},setRemoveDataOnUninstall(t,{settings:e,value:s}){i["default"].set(e.developer,"remove_data_on_uninstall",s)},setDisplayAppointmentRevisions(t,{settings:e,value:s}){i["default"].set(e.developer,"display_appointment_revisions",s)}};const Eb={};var Lb={namespaced:!0,state:Eb,getters:Pb,actions:Db,mutations:Mb},Ob={},$b={fetchGlobalSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/global",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"global",settings:e.data},{root:!0}),s()})).fail(((t,e,s)=>{i(t,s)}))}))},updateGlobalSettings({commit:t,rootState:e,dispatch:s}){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/settings/global",method:"POST",dataType:"json",data:JSON.stringify(e.settings.global),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{s("callAsync",null,{root:!0}),t("updateSettings",{key:"global",settings:e.data},{root:!0}),i()})).fail((t=>{n(t)}))}))},fetchWPPages({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.home_url+"/wp-json/wp/v2/pages",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setWPPages",e),s()})).fail(((t,e,s)=>{i(t,s)}))}))}},Ib={setAdminPhone(t,{settings:e,value:s}){i["default"].set(e.global,"admin_phone",s)},setCountryCode(t,{settings:e,code:s}){i["default"].set(e.global,"country_code",s)},updateStartOfWeek(t,{settings:e,value:s}){i["default"].set(e.global,"start_of_week",s)},updateTimezoneString(t,{settings:e,value:s}){i["default"].set(e.global,"timezone_string",s)},updateDateFormat(t,{settings:e,value:s}){i["default"].set(e.global,"date_format",s)},updateTimeFormat(t,{settings:e,value:s}){i["default"].set(e.global,"time_format",s)},updateAdminEmail(t,{settings:e,value:s}){i["default"].set(e.global,"admin_email",s)},updateCompanyName(t,{settings:e,value:s}){i["default"].set(e.global,"company_name",s)},updateStaffName(t,{settings:e,value:s}){i["default"].set(e.global,"staff_name",s)},updateWizardCompleted(t,{settings:e,value:s}){i["default"].set(e.global,"wizard_completed",s)},setWPPages(t,e){t.wpPages=e},updateAppointmentPage(t,{settings:e,value:s}){i["default"].set(e.global,"edit_appointment_page_id",s)}};const Nb={wpPages:void 0};var jb={namespaced:!0,state:Nb,getters:Ob,actions:$b,mutations:Ib},zb={},Ub={fetchBlackoutSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/blackout_dates",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"blackout_dates",settings:e.data},{root:!0}),s()})).fail(((t,e,s)=>{i(t,s)}))}))},updateBlackoutSettings({rootState:t,dispatch:e}){return new Promise(((s,i)=>{za().ajax({url:t.api.root+"/settings/blackout_dates",method:"POST",dataType:"json",data:JSON.stringify(t.settings.blackout_dates),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{e("callAsync",null,{root:!0}),s()})).fail((t=>{i(t)}))}))}},Bb={updateBlackoutDates(t,{settings:e,value:s}){i["default"].set(e.blackout_dates,"dates",s)},updateBlackoutEnabled(t,{settings:e,value:s}){i["default"].set(e.blackout_dates,"enabled",s)}};const Fb={};var Gb={namespaced:!0,state:Fb,getters:zb,actions:Ub,mutations:Bb},Wb={googleCalendarAccountName:t=>{let e=t.googleCalendars.find((t=>t.primary));return e?e.title:""},googleCalendarModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.google_calendar,i.upgrade=!s.settings.installed.google_calendar,s.settings.google_calendar?i.enabled=s.settings.google_calendar.enabled&&s.settings.installed.google_calendar:i.enabled=!1,i},googleCalendarAccountEmail:t=>{let e=t.googleCalendars.find((t=>t.primary));return e},writeableGoogleCalendars:t=>t.googleCalendars.filter((t=>"owner"===t.role||"writer"===t.role))},Rb={googleCalendarAuth({commit:t,rootState:e,dispatch:s},i){return Object.prototype.hasOwnProperty.call(i,"staff_id")||(i.staff_id=0),new Promise(((n,a)=>{za().ajax({url:e.api.root+"/google_calendars/authorize_url",method:"GET",dataType:"json",cache:!1,data:i,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateGoogleAuthUrl",e.data.authorize_url),s("callAsync",null,{root:!0}),n()})).fail((t=>{a(t)}))}))},googleCalendarDeauth({commit:t,rootState:e,dispatch:s}){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/google_calendars/disconnect",method:"POST",dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((n=>{t("setGoogleCalendarSettings",{settings:e.settings,value:n.data}),s("callAsync",null,{root:!0}),i()})).fail((t=>{n(t)}))}))},updateGoogleCalendarSettings({commit:t,rootState:e,dispatch:s}){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/settings/google_calendar",method:"POST",dataType:"json",data:JSON.stringify(e.settings.google_calendar),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((n=>{t("setGoogleCalendarSettings",{settings:e.settings,value:n.data}),s("callAsync",null,{root:!0}),i()})).fail((t=>{n(t)}))}))},fetchGoogleCalendars({commit:t,rootState:e},s){return s||(s={}),Object.prototype.hasOwnProperty.call(s,"staff_id")||(s=Object.assign(s,{staff_id:0})),new Promise(((i,n)=>{za().ajax({url:e.api.root+"/google_calendars",method:"GET",cache:!1,dataType:"json",data:s,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{0===s.staff_id?t("updateGoogleCalendars",e.data.google_calendars):e.data&&Object.prototype.hasOwnProperty.call(e.data,"google_calendars")&&t("staff/setStaffGoogleCalendars",e.data.google_calendars,{root:!0}),i()})).fail((t=>{n(t)}))}))},updateCalendarEventsSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/calendar_events",method:"POST",dataType:"json",data:JSON.stringify(e.settings.calendar_events),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateCalendarEventsSettings",{settings:e.settings,data:i.data}),s()})).fail((t=>{i(t)}))}))}},Hb={setGoogleCalendarSettings(t,{settings:e,value:s}){i["default"].set(e,"google_calendar",s)},updateGoogleCalendarClientId(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"client_id",s)},updateGoogleCalendarClientSecret(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"client_secret",s)},updateGoogleCalendarEnabled(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"enabled",s)},setGoogleCalendarWebMeetings(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"web_meetings",s)},setGoogleCalendarDeleteEvents(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"delete_canceled_events",s)},setGoogleCalendarRefreshInterval(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"refresh_interval",s)},updateGoogleCalendars(t,e){t.googleCalendars=e},updateGoogleAuthUrl(t,e){t.googleAuthUrl=e},setCalendarEventType(t,e){i["default"].set(e.settings.calendar_events,`event_type_${e.key}`,e.value)},setCalendarEventsEnabled(t,e){i["default"].set(e.settings.calendar_events,"enabled",e.value)},updateCalendarEventsSettings(t,e){i["default"].set(e.settings.calendar_events,e.data)}};const qb={googleAuthUrl:null,googleCalendars:[]};var Zb={namespaced:!0,state:qb,getters:Wb,actions:Rb,mutations:Hb},Kb={mailchimpModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.mailchimp,i.upgrade=!s.settings.installed.mailchimp,s.settings.mailchimp?i.enabled=s.settings.mailchimp.enabled&&s.settings.installed.mailchimp:i.enabled=!1,i}},Vb={fetchMailchimpLists({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/mailchimp/lists",method:"GET",cache:!1,dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateMailchimpLists",{settings:e.settings,value:i.data.lists}),s()})).fail((t=>{i(t)}))}))},updateMailchimpSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/mailchimp",method:"POST",dataType:"json",data:JSON.stringify(e.settings.mailchimp),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateMailchimpSettings",{settings:e.settings,data:i.data}),s()})).fail((t=>{i(t)}))}))},authorizeMailchimp({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/mailchimp/authorize",method:"POST",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((n=>{n.error?i(n):(t("updateMailchimpSettings",{settings:e.settings,data:n.data}),s())})).fail((t=>{i(t)}))}))},deauthorizeMailchimp({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/mailchimp/deauthorize",method:"POST",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateMailchimpSettings",{settings:e.settings,data:i.data}),s()})).fail((t=>{i(t)}))}))}},Yb={updateMailchimpEnabled(t,e){i["default"].set(e.settings.mailchimp,"enabled",e.value)},updateMailchimpSettings(t,e){i["default"].set(e.settings,"mailchimp",e.data)},updateMailchimpApiKey(t,e){i["default"].set(e.settings.mailchimp,"api_key",e.value)},updateMailchimpAuthorized(t,e){i["default"].set(e.settings.mailchimp,"authorized",e.value)},updateMailchimpLists(t,e){i["default"].set(e.settings.mailchimp,"lists",e.value)}};const Jb={mailchimpLists:[]};var Xb={namespaced:!0,state:Jb,getters:Kb,actions:Vb,mutations:Yb},Qb={zoomModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.zoom,i.upgrade=!s.settings.installed.zoom,s.settings.zoom?i.enabled=s.settings.zoom.enabled&&s.settings.installed.zoom:i.enabled=!1,i}},tk={zoomRedirectURI({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/zoom/redirect_url",method:"GET",cache:!1,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateZoomRedirectUrl",e),s()})).fail((t=>{i(t)}))}))},zoomAuth({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/zoom/authorize_url",method:"GET",dataType:"json",cache:!1,data:s,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateZoomAuthUrl",e.data.authorize_url),i()})).fail((t=>{n(t)}))}))},zoomDeauth({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/zoom/disconnect",method:"POST",dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateZoomSettings",{settings:e.settings,value:i.data}),s()})).fail((t=>{i(t)}))}))},updateZoomSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/settings/zoom",method:"POST",dataType:"json",data:JSON.stringify(e.settings.zoom),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateZoomSettings",{settings:e.settings,value:i.data}),s()})).fail((t=>{i(t)}))}))},fetchZoomUser({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/zoom/me",method:"GET",cache:!1,dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateZoomUser",e),s()})).fail((t=>{i(t)}))}))}},ek={updateZoomEnabled(t,e){i["default"].set(e.settings.zoom,"enabled",e.value)},updateZoomSettings(t,e){e.settings.zoom=e.value},updateZoomUser(t,e){t.zoomUser=e},updateZoomRedirectUrl(t,e){t.zoomRedirectUrl=e},updateZoomAuthUrl(t,e){t.zoomAuthUrl=e}};const sk={zoomAuthUrl:null,zoomRedirectUrl:null,zoomUser:null};var ik={namespaced:!0,state:sk,getters:Qb,actions:tk,mutations:ek},nk={},ak={fetchExportCode({commit:t,rootState:e},s){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/support/export",method:"GET",cache:!1,data:s,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setExportCode",e),i()})).fail(((t,e,s)=>{n(s)}))}))},importJSONCode({rootState:t},e){return new Promise(((s,i)=>{za().ajax({url:t.api.root+"/support/import",method:"POST",cache:!1,data:{content:e},dataType:"json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{s(t)})).fail((t=>{i(t.responseJSON)}))}))},sendSupportMessage({rootState:t},e){return new Promise(((s,i)=>{za().ajax({url:t.api.root+"/support_ticket",method:"POST",data:JSON.stringify(e),dataType:"json",contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{s(t)})).fail(((t,e,s)=>{i(t,s)}))}))}},ok={setExportCode(t,e){t.exportCode=e}};const rk={exportCode:null};var lk={namespaced:!0,state:rk,getters:nk,actions:ak,mutations:ok},pk={},dk={fetchBookingEmbed({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/embed",method:"GET",data:{ajax:!0},cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setBookingEmbed",e),s()})).fail(((t,e,s)=>{i(s)}))}))}},ck={setBookingEmbed(t,e){t.bookingEmbed=e}};const mk={bookingEmbed:null};var uk={namespaced:!0,state:mk,getters:pk,actions:dk,mutations:ck},hk={},gk={fetchLicenseSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/license",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"license",settings:e},{root:!0}),s()})).fail(((t,e,s)=>{i(t,s)}))}))},updateLicenseSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/license",method:"POST",dataType:"json",data:JSON.stringify({license:e.settings.license.license}),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"license",settings:e},{root:!0}),s()})).fail((t=>{i(t)}))}))}},_k={updateLicenseKey(t,e){i["default"].set(e.settings.license,"license",e.value)}};const fk={};var yk={namespaced:!0,state:fk,getters:hk,actions:gk,mutations:_k},vk={supportModule:(t,e,s)=>{let i={installed:!0};return s.settings&&s.settings.installed?(i.installed=s.settings.installed.support,i):i}},bk={fetchSupportDetails({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/support_status",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setSupport",e.data),s()})).fail(((t,e,s)=>{i(s)}))}))},fetchWPDebugLog({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/support_debug/wp",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setWPDebugLog",e),s()})).fail(((t,e,s)=>{i(s)}))}))},fetchSSADebugLog({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/support_debug/ssa",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setSSADebugLog",e),s()})).fail(((t,e,s)=>{i(s)}))}))},clearWPDebugLog({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/support_debug/wp/delete",method:"POST",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("setWPDebugLog",null),s()})).fail(((t,e,s)=>{i(s)}))}))},clearSSADebugLog({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/support_debug/ssa/delete",method:"POST",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("setSSADebugLog",null),s()})).fail(((t,e,s)=>{i(s)}))}))},fetchLogUrls({commit:t,rootState:e}){return new Promise(((s,i)=>{za().ajax({url:e.api.root+"/support_debug/logs",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setLogUrls",e),s()})).fail(((t,e,s)=>{i(s)}))}))},fetchAvailability({rootState:t},e){return new Promise(((s,i)=>{za().ajax({url:t.api.root+"/availability/troubleshoot",method:"GET",data:e,dataType:"json",contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{s(t)})).fail(((t,e,s)=>{i(s)}))}))}},kk={setSupport(t,e){t.support=e},setWPDebugLog(t,e){t.debugLog.wp=e},setSSADebugLog(t,e){t.debugLog.ssa=e},setLogUrls(t,e){t.logUrls=e},setSSADebugMode(t,e){i["default"].set(e.settings.developer,"ssa_debug_mode",e.value)},setWPDebugMode(t,e){i["default"].set(e.settings.developer,"debug_mode",e.value)}};const Ck={support:{},debugLog:{wp:null,ssa:null},logUrls:{wp:null,ssa:null}};var Sk={namespaced:!0,state:Ck,getters:vk,actions:bk,mutations:kk},wk={advancedSchedulingModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.advanced_scheduling,i.upgrade=!s.settings.installed.advanced_scheduling,s.settings.advanced_scheduling?i.enabled=s.settings.advanced_scheduling.enabled&&s.settings.installed.advanced_scheduling:i.enabled=!1,i}},Tk={updateAdvancedSchedulingSettings({commit:t,rootState:e,dispatch:s}){return new Promise(((i,n)=>{za().ajax({url:e.api.root+"/settings/advanced_scheduling",method:"POST",dataType:"json",data:JSON.stringify(e.settings.advanced_scheduling),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((n=>{t("updateAdvancedSchedulingSettings",{settings:e.settings,value:n.data}),s("callAsync",null,{root:!0}),i()})).fail((t=>{n(t)}))}))}},xk={setSeparateAppointmentTypeAvailability(t,e){i["default"].set(e.settings.developer,"separate_appointment_type_availability",e.value)},updateAdvancedSchedulingEnabled(t,e){i["default"].set(e.settings.advanced_scheduling,"enabled",e.value)},updateAdvancedSchedulingSettings(t,e){i["default"].set(e.settings,"advanced_scheduling",e.value)}};const Ak={};var Pk={namespaced:!0,state:Ak,getters:wk,actions:Tk,mutations:xk};i["default"].use(o.ZP);const Dk={api:void 0,telCountryCode:void 0,router:cv,settings:{},timestampFormat:"YYYY-MM-DD HH:mm:ss",user:void 0,refreshMomentSettings:null},Mk={appointments:vv,notifications:Dv,payments:wv,staff:$v,tracking:Uv,guides:Rv,webex:Vv,translations:eb,appointment_types:ob,webhooks:cb,styles:fb,notices:Cb,labels:Ab,developer_settings:Lb,global_settings:jb,blackout:Gb,google_calendar:Zb,mailchimp:Xb,zoom:ik,import_export:lk,booking_embed:uk,license:yk,support:Sk,advanced_scheduling:Pk};var Ek=new o.ZP.Store({state:Dk,getters:mv,actions:uv,mutations:hv,modules:Mk}),Lk={name:"app",store:Ek,components:{loading:nt},data(){return{router:cv,loadingMessage:this.$store.state.translations.translations.general.loadingInitial,loading:!0,error:!1,errorHeading:this.$store.state.translations.translations.errors.heading,errorIntro:this.$store.state.translations.translations.errors.intro,errorGuidesText:this.$store.state.translations.translations.errors.guidesText,errorGuidesLinkLabel:this.$store.state.translations.translations.errors.guidesLinkLabel,errorDetails:this.$store.state.translations.translations.errors.errorDetails,errorMessage:"",errorResponse:null,showErrorResponse:!1,towp:this.$store.state.translations.translations.general.towp,api:window.ssa&&window.ssa.api?window.ssa.api:{},settings:window.ssa_settings?window.ssa_settings:{},user:window.ssa&&window.ssa.user?window.ssa.user:{},apptTypeLabels:window.ssa_appointment_type_labels,pinnedNotices:window.ssa_pinned_notices,errorNotices:window.ssa_error_notices,wpTranslations:{},appointmentTypes:{},isEmbed:window.ssa_is_embed||!1,moment:H()}},beforeCreate(){this.wpTranslations=window.ssa_translations?window.ssa_translations:{},this.$store.commit("translations/defineTranslations",this.wpTranslations),this.appointmentTypes=window.ssa_appointment_types?window.ssa_appointment_types:void 0,this.$store.commit("appointment_types/setAppointmentTypes",this.appointmentTypes)},mounted:function(){this.init()},computed:{...(0,o.Se)("staff",["currentUserCan"]),...(0,o.Se)("guides",["getCurrentGuideKey"])},methods:{init:function(){return"undefined"!==typeof this.$store.state.api||Ye().isEmpty(this.api)?"undefined"===typeof this.$store.state.api?(this.loading=!0,void this.$store.dispatch("fetchApi").then((()=>{this.getGuides({"ssasc-plugin-screen":z["default"]}),this.init()})).catch(((t,e)=>{console.log("Error loading API"),this.showError({error:e.error,response:e.xhr.responseText})}))):"undefined"!==typeof this.$store.state.labels.apptTypeLabels||Ye().isEmpty(this.apptTypeLabels)?"undefined"===typeof this.$store.state.labels.apptTypeLabels?(this.loading=!0,void this.$store.dispatch("labels/fetchApptTypeLabels").then((()=>this.init())).catch((t=>{console.log("Error loading Appointment Type Labels"),this.showError({error:t.error,response:t.xhr.responseText})}))):"undefined"===typeof this.$store.state.notices.noticeToDisplay?(this.loading=!0,void this.$store.dispatch("notices/fetchNoticeToDisplay").then((()=>this.init())).catch((t=>{console.log("Error loading The Notice To Display"),this.showError({error:t.error,response:t.xhr.responseText})}))):"undefined"!==typeof this.$store.state.notices.pinnedNotices||Ye().isEmpty(this.pinnedNotices)?"undefined"===typeof this.$store.state.notices.pinnedNotices?(this.loading=!0,void this.$store.dispatch("notices/fetchPinnedNotices").then((()=>this.init())).catch((t=>{console.log("Error loading Pinned Notices"),this.showError({error:t.error,response:t.xhr.responseText})}))):"undefined"!==typeof this.$store.state.notices.errorNotices||Ye().isEmpty(this.errorNotices)?"undefined"===typeof this.$store.state.notices.errorNotices?(this.loading=!0,void this.$store.dispatch("notices/fetchErrorNotices").then((()=>this.init())).catch((t=>{console.log("Error loading Error Notices"),this.showError({error:t.error,response:t.xhr.responseText})}))):Ye().isEmpty(this.$store.state.settings)&&!Ye().isEmpty(this.settings)?(this.$store.commit("updateAllSettings",this.settings),H().locale(this.$store.state.settings.global.locale),void this.init()):Ye().isEmpty(this.$store.state.settings)?(this.loading=!0,this.loadingMessage=this.$store.state.translations.translations.wizard.settings.general.loading,void this.$store.dispatch("fetchSettings").then((()=>{H().locale(this.$store.state.settings.global.locale),this.init()})).catch((t=>{console.log(t),this.showError({error:t.error,response:t.xhr.responseText})}))):("undefined"===typeof this.$store.state.telCountryCode&&this.$store.dispatch("fetchTelCountryCode"),void(this.loading=!1)):(this.$store.commit("notices/setErrorNotices",this.errorNotices),void this.init()):(this.$store.commit("notices/setPinnedNotices",this.pinnedNotices),void this.init()):(this.$store.commit("labels/setApptTypeLabels",this.apptTypeLabels),void this.init()):(this.$store.commit("defineUser",this.user),this.$store.commit("defineApi",this.api),this.getGuides({"ssasc-plugin-screen":z["default"]}),void this.init())},showError:function(t){this.error=!0,this.errorMessage=t.error.toString(),this.errorResponse=t.response,this.loading=!1},...(0,o.nv)("guides",["getGuides"])}},Ok=Lk,$k=(0,K.Z)(Ok,n,a,!1,null,null,null),Ik=$k.exports,Nk=s(4809),jk=s.n(Nk),zk={install(t){t.component("foxy-checkbox-multi",fh),t.component("foxy-chip",Ru),t.component("foxy-chip-set",Ju),t.component("foxy-form-field",mh),t.component("foxy-menu",Yd)}};const Uk=(t,e)=>{e&&401===e.status&&Bk(e)},Bk=t=>{console.error("Unauthorized: ",t.responseJSON.message),window.ssa?.api.root&&za().ajax({url:window.ssa.api.root+"/user/check",method:"GET"}).done((t=>{t?.data&&!1===t.data.is_user_logged_in&&(window.location.href=window.ssa.api.admin_url)}))};var Fk=s(5579),Gk=s.n(Fk);za()(document).ajaxError(((t,e)=>{Uk(t,e)})),i["default"].config.productionTip=!1,i["default"].use(jk()),i["default"].use(zk),i["default"].use(Gk()),i["default"].material.registerTheme({default:{primary:{color:"light-green",hue:800},accent:{color:"deep-orange",hue:800},warn:"red"},reverse:{primary:{color:"deep-orange",hue:800},accent:{color:"light-green",hue:700}},red:{primary:"red"},pink:{primary:"pink"},purple:{primary:"purple"},"deep-purple":{primary:"deep-purple"},indigo:{primary:"indigo"},blue:{primary:"blue"},"light-blue":{primary:"light-blue"},cyan:{primary:"cyan"},teal:{primary:"teal"},green:{primary:"green"},"light-green":{primary:"light-green"},lime:{primary:"lime"},yellow:{primary:"yellow"},amber:{primary:"amber"},orange:{primary:"orange"},"deep-orange":{primary:"deep-orange"},brown:{primary:"brown"},grey:{primary:"grey"},"blue-grey":{primary:"blue-grey"},white:{primary:"white"},black:{primary:"black"}}),new i["default"]({render:t=>t(Ik),store:Ek,router:cv}).$mount("#ssa-admin-app")},4654:function(){}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,a){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],n=t[d][1],a=t[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(r=!1,a<o&&(o=a));if(r){t.splice(d--,1);var p=n();void 0!==p&&(e=p)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[i,n,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,a,o=i[0],r=i[1],l=i[2],p=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var d=l(s)}for(e&&e(i);p<o.length;p++)a=o[p],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(d)},i=self["webpackChunkssa_admin_app"]=self["webpackChunkssa_admin_app"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(9111)}));i=s.O(i)})();
//# sourceMappingURL=app.js.map